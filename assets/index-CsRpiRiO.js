(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Sf={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function OE(){if(ey)return zl;ey=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:h}}return zl.Fragment=e,zl.jsx=i,zl.jsxs=i,zl}var ny;function ME(){return ny||(ny=1,Sf.exports=OE()),Sf.exports}var q=ME(),bf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function UE(){if(iy)return Et;iy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.iterator;function N(C){return C===null||typeof C!="object"?null:(C=R&&C[R]||C["@@iterator"],typeof C=="function"?C:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,it={};function W(C,X,nt){this.props=C,this.context=X,this.refs=it,this.updater=nt||H}W.prototype.isReactComponent={},W.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},W.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function bt(){}bt.prototype=W.prototype;function Tt(C,X,nt){this.props=C,this.context=X,this.refs=it,this.updater=nt||H}var pt=Tt.prototype=new bt;pt.constructor=Tt,$(pt,W.prototype),pt.isPureReactComponent=!0;var jt=Array.isArray,vt={H:null,A:null,T:null,S:null,V:null},Lt=Object.prototype.hasOwnProperty;function x(C,X,nt,J,ot,Rt){return nt=Rt.ref,{$$typeof:r,type:C,key:X,ref:nt!==void 0?nt:null,props:Rt}}function S(C,X){return x(C.type,X,void 0,void 0,void 0,C.props)}function D(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function I(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return X[nt]})}var O=/\/+/g;function U(C,X){return typeof C=="object"&&C!==null&&C.key!=null?I(""+C.key):X.toString(36)}function w(){}function xe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ie(C,X,nt,J,ot){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var gt=!1;if(C===null)gt=!0;else switch(Rt){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(C.$$typeof){case r:case e:gt=!0;break;case A:return gt=C._init,ie(gt(C._payload),X,nt,J,ot)}}if(gt)return ot=ot(C),gt=J===""?"."+U(C,0):J,jt(ot)?(nt="",gt!=null&&(nt=gt.replace(O,"$&/")+"/"),ie(ot,X,nt,"",function(Ln){return Ln})):ot!=null&&(D(ot)&&(ot=S(ot,nt+(ot.key==null||C&&C.key===ot.key?"":(""+ot.key).replace(O,"$&/")+"/")+gt)),X.push(ot)),1;gt=0;var Re=J===""?".":J+":";if(jt(C))for(var Zt=0;Zt<C.length;Zt++)J=C[Zt],Rt=Re+U(J,Zt),gt+=ie(J,X,nt,Rt,ot);else if(Zt=N(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(J=C.next()).done;)J=J.value,Rt=Re+U(J,Zt++),gt+=ie(J,X,nt,Rt,ot);else if(Rt==="object"){if(typeof C.then=="function")return ie(xe(C),X,nt,J,ot);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return gt}function G(C,X,nt){if(C==null)return C;var J=[],ot=0;return ie(C,J,"","",function(Rt){return X.call(nt,Rt,ot++)}),J}function et(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function zt(){}return Et.Children={map:G,forEach:function(C,X,nt){G(C,function(){X.apply(this,arguments)},nt)},count:function(C){var X=0;return G(C,function(){X++}),X},toArray:function(C){return G(C,function(X){return X})||[]},only:function(C){if(!D(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Et.Component=W,Et.Fragment=i,Et.Profiler=u,Et.PureComponent=Tt,Et.StrictMode=s,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt,Et.__COMPILER_RUNTIME={__proto__:null,c:function(C){return vt.H.useMemoCache(C)}},Et.cache=function(C){return function(){return C.apply(null,arguments)}},Et.cloneElement=function(C,X,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=$({},C.props),ot=C.key,Rt=void 0;if(X!=null)for(gt in X.ref!==void 0&&(Rt=void 0),X.key!==void 0&&(ot=""+X.key),X)!Lt.call(X,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&X.ref===void 0||(J[gt]=X[gt]);var gt=arguments.length-2;if(gt===1)J.children=nt;else if(1<gt){for(var Re=Array(gt),Zt=0;Zt<gt;Zt++)Re[Zt]=arguments[Zt+2];J.children=Re}return x(C.type,ot,void 0,void 0,Rt,J)},Et.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Et.createElement=function(C,X,nt){var J,ot={},Rt=null;if(X!=null)for(J in X.key!==void 0&&(Rt=""+X.key),X)Lt.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ot[J]=X[J]);var gt=arguments.length-2;if(gt===1)ot.children=nt;else if(1<gt){for(var Re=Array(gt),Zt=0;Zt<gt;Zt++)Re[Zt]=arguments[Zt+2];ot.children=Re}if(C&&C.defaultProps)for(J in gt=C.defaultProps,gt)ot[J]===void 0&&(ot[J]=gt[J]);return x(C,Rt,void 0,void 0,null,ot)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(C){return{$$typeof:g,render:C}},Et.isValidElement=D,Et.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:et}},Et.memo=function(C,X){return{$$typeof:v,type:C,compare:X===void 0?null:X}},Et.startTransition=function(C){var X=vt.T,nt={};vt.T=nt;try{var J=C(),ot=vt.S;ot!==null&&ot(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(zt,ut)}catch(Rt){ut(Rt)}finally{vt.T=X}},Et.unstable_useCacheRefresh=function(){return vt.H.useCacheRefresh()},Et.use=function(C){return vt.H.use(C)},Et.useActionState=function(C,X,nt){return vt.H.useActionState(C,X,nt)},Et.useCallback=function(C,X){return vt.H.useCallback(C,X)},Et.useContext=function(C){return vt.H.useContext(C)},Et.useDebugValue=function(){},Et.useDeferredValue=function(C,X){return vt.H.useDeferredValue(C,X)},Et.useEffect=function(C,X,nt){var J=vt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,X)},Et.useId=function(){return vt.H.useId()},Et.useImperativeHandle=function(C,X,nt){return vt.H.useImperativeHandle(C,X,nt)},Et.useInsertionEffect=function(C,X){return vt.H.useInsertionEffect(C,X)},Et.useLayoutEffect=function(C,X){return vt.H.useLayoutEffect(C,X)},Et.useMemo=function(C,X){return vt.H.useMemo(C,X)},Et.useOptimistic=function(C,X){return vt.H.useOptimistic(C,X)},Et.useReducer=function(C,X,nt){return vt.H.useReducer(C,X,nt)},Et.useRef=function(C){return vt.H.useRef(C)},Et.useState=function(C){return vt.H.useState(C)},Et.useSyncExternalStore=function(C,X,nt){return vt.H.useSyncExternalStore(C,X,nt)},Et.useTransition=function(){return vt.H.useTransition()},Et.version="19.1.0",Et}var ay;function sd(){return ay||(ay=1,bf.exports=UE()),bf.exports}var Te=sd(),Rf={exports:{}},Bl={},wf={exports:{}},Df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function LE(){return sy||(sy=1,function(r){function e(G,et){var ut=G.length;G.push(et);t:for(;0<ut;){var zt=ut-1>>>1,C=G[zt];if(0<u(C,et))G[zt]=et,G[ut]=C,ut=zt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var et=G[0],ut=G.pop();if(ut!==et){G[0]=ut;t:for(var zt=0,C=G.length,X=C>>>1;zt<X;){var nt=2*(zt+1)-1,J=G[nt],ot=nt+1,Rt=G[ot];if(0>u(J,ut))ot<C&&0>u(Rt,J)?(G[zt]=Rt,G[ot]=ut,zt=ot):(G[zt]=J,G[nt]=ut,zt=nt);else if(ot<C&&0>u(Rt,ut))G[zt]=Rt,G[ot]=ut,zt=ot;else break t}}return et}function u(G,et){var ut=G.sortIndex-et.sortIndex;return ut!==0?ut:G.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,R=null,N=3,H=!1,$=!1,it=!1,W=!1,bt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function jt(G){for(var et=i(v);et!==null;){if(et.callback===null)s(v);else if(et.startTime<=G)s(v),et.sortIndex=et.expirationTime,e(_,et);else break;et=i(v)}}function vt(G){if(it=!1,jt(G),!$)if(i(_)!==null)$=!0,Lt||(Lt=!0,U());else{var et=i(v);et!==null&&ie(vt,et.startTime-G)}}var Lt=!1,x=-1,S=5,D=-1;function I(){return W?!0:!(r.unstable_now()-D<S)}function O(){if(W=!1,Lt){var G=r.unstable_now();D=G;var et=!0;try{t:{$=!1,it&&(it=!1,Tt(x),x=-1),H=!0;var ut=N;try{e:{for(jt(G),R=i(_);R!==null&&!(R.expirationTime>G&&I());){var zt=R.callback;if(typeof zt=="function"){R.callback=null,N=R.priorityLevel;var C=zt(R.expirationTime<=G);if(G=r.unstable_now(),typeof C=="function"){R.callback=C,jt(G),et=!0;break e}R===i(_)&&s(_),jt(G)}else s(_);R=i(_)}if(R!==null)et=!0;else{var X=i(v);X!==null&&ie(vt,X.startTime-G),et=!1}}break t}finally{R=null,N=ut,H=!1}et=void 0}}finally{et?U():Lt=!1}}}var U;if(typeof pt=="function")U=function(){pt(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,xe=w.port2;w.port1.onmessage=O,U=function(){xe.postMessage(null)}}else U=function(){bt(O,0)};function ie(G,et){x=bt(function(){G(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(G){switch(N){case 1:case 2:case 3:var et=3;break;default:et=N}var ut=N;N=et;try{return G()}finally{N=ut}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=N;N=G;try{return et()}finally{N=ut}},r.unstable_scheduleCallback=function(G,et,ut){var zt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?zt+ut:zt):ut=zt,G){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ut+C,G={id:A++,callback:et,priorityLevel:G,startTime:ut,expirationTime:C,sortIndex:-1},ut>zt?(G.sortIndex=ut,e(v,G),i(_)===null&&G===i(v)&&(it?(Tt(x),x=-1):it=!0,ie(vt,ut-zt))):(G.sortIndex=C,e(_,G),$||H||($=!0,Lt||(Lt=!0,U()))),G},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(G){var et=N;return function(){var ut=N;N=et;try{return G.apply(this,arguments)}finally{N=ut}}}}(Df)),Df}var ry;function zE(){return ry||(ry=1,wf.exports=LE()),wf.exports}var Cf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function BE(){if(ly)return He;ly=1;var r=sd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,A){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:R==null?null:""+R,children:_,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},He.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,R=g(A,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:R,integrity:N,fetchPriority:H}):A==="script"&&s.d.X(_,{crossOrigin:R,integrity:N,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,R=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},He.requestFormReset=function(_){s.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var uy;function jE(){if(uy)return Cf.exports;uy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cf.exports=BE(),Cf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function PE(){if(oy)return Bl;oy=1;var r=zE(),e=sd(),i=jE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),bt=Symbol.for("react.provider"),Tt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case W:return"Profiler";case it:return"StrictMode";case vt:return"Suspense";case Lt:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case pt:return(t.displayName||"Context")+".Provider";case Tt:return(t._context.displayName||"Context")+".Consumer";case jt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:xe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return xe(t(n))}catch{}}return null}var ie=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},zt=[],C=-1;function X(t){return{current:t}}function nt(t){0>C||(t.current=zt[C],zt[C]=null,C--)}function J(t,n){C++,zt[C]=t.current,t.current=n}var ot=X(null),Rt=X(null),gt=X(null),Re=X(null);function Zt(t,n){switch(J(gt,n),J(Rt,t),J(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Vp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Vp(n),t=Ip(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ot),J(ot,t)}function Ln(){nt(ot),nt(Rt),nt(gt)}function Ui(t){t.memoizedState!==null&&J(Re,t);var n=ot.current,a=Ip(n,t.type);n!==a&&(J(Rt,t),J(ot,a))}function ai(t){Rt.current===t&&(nt(ot),nt(Rt)),Re.current===t&&(nt(Re),xl._currentValue=ut)}var Ra=Object.prototype.hasOwnProperty,wa=r.unstable_scheduleCallback,Da=r.unstable_cancelCallback,Vr=r.unstable_shouldYield,su=r.unstable_requestPaint,gn=r.unstable_now,Ac=r.unstable_getCurrentPriorityLevel,Ir=r.unstable_ImmediatePriority,_s=r.unstable_UserBlockingPriority,Ca=r.unstable_NormalPriority,Sc=r.unstable_LowPriority,vs=r.unstable_IdlePriority,Nr=r.log,ru=r.unstable_setDisableYieldValue,ae=null,kt=null;function an(t){if(typeof Nr=="function"&&ru(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(ae,t)}catch{}}var qe=Math.clz32?Math.clz32:Va,lu=Math.log,bc=Math.LN2;function Va(t){return t>>>=0,t===0?32:31-(lu(t)/bc|0)|0}var Ia=256,Na=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Es(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Vn(l):(y&=E,y!==0?c=Vn(y):a||(a=E&~t,a!==0&&(c=Vn(a))))):(E=l&~f,E!==0?c=Vn(E):y!==0?c=Vn(y):a||(a=l&~t,a!==0&&(c=Vn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function xa(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function xr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Or(){var t=Ia;return Ia<<=1,(Ia&4194048)===0&&(Ia=256),t}function Mr(){var t=Na;return Na<<=1,(Na&62914560)===0&&(Na=4194304),t}function si(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ri(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ur(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,B=t.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-qe(a),Y=1<<Q;E[Q]=0,b[Q]=-1;var j=B[Q];if(j!==null)for(B[Q]=null,Q=0;Q<j.length;Q++){var P=j[Q];P!==null&&(P.lane&=-536870913)}a&=~Y}l!==0&&zn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function zn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Lr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-qe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ts(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function zi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Xp(t.type))}function uu(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var Jt=Math.random().toString(36).slice(2),pe="__reactFiber$"+Jt,he="__reactProps$"+Jt,pn="__reactContainer$"+Jt,zr="__reactEvents$"+Jt,Rc="__reactListeners$"+Jt,Bi="__reactHandles$"+Jt,ou="__reactResources$"+Jt,Oa="__reactMarker$"+Jt;function ji(t){delete t[pe],delete t[he],delete t[zr],delete t[Rc],delete t[Bi]}function li(t){var n=t[pe];if(n)return n;for(var a=t.parentNode;a;){if(n=a[pn]||a[pe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Mp(t);t!==null;){if(a=t[pe])return a;t=Mp(t)}return n}t=a,a=t.parentNode}return null}function Bn(t){if(t=t[pe]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function jn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ye(t){var n=t[ou];return n||(n=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Oa]=!0}var Br=new Set,As={};function In(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(As[t]=n,t=0;t<n.length;t++)Br.add(n[t])}var cu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hu={},Ma={};function fu(t){return Ra.call(Ma,t)?!0:Ra.call(hu,t)?!1:cu.test(t)?Ma[t]=!0:(hu[t]=!0,!1)}function Pi(t,n,a){if(fu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Pn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Oe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Ua,du;function oi(t){if(Ua===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ua=n&&n[1]||"",du=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+t+du}var Ss=!1;function bs(t,n){if(!t||Ss)return"";Ss=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(P){var j=P}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(P){j=P}t.call(Y.prototype)}}else{try{throw Error()}catch(P){j=P}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(P){if(P&&j&&typeof P.stack=="string")return[P.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),B=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===B.length)for(l=b.length-1,c=B.length-1;1<=l&&0<=c&&b[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==B[c]){var Q=`
`+b[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{Ss=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?oi(a):""}function jr(t){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return bs(t.type,!1);case 11:return bs(t.type.render,!1);case 1:return bs(t.type,!0);case 31:return oi("Activity");default:return""}}function Rs(t){try{var n="";do n+=jr(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wc(t){var n=Pr(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ws(t){t._valueTracker||(t._valueTracker=wc(t))}function qr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Pr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function La(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dc=/[\n"\\]/g;function fe(t){return t.replace(Dc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?qi(t,y,Ke(n)):a!=null?qi(t,y,Ke(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function za(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ke(a):"",n=n!=null?""+Ke(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function qi(t,n,a){n==="number"&&La(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ci(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ke(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,a){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ke(a):""}function Ba(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ke(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var ja=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mu(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||ja.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function kr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&mu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&mu(t,f,n[f])}function Hr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(t){return Vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hi=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,di=null;function Gr(t){var n=Bn(t);if(n&&(t=n.stateNode)){var a=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(s(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&qr(l)}break t;case"textarea":Qt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ci(t,!!a.multiple,n,!1)}}}var qn=!1;function gu(t,n,a){if(qn)return t(n,a);qn=!0;try{var l=t(n);return l}finally{if(qn=!1,(fi!==null||di!==null)&&(uo(),fi&&(n=fi,t=di,di=fi=null,Gr(n),t)))for(n=0;n<t.length;n++)Gr(t[n])}}function Pa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[he]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Nn)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){vn=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{vn=!1}var kn=null,ki=null,mi=null;function Qr(){if(mi)return mi;var t,n=ki,a=n.length,l,c="value"in kn?kn.value:kn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Fr(){return!1}function we(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:Fr,this.isPropagationStopped=Fr,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var Pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cs=we(Pt),ka=A({},Pt,{view:0,detail:0}),pu=we(ka),Vs,Is,Qn,Ha=A({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Vs=t.screenX-Qn.screenX,Is=t.screenY-Qn.screenY):Is=Vs=0,Qn=t),Vs)},movementY:function(t){return"movementY"in t?t.movementY:Is}}),En=we(Ha),yu=A({},Ha,{dataTransfer:0}),Ic=we(yu),Ga=A({},ka,{relatedTarget:0}),Ns=we(Ga),Yr=A({},Pt,{animationName:0,elapsedTime:0,pseudoElement:0}),xs=we(Yr),_u=A({},Pt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Os=we(_u),Nc=A({},Pt,{data:0}),Kr=we(Nc),Qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xr(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Eu[t])?!!n[t]:!1}function Fa(){return Xr}var Tu=A({},ka,{key:function(t){if(t.key){var n=Qa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ms=we(Tu),Au=A({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zr=we(Au),gi=A({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),Su=we(gi),bu=A({},Pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ru=we(bu),wu=A({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Us=we(wu),Xe=A({},Pt,{newState:0,oldState:0}),Du=we(Xe),Cu=[9,13,27,32],Fn=Nn&&"CompositionEvent"in window,o=null;Nn&&"documentMode"in document&&(o=document.documentMode);var m=Nn&&"TextEvent"in window&&!o,p=Nn&&(!Fn||o&&8<o&&11>=o),T=" ",L=!1;function k(t,n){switch(t){case"keyup":return Cu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function ye(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Nt(t,n){if(It)return t==="compositionend"||!Fn&&k(t,n)?(t=Qr(),mi=ki=kn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function pi(t,n,a,l){fi?di?di.push(l):di=[l]:fi=l,n=go(n,"onChange"),0<n.length&&(a=new Cs("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Me=null,Yn=null;function $r(t){bp(t,0)}function Vu(t){var n=jn(t);if(qr(n))return t}function Qd(t,n){if(t==="change")return n}var Fd=!1;if(Nn){var xc;if(Nn){var Oc="oninput"in document;if(!Oc){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),Oc=typeof Yd.oninput=="function"}xc=Oc}else xc=!1;Fd=xc&&(!document.documentMode||9<document.documentMode)}function Kd(){Me&&(Me.detachEvent("onpropertychange",Xd),Yn=Me=null)}function Xd(t){if(t.propertyName==="value"&&Vu(Yn)){var n=[];pi(n,Yn,t,_n(t)),gu($r,n)}}function o0(t,n,a){t==="focusin"?(Kd(),Me=n,Yn=a,Me.attachEvent("onpropertychange",Xd)):t==="focusout"&&Kd()}function c0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vu(Yn)}function h0(t,n){if(t==="click")return Vu(n)}function f0(t,n){if(t==="input"||t==="change")return Vu(n)}function d0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:d0;function Jr(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Ra.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function Zd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $d(t,n){var a=Zd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Zd(a)}}function Jd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Jd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Wd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=La(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=La(t.document)}return n}function Mc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var m0=Nn&&"documentMode"in document&&11>=document.documentMode,Ls=null,Uc=null,Wr=null,Lc=!1;function tm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lc||Ls==null||Ls!==La(l)||(l=Ls,"selectionStart"in l&&Mc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wr&&Jr(Wr,l)||(Wr=l,l=go(Uc,"onSelect"),0<l.length&&(n=new Cs("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ls)))}function Ya(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var zs={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},zc={},em={};Nn&&(em=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Ka(t){if(zc[t])return zc[t];if(!zs[t])return t;var n=zs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in em)return zc[t]=n[a];return t}var nm=Ka("animationend"),im=Ka("animationiteration"),am=Ka("animationstart"),g0=Ka("transitionrun"),p0=Ka("transitionstart"),y0=Ka("transitioncancel"),sm=Ka("transitionend"),rm=new Map,Bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bc.push("scrollEnd");function xn(t,n){rm.set(t,n),In(n,[t])}var lm=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var a=lm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Rs(n)},lm.set(t,n),n)}return{value:t,source:n,stack:Rs(n)}}var An=[],Bs=0,jc=0;function Iu(){for(var t=Bs,n=jc=Bs=0;n<t;){var a=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&um(a,c,f)}}function Nu(t,n,a,l){An[Bs++]=t,An[Bs++]=n,An[Bs++]=a,An[Bs++]=l,jc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pc(t,n,a,l){return Nu(t,n,a,l),xu(t)}function js(t,n){return Nu(t,null,null,n),xu(t)}function um(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-qe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function xu(t){if(50<bl)throw bl=0,Fh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ps={};function _0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,a,l){return new _0(t,n,a,l)}function qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yi(t,n){var a=t.alternate;return a===null?(a=ln(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function om(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")qc(t)&&(y=1);else if(typeof t=="string")y=EE(t,a,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=ln(31,a,n,c),t.elementType=D,t.lanes=f,t;case $:return Xa(a.children,c,f,n);case it:y=8,c|=24;break;case W:return t=ln(12,a,n,c|2),t.elementType=W,t.lanes=f,t;case vt:return t=ln(13,a,n,c),t.elementType=vt,t.lanes=f,t;case Lt:return t=ln(19,a,n,c),t.elementType=Lt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bt:case pt:y=10;break t;case Tt:y=9;break t;case jt:y=11;break t;case x:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=ln(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Xa(t,n,a,l){return t=ln(7,t,l,n),t.lanes=a,t}function kc(t,n,a){return t=ln(6,t,null,n),t.lanes=a,t}function Hc(t,n,a){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qs=[],ks=0,Mu=null,Uu=0,Sn=[],bn=0,Za=null,_i=1,vi="";function $a(t,n){qs[ks++]=Uu,qs[ks++]=Mu,Mu=t,Uu=n}function cm(t,n,a){Sn[bn++]=_i,Sn[bn++]=vi,Sn[bn++]=Za,Za=t;var l=_i;t=vi;var c=32-qe(l)-1;l&=~(1<<c),a+=1;var f=32-qe(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,_i=1<<32-qe(n)+c|a<<c|l,vi=f+t}else _i=1<<f|a<<c|l,vi=t}function Gc(t){t.return!==null&&($a(t,1),cm(t,1,0))}function Qc(t){for(;t===Mu;)Mu=qs[--ks],qs[ks]=null,Uu=qs[--ks],qs[ks]=null;for(;t===Za;)Za=Sn[--bn],Sn[bn]=null,vi=Sn[--bn],Sn[bn]=null,_i=Sn[--bn],Sn[bn]=null}var Ze=null,se=null,Bt=!1,Ja=null,Kn=!1,Fc=Error(s(519));function Wa(t){var n=Error(s(418,""));throw nl(Tn(n,t)),Fc}function hm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[pe]=t,n[he]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<wl.length;a++)Ct(wl[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),za(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ws(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Ba(n,l.value,l.defaultValue,l.children),ws(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Cp(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=po),n=!0):n=!1,n||Wa(t)}function fm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Ze=Ze.return}}function tl(t){if(t!==Ze)return!1;if(!Bt)return fm(t),Bt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||of(t.type,t.memoizedProps)),a=!a),a&&se&&Wa(t),fm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){se=Mn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,aa(t.type)?(t=df,df=null,se=t):se=n):se=Ze?Mn(t.stateNode.nextSibling):null;return!0}function el(){se=Ze=null,Bt=!1}function dm(){var t=Ja;return t!==null&&(We===null?We=t:We.push.apply(We,t),Ja=null),t}function nl(t){Ja===null?Ja=[t]:Ja.push(t)}var Yc=X(null),ts=null,Ei=null;function Hi(t,n,a){J(Yc,n._currentValue),n._currentValue=a}function Ti(t){t._currentValue=Yc.current,nt(Yc)}function Kc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Xc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Kc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Kc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function il(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;rn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}c=c.return}t!==null&&Xc(n,t,a,l),n.flags|=262144}function Lu(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function es(t){ts=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return mm(ts,t)}function zu(t,n){return ts===null&&es(t),mm(t,n)}function mm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ei===null){if(t===null)throw Error(s(308));Ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ei=Ei.next=n;return a}var v0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},E0=r.unstable_scheduleCallback,T0=r.unstable_NormalPriority,ve={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new v0,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&E0(T0,function(){t.controller.abort()})}var sl=null,$c=0,Hs=0,Gs=null;function A0(t,n){if(sl===null){var a=sl=[];$c=0,Hs=Wh(),Gs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $c++,n.then(gm,gm),n}function gm(){if(--$c===0&&sl!==null){Gs!==null&&(Gs.status="fulfilled");var t=sl;sl=null,Hs=0,Gs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function S0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var pm=G.S;G.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&A0(t,n),pm!==null&&pm(t,n)};var ns=X(null);function Jc(){var t=ns.current;return t!==null?t:$t.pooledCache}function Bu(t,n){n===null?J(ns,ns.current):J(ns,n.pool)}function ym(){var t=Jc();return t===null?null:{parent:ve._currentValue,pool:t}}var rl=Error(s(460)),_m=Error(s(474)),ju=Error(s(542)),Wc={then:function(){}};function vm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pu(){}function Em(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Pu,Pu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Am(t),t;default:if(typeof n.status=="string")n.then(Pu,Pu);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Am(t),t}throw ll=n,rl}}var ll=null;function Tm(){if(ll===null)throw Error(s(459));var t=ll;return ll=null,t}function Am(t){if(t===rl||t===ju)throw Error(s(483))}var Gi=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=xu(t),um(t,null,a),n}return Nu(t,l,n,a),xu(t)}function ul(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Lr(t,a)}}function nh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ih=!1;function ol(){if(ih){var t=Gs;if(t!==null)throw t}}function cl(t,n,a,l){ih=!1;var c=t.updateQueue;Gi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,B=b.next;b.next=null,y===null?f=B:y.next=B,y=b;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=B:E.next=B,Q.lastBaseUpdate=b))}if(f!==null){var Y=c.baseState;y=0,Q=B=b=null,E=f;do{var j=E.lane&-536870913,P=j!==E.lane;if(P?(xt&j)===j:(l&j)===j){j!==0&&j===Hs&&(ih=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var dt=t,ht=E;j=n;var Kt=a;switch(ht.tag){case 1:if(dt=ht.payload,typeof dt=="function"){Y=dt.call(Kt,Y,j);break t}Y=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=ht.payload,j=typeof dt=="function"?dt.call(Kt,Y,j):dt,j==null)break t;Y=A({},Y,j);break t;case 2:Gi=!0}}j=E.callback,j!==null&&(t.flags|=64,P&&(t.flags|=8192),P=c.callbacks,P===null?c.callbacks=[j]:P.push(j))}else P={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(B=Q=P,b=Y):Q=Q.next=P,y|=j;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;P=E,E=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);Q===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=B,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),ta|=y,t.lanes=y,t.memoizedState=Y}}function Sm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function bm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Sm(a[t],n)}var Qs=X(null),qu=X(0);function Rm(t,n){t=Ci,J(qu,t),J(Qs,n),Ci=t|n.baseLanes}function ah(){J(qu,Ci),J(Qs,Qs.current)}function sh(){Ci=qu.current,nt(Qs),nt(qu)}var Yi=0,At=null,Ft=null,de=null,ku=!1,Fs=!1,is=!1,Hu=0,hl=0,Ys=null,b0=0;function ue(){throw Error(s(321))}function rh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!rn(t[a],n[a]))return!1;return!0}function lh(t,n,a,l,c,f){return Yi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?ug:og,is=!1,f=a(l,c),is=!1,Fs&&(f=Dm(n,a,l,c)),wm(t),f}function wm(t){G.H=Xu;var n=Ft!==null&&Ft.next!==null;if(Yi=0,de=Ft=At=null,ku=!1,hl=0,Ys=null,n)throw Error(s(300));t===null||Ce||(t=t.dependencies,t!==null&&Lu(t)&&(Ce=!0))}function Dm(t,n,a,l){At=t;var c=0;do{if(Fs&&(Ys=null),hl=0,Fs=!1,25<=c)throw Error(s(301));if(c+=1,de=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=N0,f=n(a,l)}while(Fs);return f}function R0(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(At.flags|=1024),n}function uh(){var t=Hu!==0;return Hu=0,t}function oh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function ch(t){if(ku){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ku=!1}Yi=0,de=Ft=At=null,Fs=!1,hl=Hu=0,Ys=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?At.memoizedState=de=t:de=de.next=t,de}function me(){if(Ft===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=de===null?At.memoizedState:de.next;if(n!==null)de=n,Ft=t;else{if(t===null)throw At.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},de===null?At.memoizedState=de=t:de=de.next=t}return de}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Ys===null&&(Ys=[]),t=Em(Ys,t,n),n=At,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?ug:og),t}function Gu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===pt)return ke(t)}throw Error(s(438,String(t)))}function fh(t){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=hh(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=I;return n.index++,a}function Ai(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=me();return dh(n,Ft,t)}function dh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,B=n,Q=!1;do{var Y=B.lane&-536870913;if(Y!==B.lane?(xt&Y)===Y:(Yi&Y)===Y){var j=B.revertLane;if(j===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Y===Hs&&(Q=!0);else if((Yi&j)===j){B=B.next,j===Hs&&(Q=!0);continue}else Y={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=Y,y=f):b=b.next=Y,At.lanes|=j,ta|=j;Y=B.action,is&&a(f,Y),f=B.hasEagerState?B.eagerState:a(f,Y)}else j={lane:Y,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},b===null?(E=b=j,y=f):b=b.next=j,At.lanes|=Y,ta|=Y;B=B.next}while(B!==null&&B!==n);if(b===null?y=f:b.next=E,!rn(f,t.memoizedState)&&(Ce=!0,Q&&(a=Gs,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function mh(t){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);rn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Cm(t,n,a){var l=At,c=me(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!rn((Ft||c).memoizedState,a);y&&(c.memoizedState=a,Ce=!0),c=c.queue;var E=Nm.bind(null,l,c,t);if(dl(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,Ks(9,Fu(),Im.bind(null,l,c,a,n),null),$t===null)throw Error(s(349));f||(Yi&124)!==0||Vm(l,n,a)}return a}function Vm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=hh(),At.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Im(t,n,a,l){n.value=a,n.getSnapshot=l,xm(n)&&Om(t)}function Nm(t,n,a){return a(function(){xm(n)&&Om(t)})}function xm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!rn(t,a)}catch{return!0}}function Om(t){var n=js(t,2);n!==null&&fn(n,t,2)}function gh(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),is){an(!0);try{a()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n}function Mm(t,n,a,l){return t.baseState=a,dh(t,Ft,typeof l=="function"?l:Ai)}function w0(t,n,a,l,c){if(Ku(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Um(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Um(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var E=a(c,l),b=G.S;b!==null&&b(y,E),Lm(t,n,E)}catch(B){ph(t,n,B)}finally{G.T=f}}else try{f=a(c,l),Lm(t,n,f)}catch(B){ph(t,n,B)}}function Lm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zm(t,n,l)},function(l){return ph(t,n,l)}):zm(t,n,a)}function zm(t,n,a){n.status="fulfilled",n.value=a,Bm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Um(t,a)))}function ph(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Bm(n),n=n.next;while(n!==l)}t.action=null}function Bm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function jm(t,n){return n}function Pm(t,n){if(Bt){var a=$t.formState;if(a!==null){t:{var l=At;if(Bt){if(se){e:{for(var c=se,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=Mn(c.nextSibling),l=c.data==="F!";break t}}Wa(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jm,lastRenderedState:n},a.queue=l,a=sg.bind(null,At,l),l.dispatch=a,l=gh(!1),f=Th.bind(null,At,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=w0.bind(null,At,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function qm(t){var n=me();return km(n,Ft,t)}function km(t,n,a){if(n=dh(t,n,jm)[0],t=Qu(Ai)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fl(n)}catch(y){throw y===rl?ju:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(At.flags|=2048,Ks(9,Fu(),D0.bind(null,c,a),null)),[l,f,t]}function D0(t,n){t.action=n}function Hm(t){var n=me(),a=Ft;if(a!==null)return km(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ks(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=hh(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Fu(){return{destroy:void 0,resource:void 0}}function Gm(){return me().memoizedState}function Yu(t,n,a,l){var c=$e();l=l===void 0?null:l,At.flags|=t,c.memoizedState=Ks(1|n,Fu(),a,l)}function dl(t,n,a,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&rh(l,Ft.memoizedState.deps)?c.memoizedState=Ks(n,f,a,l):(At.flags|=t,c.memoizedState=Ks(1|n,f,a,l))}function Qm(t,n){Yu(8390656,8,t,n)}function Fm(t,n){dl(2048,8,t,n)}function Ym(t,n){return dl(4,2,t,n)}function Km(t,n){return dl(4,4,t,n)}function Xm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Zm(t,n,a){a=a!=null?a.concat([t]):null,dl(4,4,Xm.bind(null,n,t),a)}function yh(){}function $m(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&rh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Jm(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&rh(n,l[1]))return l[0];if(l=t(),is){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,n],l}function _h(t,n,a){return a===void 0||(Yi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=ep(),At.lanes|=t,ta|=t,a)}function Wm(t,n,a,l){return rn(a,n)?a:Qs.current!==null?(t=_h(t,a,l),rn(t,n)||(Ce=!0),t):(Yi&42)===0?(Ce=!0,t.memoizedState=a):(t=ep(),At.lanes|=t,ta|=t,n)}function tg(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=G.T,E={};G.T=E,Th(t,!1,n,a);try{var b=c(),B=G.S;if(B!==null&&B(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var Q=S0(b,l);ml(t,n,Q,hn(t))}else ml(t,n,l,hn(t))}catch(Y){ml(t,n,{then:function(){},status:"rejected",reason:Y},hn())}finally{et.p=f,G.T=y}}function C0(){}function vh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=eg(t).queue;tg(t,c,n,ut,a===null?C0:function(){return ng(t),a(l)})}function eg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:ut},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ng(t){var n=eg(t).next.queue;ml(t,n,{},hn())}function Eh(){return ke(xl)}function ig(){return me().memoizedState}function ag(){return me().memoizedState}function V0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=hn();t=Qi(a);var l=Fi(n,t,a);l!==null&&(fn(l,n,a),ul(l,n,a)),n={cache:Zc()},t.payload=n;return}n=n.return}}function I0(t,n,a){var l=hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ku(t)?rg(n,a):(a=Pc(t,n,a,l),a!==null&&(fn(a,t,l),lg(a,n,l)))}function sg(t,n,a){var l=hn();ml(t,n,a,l)}function ml(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ku(t))rg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,rn(E,y))return Nu(t,n,c,0),$t===null&&Iu(),!1}catch{}finally{}if(a=Pc(t,n,c,l),a!==null)return fn(a,t,l),lg(a,n,l),!0}return!1}function Th(t,n,a,l){if(l={lane:2,revertLane:Wh(),action:l,hasEagerState:!1,eagerState:null,next:null},Ku(t)){if(n)throw Error(s(479))}else n=Pc(t,a,l,2),n!==null&&fn(n,t,2)}function Ku(t){var n=t.alternate;return t===At||n!==null&&n===At}function rg(t,n){Fs=ku=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function lg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Lr(t,a)}}var Xu={readContext:ke,use:Gu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},ug={readContext:ke,use:Gu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:Qm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Yu(4194308,4,Xm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Yu(4194308,4,t,n)},useInsertionEffect:function(t,n){Yu(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(is){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(is){an(!0);try{a(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=I0.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=gh(t);var n=t.queue,a=sg.bind(null,At,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:yh,useDeferredValue:function(t,n){var a=$e();return _h(a,t,n)},useTransition:function(){var t=gh(!1);return t=tg.bind(null,At,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=At,c=$e();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),$t===null)throw Error(s(349));(xt&124)!==0||Vm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Qm(Nm.bind(null,l,f,t),[t]),l.flags|=2048,Ks(9,Fu(),Im.bind(null,l,f,a,n),null),a},useId:function(){var t=$e(),n=$t.identifierPrefix;if(Bt){var a=vi,l=_i;a=(l&~(1<<32-qe(l)-1)).toString(32)+a,n=""+n+"R"+a,a=Hu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=b0++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Eh,useFormState:Pm,useActionState:Pm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Th.bind(null,At,!0,a),a.dispatch=n,[t,n]},useMemoCache:fh,useCacheRefresh:function(){return $e().memoizedState=V0.bind(null,At)}},og={readContext:ke,use:Gu,useCallback:$m,useContext:ke,useEffect:Fm,useImperativeHandle:Zm,useInsertionEffect:Ym,useLayoutEffect:Km,useMemo:Jm,useReducer:Qu,useRef:Gm,useState:function(){return Qu(Ai)},useDebugValue:yh,useDeferredValue:function(t,n){var a=me();return Wm(a,Ft.memoizedState,t,n)},useTransition:function(){var t=Qu(Ai)[0],n=me().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Cm,useId:ig,useHostTransitionStatus:Eh,useFormState:qm,useActionState:qm,useOptimistic:function(t,n){var a=me();return Mm(a,Ft,t,n)},useMemoCache:fh,useCacheRefresh:ag},N0={readContext:ke,use:Gu,useCallback:$m,useContext:ke,useEffect:Fm,useImperativeHandle:Zm,useInsertionEffect:Ym,useLayoutEffect:Km,useMemo:Jm,useReducer:mh,useRef:Gm,useState:function(){return mh(Ai)},useDebugValue:yh,useDeferredValue:function(t,n){var a=me();return Ft===null?_h(a,t,n):Wm(a,Ft.memoizedState,t,n)},useTransition:function(){var t=mh(Ai)[0],n=me().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Cm,useId:ig,useHostTransitionStatus:Eh,useFormState:Hm,useActionState:Hm,useOptimistic:function(t,n){var a=me();return Ft!==null?Mm(a,Ft,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:fh,useCacheRefresh:ag},Xs=null,gl=0;function Zu(t){var n=gl;return gl+=1,Xs===null&&(Xs=[]),Em(Xs,t,n)}function pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $u(t,n){throw n.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function cg(t){var n=t._init;return n(t._payload)}function hg(t){function n(M,V){if(t){var z=M.deletions;z===null?(M.deletions=[V],M.flags|=16):z.push(V)}}function a(M,V){if(!t)return null;for(;V!==null;)n(M,V),V=V.sibling;return null}function l(M){for(var V=new Map;M!==null;)M.key!==null?V.set(M.key,M):V.set(M.index,M),M=M.sibling;return V}function c(M,V){return M=yi(M,V),M.index=0,M.sibling=null,M}function f(M,V,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<V?(M.flags|=67108866,V):z):(M.flags|=67108866,V)):(M.flags|=1048576,V)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,V,z,F){return V===null||V.tag!==6?(V=kc(z,M.mode,F),V.return=M,V):(V=c(V,z),V.return=M,V)}function b(M,V,z,F){var st=z.type;return st===$?Q(M,V,z.props.children,F,z.key):V!==null&&(V.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&cg(st)===V.type)?(V=c(V,z.props),pl(V,z),V.return=M,V):(V=Ou(z.type,z.key,z.props,null,M.mode,F),pl(V,z),V.return=M,V)}function B(M,V,z,F){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Hc(z,M.mode,F),V.return=M,V):(V=c(V,z.children||[]),V.return=M,V)}function Q(M,V,z,F,st){return V===null||V.tag!==7?(V=Xa(z,M.mode,F,st),V.return=M,V):(V=c(V,z),V.return=M,V)}function Y(M,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=kc(""+V,M.mode,z),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return z=Ou(V.type,V.key,V.props,null,M.mode,z),pl(z,V),z.return=M,z;case H:return V=Hc(V,M.mode,z),V.return=M,V;case S:var F=V._init;return V=F(V._payload),Y(M,V,z)}if(ie(V)||U(V))return V=Xa(V,M.mode,z,null),V.return=M,V;if(typeof V.then=="function")return Y(M,Zu(V),z);if(V.$$typeof===pt)return Y(M,zu(M,V),z);$u(M,V)}return null}function j(M,V,z,F){var st=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return st!==null?null:E(M,V,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case N:return z.key===st?b(M,V,z,F):null;case H:return z.key===st?B(M,V,z,F):null;case S:return st=z._init,z=st(z._payload),j(M,V,z,F)}if(ie(z)||U(z))return st!==null?null:Q(M,V,z,F,null);if(typeof z.then=="function")return j(M,V,Zu(z),F);if(z.$$typeof===pt)return j(M,V,zu(M,z),F);$u(M,z)}return null}function P(M,V,z,F,st){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(z)||null,E(V,M,""+F,st);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case N:return M=M.get(F.key===null?z:F.key)||null,b(V,M,F,st);case H:return M=M.get(F.key===null?z:F.key)||null,B(V,M,F,st);case S:var wt=F._init;return F=wt(F._payload),P(M,V,z,F,st)}if(ie(F)||U(F))return M=M.get(z)||null,Q(V,M,F,st,null);if(typeof F.then=="function")return P(M,V,z,Zu(F),st);if(F.$$typeof===pt)return P(M,V,z,zu(V,F),st);$u(V,F)}return null}function dt(M,V,z,F){for(var st=null,wt=null,rt=V,ft=V=0,Ie=null;rt!==null&&ft<z.length;ft++){rt.index>ft?(Ie=rt,rt=null):Ie=rt.sibling;var Ut=j(M,rt,z[ft],F);if(Ut===null){rt===null&&(rt=Ie);break}t&&rt&&Ut.alternate===null&&n(M,rt),V=f(Ut,V,ft),wt===null?st=Ut:wt.sibling=Ut,wt=Ut,rt=Ie}if(ft===z.length)return a(M,rt),Bt&&$a(M,ft),st;if(rt===null){for(;ft<z.length;ft++)rt=Y(M,z[ft],F),rt!==null&&(V=f(rt,V,ft),wt===null?st=rt:wt.sibling=rt,wt=rt);return Bt&&$a(M,ft),st}for(rt=l(rt);ft<z.length;ft++)Ie=P(rt,M,ft,z[ft],F),Ie!==null&&(t&&Ie.alternate!==null&&rt.delete(Ie.key===null?ft:Ie.key),V=f(Ie,V,ft),wt===null?st=Ie:wt.sibling=Ie,wt=Ie);return t&&rt.forEach(function(oa){return n(M,oa)}),Bt&&$a(M,ft),st}function ht(M,V,z,F){if(z==null)throw Error(s(151));for(var st=null,wt=null,rt=V,ft=V=0,Ie=null,Ut=z.next();rt!==null&&!Ut.done;ft++,Ut=z.next()){rt.index>ft?(Ie=rt,rt=null):Ie=rt.sibling;var oa=j(M,rt,Ut.value,F);if(oa===null){rt===null&&(rt=Ie);break}t&&rt&&oa.alternate===null&&n(M,rt),V=f(oa,V,ft),wt===null?st=oa:wt.sibling=oa,wt=oa,rt=Ie}if(Ut.done)return a(M,rt),Bt&&$a(M,ft),st;if(rt===null){for(;!Ut.done;ft++,Ut=z.next())Ut=Y(M,Ut.value,F),Ut!==null&&(V=f(Ut,V,ft),wt===null?st=Ut:wt.sibling=Ut,wt=Ut);return Bt&&$a(M,ft),st}for(rt=l(rt);!Ut.done;ft++,Ut=z.next())Ut=P(rt,M,ft,Ut.value,F),Ut!==null&&(t&&Ut.alternate!==null&&rt.delete(Ut.key===null?ft:Ut.key),V=f(Ut,V,ft),wt===null?st=Ut:wt.sibling=Ut,wt=Ut);return t&&rt.forEach(function(xE){return n(M,xE)}),Bt&&$a(M,ft),st}function Kt(M,V,z,F){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case N:t:{for(var st=z.key;V!==null;){if(V.key===st){if(st=z.type,st===$){if(V.tag===7){a(M,V.sibling),F=c(V,z.props.children),F.return=M,M=F;break t}}else if(V.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&cg(st)===V.type){a(M,V.sibling),F=c(V,z.props),pl(F,z),F.return=M,M=F;break t}a(M,V);break}else n(M,V);V=V.sibling}z.type===$?(F=Xa(z.props.children,M.mode,F,z.key),F.return=M,M=F):(F=Ou(z.type,z.key,z.props,null,M.mode,F),pl(F,z),F.return=M,M=F)}return y(M);case H:t:{for(st=z.key;V!==null;){if(V.key===st)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(M,V.sibling),F=c(V,z.children||[]),F.return=M,M=F;break t}else{a(M,V);break}else n(M,V);V=V.sibling}F=Hc(z,M.mode,F),F.return=M,M=F}return y(M);case S:return st=z._init,z=st(z._payload),Kt(M,V,z,F)}if(ie(z))return dt(M,V,z,F);if(U(z)){if(st=U(z),typeof st!="function")throw Error(s(150));return z=st.call(z),ht(M,V,z,F)}if(typeof z.then=="function")return Kt(M,V,Zu(z),F);if(z.$$typeof===pt)return Kt(M,V,zu(M,z),F);$u(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(M,V.sibling),F=c(V,z),F.return=M,M=F):(a(M,V),F=kc(z,M.mode,F),F.return=M,M=F),y(M)):a(M,V)}return function(M,V,z,F){try{gl=0;var st=Kt(M,V,z,F);return Xs=null,st}catch(rt){if(rt===rl||rt===ju)throw rt;var wt=ln(29,rt,null,M.mode);return wt.lanes=F,wt.return=M,wt}finally{}}}var Zs=hg(!0),fg=hg(!1),Rn=X(null),Xn=null;function Ki(t){var n=t.alternate;J(Ee,Ee.current&1),J(Rn,t),Xn===null&&(n===null||Qs.current!==null||n.memoizedState!==null)&&(Xn=t)}function dg(t){if(t.tag===22){if(J(Ee,Ee.current),J(Rn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else Xi()}function Xi(){J(Ee,Ee.current),J(Rn,Rn.current)}function Si(t){nt(Rn),Xn===t&&(Xn=null),nt(Ee)}var Ee=X(0);function Ju(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ff(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ah(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Sh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=hn(),c=Qi(l);c.payload=n,a!=null&&(c.callback=a),n=Fi(t,c,l),n!==null&&(fn(n,t,l),ul(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=hn(),c=Qi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Fi(t,c,l),n!==null&&(fn(n,t,l),ul(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=hn(),l=Qi(a);l.tag=2,n!=null&&(l.callback=n),n=Fi(t,l,a),n!==null&&(fn(n,t,a),ul(n,t,a))}};function mg(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Jr(a,l)||!Jr(c,f):!0}function gg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Sh.enqueueReplaceState(n,n.state,null)}function as(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function pg(t){Wu(t)}function yg(t){console.error(t)}function _g(t){Wu(t)}function to(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function vg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function bh(t,n,a){return a=Qi(a),a.tag=3,a.payload={element:null},a.callback=function(){to(t,n)},a}function Eg(t){return t=Qi(t),t.tag=3,t}function Tg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){vg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){vg(n,a,l),typeof c!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function x0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&il(n,a,c,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return Xn===null?Kh():a.alternate===null&&re===0&&(re=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Wc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Zh(t,l,c)),!1;case 22:return a.flags|=65536,l===Wc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Zh(t,l,c)),!1}throw Error(s(435,a.tag))}return Zh(t,l,c),Kh(),!1}if(Bt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Fc&&(t=Error(s(422),{cause:l}),nl(Tn(t,a)))):(l!==Fc&&(n=Error(s(423),{cause:l}),nl(Tn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,a),c=bh(t.stateNode,l,c),nh(t,c),re!==4&&(re=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,a),Sl===null?Sl=[f]:Sl.push(f),re!==4&&(re=2),n===null)return!0;l=Tn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=bh(a.stateNode,l,t),nh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ea===null||!ea.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Eg(c),Tg(c,t,a,l),nh(a,c),!1}a=a.return}while(a!==null);return!1}var Ag=Error(s(461)),Ce=!1;function Ue(t,n,a,l){n.child=t===null?fg(n,null,a,l):Zs(n,t.child,a,l)}function Sg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return es(n),l=lh(t,n,a,y,f,c),E=uh(),t!==null&&!Ce?(oh(t,n,c),bi(t,n,c)):(Bt&&E&&Gc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function bg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!qc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Rg(t,n,f,l,c)):(t=Ou(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!xh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Jr,a(y,l)&&t.ref===n.ref)return bi(t,n,c)}return n.flags|=1,t=yi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Rg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Jr(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,xh(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,bi(t,n,c)}return Rh(t,n,a,l,c)}function wg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Dg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?Rm(n,f):ah(),dg(n);else return n.lanes=n.childLanes=536870912,Dg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Bu(n,f.cachePool),Rm(n,f),Xi(),n.memoizedState=null):(t!==null&&Bu(n,null),ah(),Xi());return Ue(t,n,c,a),n.child}function Dg(t,n,a,l){var c=Jc();return c=c===null?null:{parent:ve._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Bu(n,null),ah(),dg(n),t!==null&&il(t,n,l,!0),null}function eo(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Rh(t,n,a,l,c){return es(n),a=lh(t,n,a,l,void 0,c),l=uh(),t!==null&&!Ce?(oh(t,n,c),bi(t,n,c)):(Bt&&l&&Gc(n),n.flags|=1,Ue(t,n,a,c),n.child)}function Cg(t,n,a,l,c,f){return es(n),n.updateQueue=null,a=Dm(n,l,a,c),wm(t),l=uh(),t!==null&&!Ce?(oh(t,n,f),bi(t,n,f)):(Bt&&l&&Gc(n),n.flags|=1,Ue(t,n,a,f),n.child)}function Vg(t,n,a,l,c){if(es(n),n.stateNode===null){var f=Ps,y=a.contextType;typeof y=="object"&&y!==null&&(f=ke(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},th(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?ke(y):Ps,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Ah(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Sh.enqueueReplaceState(f,f.state,null),cl(n,l,f,c),ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=as(a,E);f.props=b;var B=f.context,Q=a.contextType;y=Ps,typeof Q=="object"&&Q!==null&&(y=ke(Q));var Y=a.getDerivedStateFromProps;Q=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==y)&&gg(n,f,l,y),Gi=!1;var j=n.memoizedState;f.state=j,cl(n,l,f,c),ol(),B=n.memoizedState,E||j!==B||Gi?(typeof Y=="function"&&(Ah(n,a,Y,l),B=n.memoizedState),(b=Gi||mg(n,a,b,l,j,B,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,eh(t,n),y=n.memoizedProps,Q=as(a,y),f.props=Q,Y=n.pendingProps,j=f.context,B=a.contextType,b=Ps,typeof B=="object"&&B!==null&&(b=ke(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Y||j!==b)&&gg(n,f,l,b),Gi=!1,j=n.memoizedState,f.state=j,cl(n,l,f,c),ol();var P=n.memoizedState;y!==Y||j!==P||Gi||t!==null&&t.dependencies!==null&&Lu(t.dependencies)?(typeof E=="function"&&(Ah(n,a,E,l),P=n.memoizedState),(Q=Gi||mg(n,a,Q,l,j,P,b)||t!==null&&t.dependencies!==null&&Lu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,P,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,P,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=b,l=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,eo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Zs(n,t.child,null,c),n.child=Zs(n,null,a,c)):Ue(t,n,a,c),n.memoizedState=f.state,t=n.child):t=bi(t,n,c),t}function Ig(t,n,a,l){return el(),n.flags|=256,Ue(t,n,a,l),n.child}var wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(t){return{baseLanes:t,cachePool:ym()}}function Ch(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=wn),t}function Ng(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Ki(n):Xi(),Bt){var E=se,b;if(b=E){t:{for(b=E,E=Kn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Mn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Za!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},b=ln(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,se=null,b=!0):b=!1}b||Wa(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ff(E)?n.lanes=32:n.lanes=536870912,null;Si(n)}return E=l.children,l=l.fallback,c?(Xi(),c=n.mode,E=no({mode:"hidden",children:E},c),l=Xa(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Dh(a),c.childLanes=Ch(t,y,a),n.memoizedState=wh,l):(Ki(n),Vh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Ki(n),n.flags&=-257,n=Ih(t,n,a)):n.memoizedState!==null?(Xi(),n.child=t.child,n.flags|=128,n=null):(Xi(),c=l.fallback,E=n.mode,l=no({mode:"visible",children:l.children},E),c=Xa(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Zs(n,t.child,null,a),l=n.child,l.memoizedState=Dh(a),l.childLanes=Ch(t,y,a),n.memoizedState=wh,n=c);else if(Ki(n),ff(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(s(419)),l.stack="",l.digest=y,nl({value:l,source:null,stack:null}),n=Ih(t,n,a)}else if(Ce||il(t,n,a,!1),y=(a&t.childLanes)!==0,Ce||y){if(y=$t,y!==null&&(l=a&-a,l=(l&42)!==0?1:Li(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,js(t,l),fn(y,t,l),Ag;E.data==="$?"||Kh(),n=Ih(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,se=Mn(E.nextSibling),Ze=n,Bt=!0,Ja=null,Kn=!1,t!==null&&(Sn[bn++]=_i,Sn[bn++]=vi,Sn[bn++]=Za,_i=t.id,vi=t.overflow,Za=n),n=Vh(n,l.children),n.flags|=4096);return n}return c?(Xi(),c=l.fallback,E=n.mode,b=t.child,B=b.sibling,l=yi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,B!==null?c=yi(B,c):(c=Xa(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Dh(a):(b=E.cachePool,b!==null?(B=ve._currentValue,b=b.parent!==B?{parent:B,pool:B}:b):b=ym(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=Ch(t,y,a),n.memoizedState=wh,l):(Ki(n),a=t.child,t=a.sibling,a=yi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Vh(t,n){return n=no({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function no(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ih(t,n,a){return Zs(n,t.child,null,a),t=Vh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function xg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Kc(t.return,n,a)}function Nh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Og(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,a),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xg(t,a,n);else if(t.tag===19)xg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Ee,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Ju(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Nh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ju(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Nh(n,!0,a,null,f);break;case"together":Nh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ta|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(il(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=yi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=yi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function xh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Lu(t)))}function O0(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Hi(n,ve,t.memoizedState.cache),el();break;case 27:case 5:Ui(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Hi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ki(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ng(t,n,a):(Ki(n),t=bi(t,n,a),t!==null?t.sibling:null);Ki(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(il(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Og(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,wg(t,n,a);case 24:Hi(n,ve,t.memoizedState.cache)}return bi(t,n,a)}function Mg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!xh(t,a)&&(n.flags&128)===0)return Ce=!1,O0(t,n,a);Ce=(t.flags&131072)!==0}else Ce=!1,Bt&&(n.flags&1048576)!==0&&cm(n,Uu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")qc(l)?(t=as(l,t),n.tag=1,n=Vg(null,n,l,t,a)):(n.tag=0,n=Rh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===jt){n.tag=11,n=Sg(null,n,l,t,a);break t}else if(c===x){n.tag=14,n=bg(null,n,l,t,a);break t}}throw n=xe(l)||l,Error(s(306,n,""))}}return n;case 0:return Rh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=as(l,n.pendingProps),Vg(t,n,l,c,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,eh(t,n),cl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Hi(n,ve,l),l!==f.cache&&Xc(n,[ve],a,!0),ol(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Ig(t,n,l,a);break t}else if(l!==c){c=Tn(Error(s(424)),n),nl(c),n=Ig(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=Mn(t.firstChild),Ze=n,Bt=!0,Ja=null,Kn=!0,a=fg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(el(),l===c){n=bi(t,n,a);break t}Ue(t,n,l,a)}n=n.child}return n;case 26:return eo(t,n),t===null?(a=Bp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=yo(gt.current).createElement(a),l[pe]=n,l[he]=t,ze(l,a,t),le(l),n.stateNode=l):n.memoizedState=Bp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ui(n),t===null&&Bt&&(l=n.stateNode=Up(n.type,n.pendingProps,gt.current),Ze=n,Kn=!0,c=se,aa(n.type)?(df=c,se=Mn(l.firstChild)):se=c),Ue(t,n,n.pendingProps.children,a),eo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=se)&&(l=lE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Ze=n,se=Mn(l.firstChild),Kn=!1,c=!0):c=!1),c||Wa(n)),Ui(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,of(c,f)?l=null:y!==null&&of(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=lh(t,n,R0,null,null,a),xl._currentValue=c),eo(t,n),Ue(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=se)&&(a=uE(a,n.pendingProps,Kn),a!==null?(n.stateNode=a,Ze=n,se=null,t=!0):t=!1),t||Wa(n)),null;case 13:return Ng(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Zs(n,null,l,a):Ue(t,n,l,a),n.child;case 11:return Sg(t,n,n.type,n.pendingProps,a);case 7:return Ue(t,n,n.pendingProps,a),n.child;case 8:return Ue(t,n,n.pendingProps.children,a),n.child;case 12:return Ue(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Hi(n,n.type,l.value),Ue(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,es(n),c=ke(c),l=l(c),n.flags|=1,Ue(t,n,l,a),n.child;case 14:return bg(t,n,n.type,n.pendingProps,a);case 15:return Rg(t,n,n.type,n.pendingProps,a);case 19:return Og(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=no(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=yi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return wg(t,n,a);case 24:return es(n),l=ke(ve),t===null?(c=Jc(),c===null&&(c=$t,f=Zc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},th(n),Hi(n,ve,c)):((t.lanes&a)!==0&&(eh(t,n),cl(n,null,null,a),ol()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Hi(n,ve,l)):(l=f.cache,Hi(n,ve,l),l!==c.cache&&Xc(n,[ve],a,!0))),Ue(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ri(t){t.flags|=4}function Ug(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hp(n)){if(n=Rn.current,n!==null&&((xt&4194048)===xt?Xn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Xn))throw ll=Wc,_m;t.flags|=8192}}function io(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Mr():536870912,t.lanes|=n,tr|=n)}function yl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function M0(t,n,a){var l=n.pendingProps;switch(Qc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ti(ve),Ln(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tl(n)?Ri(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,dm())),ee(n),null;case 26:return a=n.memoizedState,t===null?(Ri(n),a!==null?(ee(n),Ug(n,a)):(ee(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ri(n),ee(n),Ug(n,a)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ri(n),ee(n),n.flags&=-16777217),null;case 27:ai(n),a=gt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}t=ot.current,tl(n)?hm(n):(t=Up(c,l,a),n.stateNode=t,Ri(n))}return ee(n),null;case 5:if(ai(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ee(n),null}if(t=ot.current,tl(n))hm(n);else{switch(c=yo(gt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[pe]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ri(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=gt.current,tl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Cp(t.nodeValue,a)),t||Wa(n)}else t=yo(t).createTextNode(l),t[pe]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[pe]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=dm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Si(n),n):(Si(n),null)}if(Si(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),io(n,n.updateQueue),ee(n),null;case 4:return Ln(),t===null&&af(n.stateNode.containerInfo),ee(n),null;case 10:return Ti(n.type),ee(n),null;case 19:if(nt(Ee),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)yl(c,!1);else{if(re!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Ju(t),f!==null){for(n.flags|=128,yl(c,!1),t=f.updateQueue,n.updateQueue=t,io(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)om(a,t),a=a.sibling;return J(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&gn()>ro&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Ju(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,io(n,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ee(n),null}else 2*gn()-c.renderingStartTime>ro&&a!==536870912&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gn(),n.sibling=null,t=Ee.current,J(Ee,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Si(n),sh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),a=n.updateQueue,a!==null&&io(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&nt(ns),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ti(ve),ee(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function U0(t,n){switch(Qc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ti(ve),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ai(n),null;case 13:if(Si(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));el()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Ee),null;case 4:return Ln(),null;case 10:return Ti(n.type),null;case 22:case 23:return Si(n),sh(),t!==null&&nt(ns),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ti(ve),null;case 25:return null;default:return null}}function Lg(t,n){switch(Qc(n),n.tag){case 3:Ti(ve),Ln();break;case 26:case 27:case 5:ai(n);break;case 4:Ln();break;case 13:Si(n);break;case 19:nt(Ee);break;case 10:Ti(n.type);break;case 22:case 23:Si(n),sh(),t!==null&&nt(ns);break;case 24:Ti(ve)}}function _l(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Xt(n,n.return,E)}}function Zi(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=a,B=E;try{B()}catch(Q){Xt(c,b,Q)}}}l=l.next}while(l!==f)}}catch(Q){Xt(n,n.return,Q)}}function zg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{bm(n,a)}catch(l){Xt(t,t.return,l)}}}function Bg(t,n,a){a.props=as(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Xt(t,n,c)}}function Zn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Xt(t,n,c)}else a.current=null}function jg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Xt(t,t.return,c)}}function Oh(t,n,a){try{var l=t.stateNode;nE(l,t.type,a,n),l[he]=n}catch(c){Xt(t,t.return,c)}}function Pg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&aa(t.type)||t.tag===4}function Mh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Pg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&aa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=po));else if(l!==4&&(l===27&&aa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Uh(t,n,a),t=t.sibling;t!==null;)Uh(t,n,a),t=t.sibling}function ao(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&aa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ao(t,n,a),t=t.sibling;t!==null;)ao(t,n,a),t=t.sibling}function qg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,a),n[pe]=t,n[he]=a}catch(f){Xt(t,t.return,f)}}var wi=!1,oe=!1,Lh=!1,kg=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function L0(t,n){if(t=t.containerInfo,lf=So,t=Wd(t),Mc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,B=0,Q=0,Y=t,j=null;e:for(;;){for(var P;Y!==a||c!==0&&Y.nodeType!==3||(E=y+c),Y!==f||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(P=Y.firstChild)!==null;)j=Y,Y=P;for(;;){if(Y===t)break e;if(j===a&&++B===c&&(E=y),j===f&&++Q===l&&(b=y),(P=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=P}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(uf={focusedElem:t,selectionRange:a},So=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var dt=as(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(dt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ht){Xt(a,a.return,ht)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)hf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function Hg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(t,a),l&4&&_l(5,a);break;case 1:if($i(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(a,a.return,y)}else{var c=as(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(a,a.return,y)}}l&64&&zg(a),l&512&&vl(a,a.return);break;case 3:if($i(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{bm(t,n)}catch(y){Xt(a,a.return,y)}}break;case 27:n===null&&l&4&&qg(a);case 26:case 5:$i(t,a),n===null&&l&4&&jg(a),l&512&&vl(a,a.return);break;case 12:$i(t,a);break;case 13:$i(t,a),l&4&&Fg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Q0.bind(null,a),oE(t,a))));break;case 22:if(l=a.memoizedState!==null||wi,!l){n=n!==null&&n.memoizedState!==null||oe,c=wi;var f=oe;wi=l,(oe=n)&&!f?Ji(t,a,(a.subtreeFlags&8772)!==0):$i(t,a),wi=c,oe=f}break;case 30:break;default:$i(t,a)}}function Gg(t){var n=t.alternate;n!==null&&(t.alternate=null,Gg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ji(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Wt=null,Je=!1;function Di(t,n,a){for(a=a.child;a!==null;)Qg(t,n,a),a=a.sibling}function Qg(t,n,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:oe||Zn(a,n),Di(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:oe||Zn(a,n);var l=Wt,c=Je;aa(a.type)&&(Wt=a.stateNode,Je=!1),Di(t,n,a),Cl(a.stateNode),Wt=l,Je=c;break;case 5:oe||Zn(a,n);case 6:if(l=Wt,c=Je,Wt=null,Di(t,n,a),Wt=l,Je=c,Wt!==null)if(Je)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(a.stateNode)}catch(f){Xt(a,n,f)}else try{Wt.removeChild(a.stateNode)}catch(f){Xt(a,n,f)}break;case 18:Wt!==null&&(Je?(t=Wt,Op(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ll(t)):Op(Wt,a.stateNode));break;case 4:l=Wt,c=Je,Wt=a.stateNode.containerInfo,Je=!0,Di(t,n,a),Wt=l,Je=c;break;case 0:case 11:case 14:case 15:oe||Zi(2,a,n),oe||Zi(4,a,n),Di(t,n,a);break;case 1:oe||(Zn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Bg(a,n,l)),Di(t,n,a);break;case 21:Di(t,n,a);break;case 22:oe=(l=oe)||a.memoizedState!==null,Di(t,n,a),oe=l;break;default:Di(t,n,a)}}function Fg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(a){Xt(n,n.return,a)}}function z0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new kg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new kg),n;default:throw Error(s(435,t.tag))}}function zh(t,n){var a=z0(t);n.forEach(function(l){var c=F0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function un(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(aa(E.type)){Wt=E.stateNode,Je=!1;break t}break;case 5:Wt=E.stateNode,Je=!1;break t;case 3:case 4:Wt=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(Wt===null)throw Error(s(160));Qg(f,y,c),Wt=null,Je=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Yg(n,t),n=n.sibling}var On=null;function Yg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),on(t),l&4&&(Zi(3,t,t.return),_l(3,t),Zi(5,t,t.return));break;case 1:un(n,t),on(t),l&512&&(oe||a===null||Zn(a,a.return)),l&64&&wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=On;if(un(n,t),on(t),l&512&&(oe||a===null||Zn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Oa]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,a),f[pe]=t,le(f),l=f;break t;case"link":var y=qp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,a),c.head.appendChild(f);break;case"meta":if(y=qp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[pe]=t,le(f),l=f}t.stateNode=l}else kp(c,t.type,t.stateNode);else t.stateNode=Pp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?kp(c,t.type,t.stateNode):Pp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Oh(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(n,t),on(t),l&512&&(oe||a===null||Zn(a,a.return)),a!==null&&l&4&&Oh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(n,t),on(t),l&512&&(oe||a===null||Zn(a,a.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(P){Xt(t,t.return,P)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Oh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Lh=!0);break;case 6:if(un(n,t),on(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(P){Xt(t,t.return,P)}}break;case 3:if(Eo=null,c=On,On=_o(n.containerInfo),un(n,t),On=c,on(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ll(n.containerInfo)}catch(P){Xt(t,t.return,P)}Lh&&(Lh=!1,Kg(t));break;case 4:l=On,On=_o(t.stateNode.containerInfo),un(n,t),on(t),On=l;break;case 12:un(n,t),on(t);break;case 13:un(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hh=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zh(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,B=wi,Q=oe;if(wi=B||c,oe=Q||b,un(n,t),oe=Q,wi=B,on(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||wi||oe||ss(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var Y=b.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(P){Xt(b,b.return,P)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(P){Xt(b,b.return,P)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zh(t,a))));break;case 19:un(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zh(t,l)));break;case 30:break;case 21:break;default:un(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Pg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Mh(t);ao(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(yn(y,""),a.flags&=-33);var E=Mh(t);ao(t,E,y);break;case 3:case 4:var b=a.stateNode.containerInfo,B=Mh(t);Uh(t,B,b);break;default:throw Error(s(161))}}catch(Q){Xt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $i(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Hg(t,n.alternate,n),n=n.sibling}function ss(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Zi(4,n,n.return),ss(n);break;case 1:Zn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Bg(n,n.return,a),ss(n);break;case 27:Cl(n.stateNode);case 26:case 5:Zn(n,n.return),ss(n);break;case 22:n.memoizedState===null&&ss(n);break;case 30:ss(n);break;default:ss(n)}t=t.sibling}}function Ji(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(c,f,a),_l(4,f);break;case 1:if(Ji(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Sm(b[c],E)}catch(B){Xt(l,l.return,B)}}a&&y&64&&zg(f),vl(f,f.return);break;case 27:qg(f);case 26:case 5:Ji(c,f,a),a&&l===null&&y&4&&jg(f),vl(f,f.return);break;case 12:Ji(c,f,a);break;case 13:Ji(c,f,a),a&&y&4&&Fg(c,f);break;case 22:f.memoizedState===null&&Ji(c,f,a),vl(f,f.return);break;case 30:break;default:Ji(c,f,a)}n=n.sibling}}function Bh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function jh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function $n(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xg(t,n,a,l),n=n.sibling}function Xg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:$n(t,n,a,l),c&2048&&_l(9,n);break;case 1:$n(t,n,a,l);break;case 3:$n(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){$n(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else $n(t,n,a,l);break;case 13:$n(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?$n(t,n,a,l):El(t,n):f._visibility&2?$n(t,n,a,l):(f._visibility|=2,$s(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Bh(y,n);break;case 24:$n(t,n,a,l),c&2048&&jh(n.alternate,n);break;default:$n(t,n,a,l)}}function $s(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,b=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:$s(f,y,E,b,c),_l(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?$s(f,y,E,b,c):El(f,y):(Q._visibility|=2,$s(f,y,E,b,c)),c&&B&2048&&Bh(y.alternate,y);break;case 24:$s(f,y,E,b,c),c&&B&2048&&jh(y.alternate,y);break;default:$s(f,y,E,b,c)}n=n.sibling}}function El(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:El(a,l),c&2048&&Bh(l.alternate,l);break;case 24:El(a,l),c&2048&&jh(l.alternate,l);break;default:El(a,l)}n=n.sibling}}var Tl=8192;function Js(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 26:Js(t),t.flags&Tl&&t.memoizedState!==null&&AE(On,t.memoizedState,t.memoizedProps);break;case 5:Js(t);break;case 3:case 4:var n=On;On=_o(t.stateNode.containerInfo),Js(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Tl,Tl=16777216,Js(t),Tl=n):Js(t));break;default:Js(t)}}function $g(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,Wg(l,t)}$g(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jg(t),t=t.sibling}function Jg(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,so(t)):Al(t);break;default:Al(t)}}function so(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,Wg(l,t)}$g(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Zi(8,n,n.return),so(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,so(n));break;default:so(n)}t=t.sibling}}function Wg(t,n){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:Zi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(Gg(l),l===a){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var B0={getCacheForType:function(t){var n=ke(ve),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},j0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Dt=null,xt=0,Gt=0,cn=null,Wi=!1,Ws=!1,Ph=!1,Ci=0,re=0,ta=0,rs=0,qh=0,wn=0,tr=0,Sl=null,We=null,kh=!1,Hh=0,ro=1/0,lo=null,ea=null,Le=0,na=null,er=null,nr=0,Gh=0,Qh=null,tp=null,bl=0,Fh=null;function hn(){if((Ht&2)!==0&&xt!==0)return xt&-xt;if(G.T!==null){var t=Hs;return t!==0?t:Wh()}return zi()}function ep(){wn===0&&(wn=(xt&536870912)===0||Bt?Or():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),wn}function fn(t,n,a){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(ir(t,0),ia(t,xt,wn,!1)),ri(t,a),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(rs|=a),re===4&&ia(t,xt,wn,!1)),Jn(t))}function np(t,n,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||xa(t,n),c=l?k0(t,n):Xh(t,n,!0),f=l;do{if(c===0){Ws&&!l&&ia(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!P0(a)){c=Xh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Sl;var b=E.current.memoizedState.isDehydrated;if(b&&(ir(E,y).flags|=256),y=Xh(E,y,!1),y!==2){if(Ph&&!b){E.errorRecoveryDisabledLanes|=f,rs|=f,c=4;break t}f=We,We=c,f!==null&&(We===null?We=f:We.push.apply(We,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){ir(t,0),ia(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ia(l,n,wn,!Wi);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Hh+300-gn(),10<c)){if(ia(l,n,wn,!Wi),Es(l,0,!0)!==0)break t;l.timeoutHandle=Np(ip.bind(null,l,a,We,lo,kh,n,wn,rs,tr,Wi,f,2,-0,0),c);break t}ip(l,a,We,lo,kh,n,wn,rs,tr,Wi,f,0,-0,0)}}break}while(!0);Jn(t)}function ip(t,n,a,l,c,f,y,E,b,B,Q,Y,j,P){if(t.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:TE},Zg(n),Y=SE(),Y!==null)){t.cancelPendingCommit=Y(cp.bind(null,t,n,f,a,l,c,y,E,b,Q,1,j,P)),ia(t,f,y,!B);return}cp(t,n,f,a,l,c,y,E,b)}function P0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ia(t,n,a,l){n&=~qh,n&=~rs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-qe(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&zn(t,a,n)}function uo(){return(Ht&6)===0?(Rl(0),!1):!0}function Yh(){if(Dt!==null){if(Gt===0)var t=Dt.return;else t=Dt,Ei=ts=null,ch(t),Xs=null,gl=0,t=Dt;for(;t!==null;)Lg(t.alternate,t),t=t.return;Dt=null}}function ir(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,aE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Yh(),$t=t,Dt=a=yi(t.current,null),xt=n,Gt=0,cn=null,Wi=!1,Ws=xa(t,n),Ph=!1,tr=wn=qh=rs=ta=re=0,We=Sl=null,kh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-qe(l),f=1<<c;n|=t[c],l&=~f}return Ci=n,Iu(),a}function ap(t,n){At=null,G.H=Xu,n===rl||n===ju?(n=Tm(),Gt=3):n===_m?(n=Tm(),Gt=4):Gt=n===Ag?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Dt===null&&(re=1,to(t,Tn(n,t.current)))}function sp(){var t=G.H;return G.H=Xu,t===null?Xu:t}function rp(){var t=G.A;return G.A=B0,t}function Kh(){re=4,Wi||(xt&4194048)!==xt&&Rn.current!==null||(Ws=!0),(ta&134217727)===0&&(rs&134217727)===0||$t===null||ia($t,xt,wn,!1)}function Xh(t,n,a){var l=Ht;Ht|=2;var c=sp(),f=rp();($t!==t||xt!==n)&&(lo=null,ir(t,n)),n=!1;var y=re;t:do try{if(Gt!==0&&Dt!==null){var E=Dt,b=cn;switch(Gt){case 8:Yh(),y=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var B=Gt;if(Gt=0,cn=null,ar(t,E,b,B),a&&Ws){y=0;break t}break;default:B=Gt,Gt=0,cn=null,ar(t,E,b,B)}}q0(),y=re;break}catch(Q){ap(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ei=ts=null,Ht=l,G.H=c,G.A=f,Dt===null&&($t=null,xt=0,Iu()),y}function q0(){for(;Dt!==null;)lp(Dt)}function k0(t,n){var a=Ht;Ht|=2;var l=sp(),c=rp();$t!==t||xt!==n?(lo=null,ro=gn()+500,ir(t,n)):Ws=xa(t,n);t:do try{if(Gt!==0&&Dt!==null){n=Dt;var f=cn;e:switch(Gt){case 1:Gt=0,cn=null,ar(t,n,f,1);break;case 2:case 9:if(vm(f)){Gt=0,cn=null,up(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Jn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:vm(f)?(Gt=0,cn=null,up(n)):(Gt=0,cn=null,ar(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||Hp(y)){Gt=0,cn=null;var b=E.sibling;if(b!==null)Dt=b;else{var B=E.return;B!==null?(Dt=B,oo(B)):Dt=null}break e}}Gt=0,cn=null,ar(t,n,f,5);break;case 6:Gt=0,cn=null,ar(t,n,f,6);break;case 8:Yh(),re=6;break t;default:throw Error(s(462))}}H0();break}catch(Q){ap(t,Q)}while(!0);return Ei=ts=null,G.H=l,G.A=c,Ht=a,Dt!==null?0:($t=null,xt=0,Iu(),re)}function H0(){for(;Dt!==null&&!Vr();)lp(Dt)}function lp(t){var n=Mg(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,n===null?oo(t):Dt=n}function up(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Cg(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Cg(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:ch(n);default:Lg(a,n),n=Dt=om(n,Ci),n=Mg(a,n,Ci)}t.memoizedProps=t.pendingProps,n===null?oo(t):Dt=n}function ar(t,n,a,l){Ei=ts=null,ch(n),Xs=null,gl=0;var c=n.return;try{if(x0(t,c,n,a,xt)){re=1,to(t,Tn(a,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;re=1,to(t,Tn(a,t.current)),Dt=null;return}n.flags&32768?(Bt||l===1?t=!0:Ws||(xt&536870912)!==0?t=!1:(Wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),op(n,t)):oo(n)}function oo(t){var n=t;do{if((n.flags&32768)!==0){op(n,Wi);return}t=n.return;var a=M0(n.alternate,n,Ci);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);re===0&&(re=5)}function op(t,n){do{var a=U0(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);re=6,Dt=null}function cp(t,n,a,l,c,f,y,E,b){t.cancelPendingCommit=null;do co();while(Le!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=jc,Ur(t,a,f,y,E,b),t===$t&&(Dt=$t=null,xt=0),er=n,na=t,nr=a,Gh=f,Qh=c,tp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Y0(Ca,function(){return gp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=et.p,et.p=2,y=Ht,Ht|=4;try{L0(t,n,a)}finally{Ht=y,et.p=c,G.T=l}}Le=1,hp(),fp(),dp()}}function hp(){if(Le===1){Le=0;var t=na,n=er,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Yg(n,t);var f=uf,y=Wd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Jd(E.ownerDocument.documentElement,E)){if(b!==null&&Mc(E)){var B=b.start,Q=b.end;if(Q===void 0&&(Q=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Q,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var P=j.getSelection(),dt=E.textContent.length,ht=Math.min(b.start,dt),Kt=b.end===void 0?ht:Math.min(b.end,dt);!P.extend&&ht>Kt&&(y=Kt,Kt=ht,ht=y);var M=$d(E,ht),V=$d(E,Kt);if(M&&V&&(P.rangeCount!==1||P.anchorNode!==M.node||P.anchorOffset!==M.offset||P.focusNode!==V.node||P.focusOffset!==V.offset)){var z=Y.createRange();z.setStart(M.node,M.offset),P.removeAllRanges(),ht>Kt?(P.addRange(z),P.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),P.addRange(z))}}}}for(Y=[],P=E;P=P.parentNode;)P.nodeType===1&&Y.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var F=Y[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}So=!!lf,uf=lf=null}finally{Ht=c,et.p=l,G.T=a}}t.current=n,Le=2}}function fp(){if(Le===2){Le=0;var t=na,n=er,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=et.p;et.p=2;var c=Ht;Ht|=4;try{Hg(t,n.alternate,n)}finally{Ht=c,et.p=l,G.T=a}}Le=3}}function dp(){if(Le===4||Le===3){Le=0,su();var t=na,n=er,a=nr,l=tp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,er=na=null,mp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ea=null),Ts(a),n=n.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=et.p,et.p=2,G.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{G.T=n,et.p=c}}(nr&3)!==0&&co(),Jn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Fh?bl++:(bl=0,Fh=t):bl=0,Rl(0)}}function mp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function co(t){return hp(),fp(),dp(),gp()}function gp(){if(Le!==5)return!1;var t=na,n=Gh;Gh=0;var a=Ts(nr),l=G.T,c=et.p;try{et.p=32>a?32:a,G.T=null,a=Qh,Qh=null;var f=na,y=nr;if(Le=0,er=na=null,nr=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,Jg(f.current),Xg(f,f.current,y,a),Ht=E,Rl(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{et.p=c,G.T=l,mp(t,n)}}function pp(t,n,a){n=Tn(a,n),n=bh(t.stateNode,n,2),t=Fi(t,n,2),t!==null&&(ri(t,2),Jn(t))}function Xt(t,n,a){if(t.tag===3)pp(t,t,a);else for(;n!==null;){if(n.tag===3){pp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ea===null||!ea.has(l))){t=Tn(a,t),a=Eg(2),l=Fi(n,a,2),l!==null&&(Tg(a,l,n,t),ri(l,2),Jn(l));break}}n=n.return}}function Zh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new j0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Ph=!0,c.add(a),t=G0.bind(null,t,n,a),n.then(t,t))}function G0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(xt&a)===a&&(re===4||re===3&&(xt&62914560)===xt&&300>gn()-Hh?(Ht&2)===0&&ir(t,0):qh|=a,tr===xt&&(tr=0)),Jn(t)}function yp(t,n){n===0&&(n=Mr()),t=js(t,n),t!==null&&(ri(t,n),Jn(t))}function Q0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),yp(t,a)}function F0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),yp(t,a)}function Y0(t,n){return wa(t,n)}var ho=null,sr=null,$h=!1,fo=!1,Jh=!1,ls=0;function Jn(t){t!==sr&&t.next===null&&(sr===null?ho=sr=t:sr=sr.next=t),fo=!0,$h||($h=!0,X0())}function Rl(t,n){if(!Jh&&fo){Jh=!0;do for(var a=!1,l=ho;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-qe(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Tp(l,f))}else f=xt,f=Es(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||xa(l,f)||(a=!0,Tp(l,f));l=l.next}while(a);Jh=!1}}function K0(){_p()}function _p(){fo=$h=!1;var t=0;ls!==0&&(iE()&&(t=ls),ls=0);for(var n=gn(),a=null,l=ho;l!==null;){var c=l.next,f=vp(l,n);f===0?(l.next=null,a===null?ho=c:a.next=c,c===null&&(sr=a)):(a=l,(t!==0||(f&3)!==0)&&(fo=!0)),l=c}Rl(t)}function vp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-qe(f),E=1<<y,b=c[y];b===-1?((E&a)===0||(E&l)!==0)&&(c[y]=xr(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,a=xt,a=Es(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Da(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xa(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Da(l),Ts(a)){case 2:case 8:a=_s;break;case 32:a=Ca;break;case 268435456:a=vs;break;default:a=Ca}return l=Ep.bind(null,t),a=wa(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Da(l),t.callbackPriority=2,t.callbackNode=null,2}function Ep(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(co()&&t.callbackNode!==a)return null;var l=xt;return l=Es(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(np(t,l,n),vp(t,gn()),t.callbackNode!=null&&t.callbackNode===a?Ep.bind(null,t):null)}function Tp(t,n){if(co())return null;np(t,n,!0)}function X0(){sE(function(){(Ht&6)!==0?wa(Ir,K0):_p()})}function Wh(){return ls===0&&(ls=Or()),ls}function Ap(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ds(""+t)}function Sp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Z0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Ap((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?Ap(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Cs("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ls!==0){var b=y?Sp(c,y):new FormData(c);vh(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Sp(c,y):new FormData(c),vh(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var tf=0;tf<Bc.length;tf++){var ef=Bc[tf],$0=ef.toLowerCase(),J0=ef[0].toUpperCase()+ef.slice(1);xn($0,"on"+J0)}xn(nm,"onAnimationEnd"),xn(im,"onAnimationIteration"),xn(am,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(g0,"onTransitionRun"),xn(p0,"onTransitionStart"),xn(y0,"onTransitionCancel"),xn(sm,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function bp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,B=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){Wu(Q)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,B=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(Q){Wu(Q)}c.currentTarget=null,f=b}}}}function Ct(t,n){var a=n[zr];a===void 0&&(a=n[zr]=new Set);var l=t+"__bubble";a.has(l)||(Rp(n,t,2,!1),a.add(l))}function nf(t,n,a){var l=0;n&&(l|=4),Rp(a,t,l,n)}var mo="_reactListening"+Math.random().toString(36).slice(2);function af(t){if(!t[mo]){t[mo]=!0,Br.forEach(function(a){a!=="selectionchange"&&(W0.has(a)||nf(a,!1,t),nf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mo]||(n[mo]=!0,nf("selectionchange",!1,n))}}function Rp(t,n,a,l){switch(Xp(n)){case 2:var c=wE;break;case 8:c=DE;break;default:c=_f}a=c.bind(null,n,a,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function sf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=li(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}gu(function(){var B=f,Q=_n(a),Y=[];t:{var j=rm.get(t);if(j!==void 0){var P=Cs,dt=t;switch(t){case"keypress":if(Hn(a)===0)break t;case"keydown":case"keyup":P=Ms;break;case"focusin":dt="focus",P=Ns;break;case"focusout":dt="blur",P=Ns;break;case"beforeblur":case"afterblur":P=Ns;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Su;break;case nm:case im:case am:P=xs;break;case sm:P=Ru;break;case"scroll":case"scrollend":P=pu;break;case"wheel":P=Us;break;case"copy":case"cut":case"paste":P=Os;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Zr;break;case"toggle":case"beforetoggle":P=Du}var ht=(n&4)!==0,Kt=!ht&&(t==="scroll"||t==="scrollend"),M=ht?j!==null?j+"Capture":null:j;ht=[];for(var V=B,z;V!==null;){var F=V;if(z=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||z===null||M===null||(F=Pa(V,M),F!=null&&ht.push(Dl(V,F,z))),Kt)break;V=V.return}0<ht.length&&(j=new P(j,dt,null,a,Q),Y.push({event:j,listeners:ht}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",j&&a!==hi&&(dt=a.relatedTarget||a.fromElement)&&(li(dt)||dt[pn]))break t;if((P||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,P?(dt=a.relatedTarget||a.toElement,P=B,dt=dt?li(dt):null,dt!==null&&(Kt=h(dt),ht=dt.tag,dt!==Kt||ht!==5&&ht!==27&&ht!==6)&&(dt=null)):(P=null,dt=B),P!==dt)){if(ht=En,F="onMouseLeave",M="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ht=Zr,F="onPointerLeave",M="onPointerEnter",V="pointer"),Kt=P==null?j:jn(P),z=dt==null?j:jn(dt),j=new ht(F,V+"leave",P,a,Q),j.target=Kt,j.relatedTarget=z,F=null,li(Q)===B&&(ht=new ht(M,V+"enter",dt,a,Q),ht.target=z,ht.relatedTarget=Kt,F=ht),Kt=F,P&&dt)e:{for(ht=P,M=dt,V=0,z=ht;z;z=rr(z))V++;for(z=0,F=M;F;F=rr(F))z++;for(;0<V-z;)ht=rr(ht),V--;for(;0<z-V;)M=rr(M),z--;for(;V--;){if(ht===M||M!==null&&ht===M.alternate)break e;ht=rr(ht),M=rr(M)}ht=null}else ht=null;P!==null&&wp(Y,j,P,ht,!1),dt!==null&&Kt!==null&&wp(Y,Kt,dt,ht,!0)}}t:{if(j=B?jn(B):window,P=j.nodeName&&j.nodeName.toLowerCase(),P==="select"||P==="input"&&j.type==="file")var st=Qd;else if(_e(j))if(Fd)st=f0;else{st=c0;var wt=o0}else P=j.nodeName,!P||P.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&Hr(B.elementType)&&(st=Qd):st=h0;if(st&&(st=st(t,B))){pi(Y,st,a,Q);break t}wt&&wt(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&qi(j,"number",j.value)}switch(wt=B?jn(B):window,t){case"focusin":(_e(wt)||wt.contentEditable==="true")&&(Ls=wt,Uc=B,Wr=null);break;case"focusout":Wr=Uc=Ls=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,tm(Y,a,Q);break;case"selectionchange":if(m0)break;case"keydown":case"keyup":tm(Y,a,Q)}var rt;if(Fn)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else It?k(t,a)&&(ft="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ft="onCompositionStart");ft&&(p&&a.locale!=="ko"&&(It||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&It&&(rt=Qr()):(kn=Q,ki="value"in kn?kn.value:kn.textContent,It=!0)),wt=go(B,ft),0<wt.length&&(ft=new Kr(ft,t,null,a,Q),Y.push({event:ft,listeners:wt}),rt?ft.data=rt:(rt=tt(a),rt!==null&&(ft.data=rt)))),(rt=m?ye(t,a):Nt(t,a))&&(ft=go(B,"onBeforeInput"),0<ft.length&&(wt=new Kr("onBeforeInput","beforeinput",null,a,Q),Y.push({event:wt,listeners:ft}),wt.data=rt)),Z0(Y,t,B,a,Q)}bp(Y,n)})}function Dl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function go(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Pa(t,a),c!=null&&l.unshift(Dl(t,c,f)),c=Pa(t,n),c!=null&&l.push(Dl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function rr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,b=E.alternate,B=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||B===null||(b=B,c?(B=Pa(a,f),B!=null&&y.unshift(Dl(a,B,b))):c||(B=Pa(a,f),B!=null&&y.push(Dl(a,B,b)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var tE=/\r\n?/g,eE=/\u0000|\uFFFD/g;function Dp(t){return(typeof t=="string"?t:""+t).replace(tE,`
`).replace(eE,"")}function Cp(t,n){return n=Dp(n),Dp(t)===n}function po(){}function Yt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,a,l);break;case"style":kr(t,l,f);break;case"data":if(n!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ds(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ds(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=po);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ds(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Pi(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Cc.get(a)||a,Pi(t,a,l))}}function rf(t,n,a,l,c,f){switch(a){case"style":kr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=po);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!As.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[he]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Pi(t,a,l)}}}function ze(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,y,a,null)}}c&&Yt(t,n,"srcSet",a.srcSet,a,null),l&&Yt(t,n,"src",a.src,a,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,b=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":y=Q;break;case"checked":b=Q;break;case"defaultChecked":B=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Yt(t,n,l,Q,a,null)}}za(t,f,E,b,B,y,c,!1),ws(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?ci(t,!!l,n,!1):a!=null&&ci(t,!!l,a,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,y,E,a,null)}Ba(t,l,c,f),ws(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,a,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Ct(wl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,B,l,a,null)}return;default:if(Hr(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&rf(t,n,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(t,n,E,l,a,null))}function nE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,B=null,Q=null;for(P in a){var Y=a[P];if(a.hasOwnProperty(P)&&Y!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(P)||Yt(t,n,P,null,l,Y)}}for(var j in l){var P=l[j];if(Y=a[j],l.hasOwnProperty(j)&&(P!=null||Y!=null))switch(j){case"type":f=P;break;case"name":c=P;break;case"checked":B=P;break;case"defaultChecked":Q=P;break;case"value":y=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:P!==Y&&Yt(t,n,j,P,l,Y)}}sn(t,y,E,b,B,Q,f,c);return;case"select":P=y=E=j=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":P=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=a[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,a=y,l=P,j!=null?ci(t,!!a,j,!1):!!l!=!!a&&(n!=null?ci(t,!!a,n,!0):ci(t,!!a,a?[]:"",!1));return;case"textarea":P=j=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":j=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Qt(t,j,P);return;case"option":for(var dt in a)if(j=a[dt],a.hasOwnProperty(dt)&&j!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":t.selected=!1;break;default:Yt(t,n,dt,null,l,j)}for(b in l)if(j=l[b],P=a[b],l.hasOwnProperty(b)&&j!==P&&(j!=null||P!=null))switch(b){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Yt(t,n,b,j,l,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in a)j=a[ht],a.hasOwnProperty(ht)&&j!=null&&!l.hasOwnProperty(ht)&&Yt(t,n,ht,null,l,j);for(B in l)if(j=l[B],P=a[B],l.hasOwnProperty(B)&&j!==P&&(j!=null||P!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Yt(t,n,B,j,l,P)}return;default:if(Hr(n)){for(var Kt in a)j=a[Kt],a.hasOwnProperty(Kt)&&j!==void 0&&!l.hasOwnProperty(Kt)&&rf(t,n,Kt,void 0,l,j);for(Q in l)j=l[Q],P=a[Q],!l.hasOwnProperty(Q)||j===P||j===void 0&&P===void 0||rf(t,n,Q,j,l,P);return}}for(var M in a)j=a[M],a.hasOwnProperty(M)&&j!=null&&!l.hasOwnProperty(M)&&Yt(t,n,M,null,l,j);for(Y in l)j=l[Y],P=a[Y],!l.hasOwnProperty(Y)||j===P||j==null&&P==null||Yt(t,n,Y,j,l,P)}var lf=null,uf=null;function yo(t){return t.nodeType===9?t:t.ownerDocument}function Vp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ip(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function of(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cf=null;function iE(){var t=window.event;return t&&t.type==="popstate"?t===cf?!1:(cf=t,!0):(cf=null,!1)}var Np=typeof setTimeout=="function"?setTimeout:void 0,aE=typeof clearTimeout=="function"?clearTimeout:void 0,xp=typeof Promise=="function"?Promise:void 0,sE=typeof queueMicrotask=="function"?queueMicrotask:typeof xp<"u"?function(t){return xp.resolve(null).then(t).catch(rE)}:Np;function rE(t){setTimeout(function(){throw t})}function aa(t){return t==="head"}function Op(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Cl(y.documentElement),a&2&&Cl(y.body),a&4)for(a=y.head,Cl(a),y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Oa]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ll(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ll(n)}function hf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hf(a),ji(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function lE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Oa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function uE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function oE(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var df=null;function Mp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Up(t,n,a){switch(n=yo(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Cl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ji(t)}var Dn=new Map,Lp=new Set;function _o(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Vi=et.d;et.d={f:cE,r:hE,D:fE,C:dE,L:mE,m:gE,X:yE,S:pE,M:_E};function cE(){var t=Vi.f(),n=uo();return t||n}function hE(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?ng(n):Vi.r(t)}var lr=typeof document>"u"?null:document;function zp(t,n,a){var l=lr;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Lp.has(c)||(Lp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function fE(t){Vi.D(t),zp("dns-prefetch",t,null)}function dE(t,n){Vi.C(t,n),zp("preconnect",t,n)}function mE(t,n,a){Vi.L(t,n,a);var l=lr;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+fe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+fe(a.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=ur(t);break;case"script":f=or(t)}Dn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Vl(f))||n==="script"&&l.querySelector(Il(f))||(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function gE(t,n){Vi.m(t,n);var a=lr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=or(t)}if(!Dn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Dn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(f)))return}l=a.createElement("link"),ze(l,"link",t),le(l),a.head.appendChild(l)}}}function pE(t,n,a){Vi.S(t,n,a);var l=lr;if(l&&t){var c=Ye(l).hoistableStyles,f=ur(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Vl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(f))&&mf(t,a);var b=y=l.createElement("link");le(b),ze(b,"link",t),b._p=new Promise(function(B,Q){b.onload=B,b.onerror=Q}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function yE(t,n){Vi.X(t,n);var a=lr;if(a&&t){var l=Ye(a).hoistableScripts,c=or(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=A({src:t,async:!0},n),(n=Dn.get(c))&&gf(t,n),f=a.createElement("script"),le(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function _E(t,n){Vi.M(t,n);var a=lr;if(a&&t){var l=Ye(a).hoistableScripts,c=or(t),f=l.get(c);f||(f=a.querySelector(Il(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&gf(t,n),f=a.createElement("script"),le(f),ze(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Bp(t,n,a,l){var c=(c=gt.current)?_o(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ur(a.href),a=Ye(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ur(a.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Vl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),f||vE(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=or(a),a=Ye(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ur(t){return'href="'+fe(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function jp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function vE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",a),le(n),t.head.appendChild(n))}function or(t){return'[src="'+fe(t)+'"]'}function Il(t){return"script[async]"+t}function Pp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(a.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),ze(l,"style",c),vo(l,a.precedence,t),n.instance=l;case"stylesheet":c=ur(a.href);var f=t.querySelector(Vl(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=jp(a),(c=Dn.get(c))&&mf(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",l),n.state.loading|=4,vo(f,a.precedence,t),n.instance=f;case"script":return f=or(a.src),(c=t.querySelector(Il(f)))?(n.instance=c,le(c),c):(l=a,(c=Dn.get(f))&&(l=A({},a),gf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,vo(l,a.precedence,t));return n.instance}function vo(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Eo=null;function qp(t,n,a){if(Eo===null){var l=new Map,c=Eo=new Map;c.set(a,l)}else c=Eo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Oa]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function kp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function EE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Hp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Nl=null;function TE(){}function AE(t,n,a){if(Nl===null)throw Error(s(475));var l=Nl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ur(a.href),f=t.querySelector(Vl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=To.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,a=jp(a),(c=Dn.get(c))&&mf(a,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=To.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function SE(){if(Nl===null)throw Error(s(475));var t=Nl;return t.stylesheets&&t.count===0&&pf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&pf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function To(){if(this.count--,this.count===0){if(this.stylesheets)pf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ao=null;function pf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ao=new Map,n.forEach(bE,t),Ao=null,To.call(t))}function bE(t,n){if(!(n.state.loading&4)){var a=Ao.get(t);if(a)var l=a.get(null);else{a=new Map,Ao.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=To.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var xl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function RE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Gp(t,n,a,l,c,f,y,E,b,B,Q,Y){return t=new RE(t,n,a,y,E,b,B,Y),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=Zc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},th(f),t}function Qp(t){return t?(t=Ps,t):Ps}function Fp(t,n,a,l,c,f){c=Qp(c),l.context===null?l.context=c:l.pendingContext=c,l=Qi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Fi(t,l,n),a!==null&&(fn(a,t,n),ul(a,t,n))}function Yp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function yf(t,n){Yp(t,n),(t=t.alternate)&&Yp(t,n)}function Kp(t){if(t.tag===13){var n=js(t,67108864);n!==null&&fn(n,t,67108864),yf(t,67108864)}}var So=!0;function wE(t,n,a,l){var c=G.T;G.T=null;var f=et.p;try{et.p=2,_f(t,n,a,l)}finally{et.p=f,G.T=c}}function DE(t,n,a,l){var c=G.T;G.T=null;var f=et.p;try{et.p=8,_f(t,n,a,l)}finally{et.p=f,G.T=c}}function _f(t,n,a,l){if(So){var c=vf(l);if(c===null)sf(t,n,l,bo,a),Zp(t,l);else if(VE(c,t,n,a,l))l.stopPropagation();else if(Zp(t,l),n&4&&-1<CE.indexOf(t)){for(;c!==null;){var f=Bn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Vn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-qe(y);E.entanglements[1]|=b,y&=~b}Jn(f),(Ht&6)===0&&(ro=gn()+500,Rl(0))}}break;case 13:E=js(f,2),E!==null&&fn(E,f,2),uo(),yf(f,2)}if(f=vf(l),f===null&&sf(t,n,l,bo,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else sf(t,n,l,null,a)}}function vf(t){return t=_n(t),Ef(t)}var bo=null;function Ef(t){if(bo=null,t=li(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return bo=t,null}function Xp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ac()){case Ir:return 2;case _s:return 8;case Ca:case Sc:return 32;case vs:return 268435456;default:return 32}default:return 32}}var Tf=!1,sa=null,ra=null,la=null,Ol=new Map,Ml=new Map,ua=[],CE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zp(t,n){switch(t){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(n.pointerId)}}function Ul(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Bn(n),n!==null&&Kp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function VE(t,n,a,l,c){switch(n){case"focusin":return sa=Ul(sa,t,n,a,l,c),!0;case"dragenter":return ra=Ul(ra,t,n,a,l,c),!0;case"mouseover":return la=Ul(la,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ol.set(f,Ul(Ol.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ml.set(f,Ul(Ml.get(f)||null,t,n,a,l,c)),!0}return!1}function $p(t){var n=li(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,uu(t.priority,function(){if(a.tag===13){var l=hn();l=Li(l);var c=js(a,l);c!==null&&fn(c,a,l),yf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ro(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=vf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);hi=l,a.target.dispatchEvent(l),hi=null}else return n=Bn(a),n!==null&&Kp(n),t.blockedOn=a,!1;n.shift()}return!0}function Jp(t,n,a){Ro(t)&&a.delete(n)}function IE(){Tf=!1,sa!==null&&Ro(sa)&&(sa=null),ra!==null&&Ro(ra)&&(ra=null),la!==null&&Ro(la)&&(la=null),Ol.forEach(Jp),Ml.forEach(Jp)}function wo(t,n){t.blockedOn===n&&(t.blockedOn=null,Tf||(Tf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,IE)))}var Do=null;function Wp(t){Do!==t&&(Do=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Do===t&&(Do=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Ef(l||a)===null)continue;break}var f=Bn(a);f!==null&&(t.splice(n,3),n-=3,vh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Ll(t){function n(b){return wo(b,t)}sa!==null&&wo(sa,t),ra!==null&&wo(ra,t),la!==null&&wo(la,t),Ol.forEach(n),Ml.forEach(n);for(var a=0;a<ua.length;a++){var l=ua[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ua.length&&(a=ua[0],a.blockedOn===null);)$p(a),a.blockedOn===null&&ua.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[he]||null;if(typeof f=="function")y||Wp(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(Ef(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Wp(a)}}}function Af(t){this._internalRoot=t}Co.prototype.render=Af.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=hn();Fp(a,l,t,n,null,null)},Co.prototype.unmount=Af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Fp(t.current,2,null,t,null,null),uo(),n[pn]=null}};function Co(t){this._internalRoot=t}Co.prototype.unstable_scheduleHydration=function(t){if(t){var n=zi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ua.length&&n!==0&&n<ua[a].priority;a++);ua.splice(a,0,t),a===0&&$p(t)}};var ty=e.version;if(ty!=="19.1.0")throw Error(s(527,ty,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var NE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{ae=Vo.inject(NE),kt=Vo}catch{}}return Bl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=pg,f=yg,y=_g,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Gp(t,1,!1,null,null,a,l,c,f,y,E,null),t[pn]=n.current,af(t),new Af(n)},Bl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",f=pg,y=yg,E=_g,b=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),n=Gp(t,1,!0,n,a??null,l,c,f,y,E,b,B),n.context=Qp(null),a=n.current,l=hn(),l=Li(l),c=Qi(l),c.callback=null,Fi(a,c,l),a=l,n.current.lanes=a,ri(n,a),Jn(n),t[pn]=n.current,af(t),new Co(n)},Bl.version="19.1.0",Bl}var cy;function qE(){if(cy)return Rf.exports;cy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rf.exports=PE(),Rf.exports}var kE=qE();const HE=()=>{};var hy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},GE=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=r[i++];e[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=r[i++],d=r[i++],g=r[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},__={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const h=r[u],d=u+1<r.length,g=d?r[u+1]:0,_=u+2<r.length,v=_?r[u+2]:0,A=h>>2,R=(h&3)<<4|g>>4;let N=(g&15)<<2|v>>6,H=v&63;_||(H=64,d||(N=64)),s.push(i[A],i[R],i[N],i[H])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(y_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):GE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const h=i[r.charAt(u++)],g=u<r.length?i[r.charAt(u)]:0;++u;const v=u<r.length?i[r.charAt(u)]:64;++u;const R=u<r.length?i[r.charAt(u)]:64;if(++u,h==null||g==null||v==null||R==null)throw new QE;const N=h<<2|g>>4;if(s.push(N),v!==64){const H=g<<4&240|v>>2;if(s.push(H),R!==64){const $=v<<6&192|R;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class QE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FE=function(r){const e=y_(r);return __.encodeByteArray(e,!0)},qo=function(r){return FE(r).replace(/\./g,"")},YE=function(r){try{return __.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=()=>KE().__FIREBASE_DEFAULTS__,ZE=()=>{if(typeof process>"u"||typeof hy>"u")return;const r=hy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$E=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&YE(r[1]);return e&&JSON.parse(e)},rd=()=>{try{return HE()||XE()||ZE()||$E()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},JE=r=>{var e,i;return(i=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},WE=r=>{const e=JE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},v_=()=>{var r;return(r=rd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[qo(JSON.stringify(i)),qo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iT(){var r;const e=(r=rd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aT(){return!iT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sT(){try{return typeof indexedDB=="object"}catch{return!1}}function rT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="FirebaseError";class br extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=lT,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E_.prototype.create)}}class E_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?uT(h,s):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new br(u,g,s)}}function uT(r,e){return r.replace(oT,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const oT=/\{\$([^}]+)}/g;function ko(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const h=r[u],d=e[u];if(fy(h)&&fy(d)){if(!ko(h,d))return!1}else if(h!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function fy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(r){return r&&r._delegate?r._delegate:r}class Yl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new tT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fT(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(u)}return u}onInit(e,i){var s;const u=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:hT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hT(r){return r===us?void 0:r}function fT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new cT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const mT={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},gT=Mt.INFO,pT={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},yT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=pT[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class T_{constructor(e){this.name=e,this._logLevel=gT,this._logHandler=yT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const _T=(r,e)=>e.some(i=>r instanceof i);let dy,my;function vT(){return dy||(dy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ET(){return my||(my=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A_=new WeakMap,zf=new WeakMap,S_=new WeakMap,Vf=new WeakMap,ld=new WeakMap;function TT(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(ha(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&A_.set(i,r)}).catch(()=>{}),ld.set(e,r),e}function AT(r){if(zf.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});zf.set(r,e)}let Bf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return zf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||S_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ha(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ST(r){Bf=r(Bf)}function bT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(If(this),e,...i);return S_.set(s,e.sort?e.sort():[e]),ha(s)}:ET().includes(r)?function(...e){return r.apply(If(this),e),ha(A_.get(this))}:function(...e){return ha(r.apply(If(this),e))}}function RT(r){return typeof r=="function"?bT(r):(r instanceof IDBTransaction&&AT(r),_T(r,vT())?new Proxy(r,Bf):r)}function ha(r){if(r instanceof IDBRequest)return TT(r);if(Vf.has(r))return Vf.get(r);const e=RT(r);return e!==r&&(Vf.set(r,e),ld.set(e,r)),e}const If=r=>ld.get(r);function wT(r,e,{blocked:i,upgrade:s,blocking:u,terminated:h}={}){const d=indexedDB.open(r,e),g=ha(d);return s&&d.addEventListener("upgradeneeded",_=>{s(ha(d.result),_.oldVersion,_.newVersion,ha(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const DT=["get","getKey","getAll","getAllKeys","count"],CT=["put","add","delete","clear"],Nf=new Map;function gy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=CT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||DT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return Nf.set(e,h),h}ST(r=>({...r,get:(e,i,s)=>gy(e,i)||r.get(e,i,s),has:(e,i)=>!!gy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(IT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function IT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jf="@firebase/app",py="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new T_("@firebase/app"),NT="@firebase/app-compat",xT="@firebase/analytics-compat",OT="@firebase/analytics",MT="@firebase/app-check-compat",UT="@firebase/app-check",LT="@firebase/auth",zT="@firebase/auth-compat",BT="@firebase/database",jT="@firebase/data-connect",PT="@firebase/database-compat",qT="@firebase/functions",kT="@firebase/functions-compat",HT="@firebase/installations",GT="@firebase/installations-compat",QT="@firebase/messaging",FT="@firebase/messaging-compat",YT="@firebase/performance",KT="@firebase/performance-compat",XT="@firebase/remote-config",ZT="@firebase/remote-config-compat",$T="@firebase/storage",JT="@firebase/storage-compat",WT="@firebase/firestore",tA="@firebase/vertexai",eA="@firebase/firestore-compat",nA="firebase",iA="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]",aA={[jf]:"fire-core",[NT]:"fire-core-compat",[OT]:"fire-analytics",[xT]:"fire-analytics-compat",[UT]:"fire-app-check",[MT]:"fire-app-check-compat",[LT]:"fire-auth",[zT]:"fire-auth-compat",[BT]:"fire-rtdb",[jT]:"fire-data-connect",[PT]:"fire-rtdb-compat",[qT]:"fire-fn",[kT]:"fire-fn-compat",[HT]:"fire-iid",[GT]:"fire-iid-compat",[QT]:"fire-fcm",[FT]:"fire-fcm-compat",[YT]:"fire-perf",[KT]:"fire-perf-compat",[XT]:"fire-rc",[ZT]:"fire-rc-compat",[$T]:"fire-gcs",[JT]:"fire-gcs-compat",[WT]:"fire-fst",[eA]:"fire-fst-compat",[tA]:"fire-vertex","fire-js":"fire-js",[nA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new Map,sA=new Map,qf=new Map;function yy(r,e){try{r.container.addComponent(e)}catch(i){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Go(r){const e=r.name;if(qf.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;qf.set(e,r);for(const i of Ho.values())yy(i,r);for(const i of sA.values())yy(i,r);return!0}function rA(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function lA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new E_("app","Firebase",uA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=iA;function b_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Pf,automaticDataCollectionEnabled:!1},e),u=s.name;if(typeof u!="string"||!u)throw fa.create("bad-app-name",{appName:String(u)});if(i||(i=v_()),!i)throw fa.create("no-options");const h=Ho.get(u);if(h){if(ko(i,h.options)&&ko(s,h.config))return h;throw fa.create("duplicate-app",{appName:u})}const d=new dT(u);for(const _ of qf.values())d.addComponent(_);const g=new oA(i,s,d);return Ho.set(u,g),g}function hA(r=Pf){const e=Ho.get(r);if(!e&&r===Pf&&v_())return b_();if(!e)throw fa.create("no-app",{appName:r});return e}function mr(r,e,i){var s;let u=(s=aA[r])!==null&&s!==void 0?s:r;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(g.join(" "));return}Go(new Yl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="firebase-heartbeat-database",dA=1,Kl="firebase-heartbeat-store";let xf=null;function R_(){return xf||(xf=wT(fA,dA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(i){console.warn(i)}}}}).catch(r=>{throw fa.create("idb-open",{originalErrorMessage:r.message})})),xf}async function mA(r){try{const i=(await R_()).transaction(Kl),s=await i.objectStore(Kl).get(w_(r));return await i.done,s}catch(e){if(e instanceof br)Ni.warn(e.message);else{const i=fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(i.message)}}}async function _y(r,e){try{const s=(await R_()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,w_(r)),await s.done}catch(i){if(i instanceof br)Ni.warn(i.message);else{const s=fa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ni.warn(s.message)}}}function w_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=1024,pA=30;class yA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new vA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=vy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>pA){const d=EA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ni.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=vy(),{heartbeatsToSend:s,unsentEntries:u}=_A(this._heartbeatsCache.heartbeats),h=qo(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ni.warn(i),""}}}function vy(){return new Date().toISOString().substring(0,10)}function _A(r,e=gA){const i=[];let s=r.slice();for(const u of r){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Ey(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Ey(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class vA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sT()?rT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await mA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return _y(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return _y(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Ey(r){return qo(JSON.stringify({version:2,heartbeats:r})).length}function EA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(r){Go(new Yl("platform-logger",e=>new VT(e),"PRIVATE")),Go(new Yl("heartbeat",e=>new yA(e),"PRIVATE")),mr(jf,py,r),mr(jf,py,"esm2017"),mr("fire-js","")}TA("");var AA="firebase",SA="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(AA,SA,"app");var Ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,D_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function D(){}D.prototype=S.prototype,x.D=S.prototype,x.prototype=new D,x.prototype.constructor=x,x.C=function(I,O,U){for(var w=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)w[xe-2]=arguments[xe];return S.prototype[O].apply(I,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(x,S,D){D||(D=0);var I=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)I[O]=S.charCodeAt(D++)|S.charCodeAt(D++)<<8|S.charCodeAt(D++)<<16|S.charCodeAt(D++)<<24;else for(O=0;16>O;++O)I[O]=S[D++]|S[D++]<<8|S[D++]<<16|S[D++]<<24;S=x.g[0],D=x.g[1],O=x.g[2];var U=x.g[3],w=S+(U^D&(O^U))+I[0]+3614090360&4294967295;S=D+(w<<7&4294967295|w>>>25),w=U+(O^S&(D^O))+I[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(D^U&(S^D))+I[2]+606105819&4294967295,O=U+(w<<17&4294967295|w>>>15),w=D+(S^O&(U^S))+I[3]+3250441966&4294967295,D=O+(w<<22&4294967295|w>>>10),w=S+(U^D&(O^U))+I[4]+4118548399&4294967295,S=D+(w<<7&4294967295|w>>>25),w=U+(O^S&(D^O))+I[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(D^U&(S^D))+I[6]+2821735955&4294967295,O=U+(w<<17&4294967295|w>>>15),w=D+(S^O&(U^S))+I[7]+4249261313&4294967295,D=O+(w<<22&4294967295|w>>>10),w=S+(U^D&(O^U))+I[8]+1770035416&4294967295,S=D+(w<<7&4294967295|w>>>25),w=U+(O^S&(D^O))+I[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(D^U&(S^D))+I[10]+4294925233&4294967295,O=U+(w<<17&4294967295|w>>>15),w=D+(S^O&(U^S))+I[11]+2304563134&4294967295,D=O+(w<<22&4294967295|w>>>10),w=S+(U^D&(O^U))+I[12]+1804603682&4294967295,S=D+(w<<7&4294967295|w>>>25),w=U+(O^S&(D^O))+I[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(D^U&(S^D))+I[14]+2792965006&4294967295,O=U+(w<<17&4294967295|w>>>15),w=D+(S^O&(U^S))+I[15]+1236535329&4294967295,D=O+(w<<22&4294967295|w>>>10),w=S+(O^U&(D^O))+I[1]+4129170786&4294967295,S=D+(w<<5&4294967295|w>>>27),w=U+(D^O&(S^D))+I[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^D&(U^S))+I[11]+643717713&4294967295,O=U+(w<<14&4294967295|w>>>18),w=D+(U^S&(O^U))+I[0]+3921069994&4294967295,D=O+(w<<20&4294967295|w>>>12),w=S+(O^U&(D^O))+I[5]+3593408605&4294967295,S=D+(w<<5&4294967295|w>>>27),w=U+(D^O&(S^D))+I[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^D&(U^S))+I[15]+3634488961&4294967295,O=U+(w<<14&4294967295|w>>>18),w=D+(U^S&(O^U))+I[4]+3889429448&4294967295,D=O+(w<<20&4294967295|w>>>12),w=S+(O^U&(D^O))+I[9]+568446438&4294967295,S=D+(w<<5&4294967295|w>>>27),w=U+(D^O&(S^D))+I[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^D&(U^S))+I[3]+4107603335&4294967295,O=U+(w<<14&4294967295|w>>>18),w=D+(U^S&(O^U))+I[8]+1163531501&4294967295,D=O+(w<<20&4294967295|w>>>12),w=S+(O^U&(D^O))+I[13]+2850285829&4294967295,S=D+(w<<5&4294967295|w>>>27),w=U+(D^O&(S^D))+I[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^D&(U^S))+I[7]+1735328473&4294967295,O=U+(w<<14&4294967295|w>>>18),w=D+(U^S&(O^U))+I[12]+2368359562&4294967295,D=O+(w<<20&4294967295|w>>>12),w=S+(D^O^U)+I[5]+4294588738&4294967295,S=D+(w<<4&4294967295|w>>>28),w=U+(S^D^O)+I[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^D)+I[11]+1839030562&4294967295,O=U+(w<<16&4294967295|w>>>16),w=D+(O^U^S)+I[14]+4259657740&4294967295,D=O+(w<<23&4294967295|w>>>9),w=S+(D^O^U)+I[1]+2763975236&4294967295,S=D+(w<<4&4294967295|w>>>28),w=U+(S^D^O)+I[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^D)+I[7]+4139469664&4294967295,O=U+(w<<16&4294967295|w>>>16),w=D+(O^U^S)+I[10]+3200236656&4294967295,D=O+(w<<23&4294967295|w>>>9),w=S+(D^O^U)+I[13]+681279174&4294967295,S=D+(w<<4&4294967295|w>>>28),w=U+(S^D^O)+I[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^D)+I[3]+3572445317&4294967295,O=U+(w<<16&4294967295|w>>>16),w=D+(O^U^S)+I[6]+76029189&4294967295,D=O+(w<<23&4294967295|w>>>9),w=S+(D^O^U)+I[9]+3654602809&4294967295,S=D+(w<<4&4294967295|w>>>28),w=U+(S^D^O)+I[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^D)+I[15]+530742520&4294967295,O=U+(w<<16&4294967295|w>>>16),w=D+(O^U^S)+I[2]+3299628645&4294967295,D=O+(w<<23&4294967295|w>>>9),w=S+(O^(D|~U))+I[0]+4096336452&4294967295,S=D+(w<<6&4294967295|w>>>26),w=U+(D^(S|~O))+I[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~D))+I[14]+2878612391&4294967295,O=U+(w<<15&4294967295|w>>>17),w=D+(U^(O|~S))+I[5]+4237533241&4294967295,D=O+(w<<21&4294967295|w>>>11),w=S+(O^(D|~U))+I[12]+1700485571&4294967295,S=D+(w<<6&4294967295|w>>>26),w=U+(D^(S|~O))+I[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~D))+I[10]+4293915773&4294967295,O=U+(w<<15&4294967295|w>>>17),w=D+(U^(O|~S))+I[1]+2240044497&4294967295,D=O+(w<<21&4294967295|w>>>11),w=S+(O^(D|~U))+I[8]+1873313359&4294967295,S=D+(w<<6&4294967295|w>>>26),w=U+(D^(S|~O))+I[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~D))+I[6]+2734768916&4294967295,O=U+(w<<15&4294967295|w>>>17),w=D+(U^(O|~S))+I[13]+1309151649&4294967295,D=O+(w<<21&4294967295|w>>>11),w=S+(O^(D|~U))+I[4]+4149444226&4294967295,S=D+(w<<6&4294967295|w>>>26),w=U+(D^(S|~O))+I[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~D))+I[2]+718787259&4294967295,O=U+(w<<15&4294967295|w>>>17),w=D+(U^(O|~S))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var D=S-this.blockSize,I=this.B,O=this.h,U=0;U<S;){if(O==0)for(;U<=D;)u(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<S;)if(I[O++]=x.charCodeAt(U++),O==this.blockSize){u(this,I),O=0;break}}else for(;U<S;)if(I[O++]=x[U++],O==this.blockSize){u(this,I),O=0;break}}this.h=O,this.o+=S},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var D=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=D&255,D/=256;for(this.u(x),x=Array(16),S=D=0;4>S;++S)for(var I=0;32>I;I+=8)x[D++]=this.g[S]>>>I&255;return x};function h(x,S){var D=g;return Object.prototype.hasOwnProperty.call(D,x)?D[x]:D[x]=S(x)}function d(x,S){this.h=S;for(var D=[],I=!0,O=x.length-1;0<=O;O--){var U=x[O]|0;I&&U==S||(D[O]=U,I=!1)}this.g=D}var g={};function _(x){return-128<=x&&128>x?h(x,function(S){return new d([S|0],0>S?-1:0)}):new d([x|0],0>x?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return R;if(0>x)return W(v(-x));for(var S=[],D=1,I=0;x>=D;I++)S[I]=x/D|0,D*=4294967296;return new d(S,0)}function A(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return W(A(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=v(Math.pow(S,8)),I=R,O=0;O<x.length;O+=8){var U=Math.min(8,x.length-O),w=parseInt(x.substring(O,O+U),S);8>U?(U=v(Math.pow(S,U)),I=I.j(U).add(v(w))):(I=I.j(D),I=I.add(v(w)))}return I}var R=_(0),N=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(it(this))return-W(this).m();for(var x=0,S=1,D=0;D<this.g.length;D++){var I=this.i(D);x+=(0<=I?I:4294967296+I)*S,S*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if($(this))return"0";if(it(this))return"-"+W(this).toString(x);for(var S=v(Math.pow(x,6)),D=this,I="";;){var O=jt(D,S).g;D=bt(D,O.j(S));var U=((0<D.g.length?D.g[0]:D.h)>>>0).toString(x);if(D=O,$(D))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function $(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function it(x){return x.h==-1}r.l=function(x){return x=bt(this,x),it(x)?-1:$(x)?0:1};function W(x){for(var S=x.g.length,D=[],I=0;I<S;I++)D[I]=~x.g[I];return new d(D,~x.h).add(N)}r.abs=function(){return it(this)?W(this):this},r.add=function(x){for(var S=Math.max(this.g.length,x.g.length),D=[],I=0,O=0;O<=S;O++){var U=I+(this.i(O)&65535)+(x.i(O)&65535),w=(U>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);I=w>>>16,U&=65535,w&=65535,D[O]=w<<16|U}return new d(D,D[D.length-1]&-2147483648?-1:0)};function bt(x,S){return x.add(W(S))}r.j=function(x){if($(this)||$(x))return R;if(it(this))return it(x)?W(this).j(W(x)):W(W(this).j(x));if(it(x))return W(this.j(W(x)));if(0>this.l(H)&&0>x.l(H))return v(this.m()*x.m());for(var S=this.g.length+x.g.length,D=[],I=0;I<2*S;I++)D[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<x.g.length;O++){var U=this.i(I)>>>16,w=this.i(I)&65535,xe=x.i(O)>>>16,ie=x.i(O)&65535;D[2*I+2*O]+=w*ie,Tt(D,2*I+2*O),D[2*I+2*O+1]+=U*ie,Tt(D,2*I+2*O+1),D[2*I+2*O+1]+=w*xe,Tt(D,2*I+2*O+1),D[2*I+2*O+2]+=U*xe,Tt(D,2*I+2*O+2)}for(I=0;I<S;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=S;I<2*S;I++)D[I]=0;return new d(D,0)};function Tt(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function pt(x,S){this.g=x,this.h=S}function jt(x,S){if($(S))throw Error("division by zero");if($(x))return new pt(R,R);if(it(x))return S=jt(W(x),S),new pt(W(S.g),W(S.h));if(it(S))return S=jt(x,W(S)),new pt(W(S.g),S.h);if(30<x.g.length){if(it(x)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var D=N,I=S;0>=I.l(x);)D=vt(D),I=vt(I);var O=Lt(D,1),U=Lt(I,1);for(I=Lt(I,2),D=Lt(D,2);!$(I);){var w=U.add(I);0>=w.l(x)&&(O=O.add(D),U=w),I=Lt(I,1),D=Lt(D,1)}return S=bt(x,O.j(S)),new pt(O,S)}for(O=R;0<=x.l(S);){for(D=Math.max(1,Math.floor(x.m()/S.m())),I=Math.ceil(Math.log(D)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=v(D),w=U.j(S);it(w)||0<w.l(x);)D-=I,U=v(D),w=U.j(S);$(U)&&(U=N),O=O.add(U),x=bt(x,w)}return new pt(O,x)}r.A=function(x){return jt(this,x).h},r.and=function(x){for(var S=Math.max(this.g.length,x.g.length),D=[],I=0;I<S;I++)D[I]=this.i(I)&x.i(I);return new d(D,this.h&x.h)},r.or=function(x){for(var S=Math.max(this.g.length,x.g.length),D=[],I=0;I<S;I++)D[I]=this.i(I)|x.i(I);return new d(D,this.h|x.h)},r.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),D=[],I=0;I<S;I++)D[I]=this.i(I)^x.i(I);return new d(D,this.h^x.h)};function vt(x){for(var S=x.g.length+1,D=[],I=0;I<S;I++)D[I]=x.i(I)<<1|x.i(I-1)>>>31;return new d(D,x.h)}function Lt(x,S){var D=S>>5;S%=32;for(var I=x.g.length-D,O=[],U=0;U<I;U++)O[U]=0<S?x.i(U+D)>>>S|x.i(U+D+1)<<32-S:x.i(U+D);return new d(O,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,D_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,da=d}).apply(typeof Ty<"u"?Ty:typeof self<"u"?self:typeof window<"u"?window:{});var Io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C_,jl,V_,Uo,kf,I_,N_,x_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Io=="object"&&Io];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,L={next:function(){if(!T&&p<o.length){var k=p++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function R(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function N(o,m,p){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:R,N.apply(null,arguments)}function H(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function $(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,L,k){for(var tt=Array(arguments.length-2),It=2;It<arguments.length;It++)tt[It-2]=arguments[It];return m.prototype[L].apply(T,tt)}}function it(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function W(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=o.length||0,k=T.length||0;o.length=L+k;for(let tt=0;tt<k;tt++)o[L+tt]=T[tt]}else o.push(T)}}class bt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Tt(o){return/^[\s\xa0]*$/.test(o)}function pt(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function jt(o){return jt[" "](o),o}jt[" "]=function(){};var vt=pt().indexOf("Gecko")!=-1&&!(pt().toLowerCase().indexOf("webkit")!=-1&&pt().indexOf("Edge")==-1)&&!(pt().indexOf("Trident")!=-1||pt().indexOf("MSIE")!=-1)&&pt().indexOf("Edge")==-1;function Lt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function x(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function S(o){const m={};for(const p in o)m[p]=o[p];return m}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let k=0;k<D.length;k++)p=D[k],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function O(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function U(o){g.setTimeout(()=>{throw o},0)}function w(){var o=zt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class xe{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new bt(()=>new G,o=>o.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ut=!1,zt=new xe,C=()=>{const o=g.Promise.resolve(void 0);et=()=>{o.then(X)}};var X=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){U(p)}var m=ie;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ut=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function Rt(o,m){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(vt){t:{try{jt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:gt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Rt.aa.h.call(this)}}$(Rt,J);var gt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Ln(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Ui(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ai(o){this.src=o,this.g={},this.h=0}ai.prototype.add=function(o,m,p,T,L){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var tt=wa(o,m,T,L);return-1<tt?(m=o[tt],p||(m.fa=!1)):(m=new Ln(m,this.src,k,!!T,L),m.fa=p,o.push(m)),m};function Ra(o,m){var p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=L)&&Array.prototype.splice.call(T,L,1),k&&(Ui(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function wa(o,m,p,T){for(var L=0;L<o.length;++L){var k=o[L];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return L}return-1}var Da="closure_lm_"+(1e6*Math.random()|0),Vr={};function su(o,m,p,T,L){if(Array.isArray(m)){for(var k=0;k<m.length;k++)su(o,m[k],p,T,L);return null}return p=ru(p),o&&o[Re]?o.K(m,p,v(T)?!!T.capture:!1,L):gn(o,m,p,!1,T,L)}function gn(o,m,p,T,L,k){if(!m)throw Error("Invalid event type");var tt=v(L)?!!L.capture:!!L,It=vs(o);if(It||(o[Da]=It=new ai(o)),p=It.add(m,p,T,tt,k),p.proxy)return p;if(T=Ac(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)ot||(L=tt),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Ca(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ac(){function o(p){return m.call(o.src,o.listener,p)}const m=Sc;return o}function Ir(o,m,p,T,L){if(Array.isArray(m))for(var k=0;k<m.length;k++)Ir(o,m[k],p,T,L);else T=v(T)?!!T.capture:!!T,p=ru(p),o&&o[Re]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],p=wa(k,p,T,L),-1<p&&(Ui(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=vs(o))&&(m=o.g[m.toString()],o=-1,m&&(o=wa(m,p,T,L)),(p=-1<o?m[o]:null)&&_s(p))}function _s(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Re])Ra(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Ca(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=vs(m))?(Ra(p,o),p.h==0&&(p.src=null,m[Da]=null)):Ui(o)}}}function Ca(o){return o in Vr?Vr[o]:Vr[o]="on"+o}function Sc(o,m){if(o.da)o=!0;else{m=new Rt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&_s(o),o=p.call(T,m)}return o}function vs(o){return o=o[Da],o instanceof ai?o:null}var Nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ru(o){return typeof o=="function"?o:(o[Nr]||(o[Nr]=function(m){return o.handleEvent(m)}),o[Nr])}function ae(){nt.call(this),this.i=new ai(this),this.M=this,this.F=null}$(ae,nt),ae.prototype[Re]=!0,ae.prototype.removeEventListener=function(o,m,p,T){Ir(this,o,m,p,T)};function kt(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new J(m,o);else if(m instanceof J)m.target=m.target||o;else{var L=m;m=new J(T,o),I(m,L)}if(L=!0,p)for(var k=p.length-1;0<=k;k--){var tt=m.g=p[k];L=an(tt,T,!0,m)&&L}if(tt=m.g=o,L=an(tt,T,!0,m)&&L,L=an(tt,T,!1,m)&&L,p)for(k=0;k<p.length;k++)tt=m.g=p[k],L=an(tt,T,!1,m)&&L}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Ui(p[T]);delete o.g[m],o.h--}}this.F=null},ae.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ae.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function an(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,k=0;k<m.length;++k){var tt=m[k];if(tt&&!tt.da&&tt.capture==p){var It=tt.listener,ye=tt.ha||tt.src;tt.fa&&Ra(o.i,tt),L=It.call(ye,T)!==!1&&L}}return L&&!T.defaultPrevented}function qe(o,m,p){if(typeof o=="function")p&&(o=N(o,p));else if(o&&typeof o.handleEvent=="function")o=N(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function lu(o){o.g=qe(()=>{o.g=null,o.i&&(o.i=!1,lu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class bc extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Va(o){nt.call(this),this.h=o,this.g={}}$(Va,nt);var Ia=[];function Na(o){Lt(o.g,function(m,p){this.g.hasOwnProperty(p)&&_s(m)},o),o.g={}}Va.prototype.N=function(){Va.aa.N.call(this),Na(this)},Va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=g.JSON.stringify,Es=g.JSON.parse,xa=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function xr(){}xr.prototype.h=null;function Or(o){return o.h||(o.h=o.i())}function Mr(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ri(){J.call(this,"d")}$(ri,J);function Ur(){J.call(this,"c")}$(Ur,J);var zn={},Lr=null;function Li(){return Lr=Lr||new ae}zn.La="serverreachability";function Ts(o){J.call(this,zn.La,o)}$(Ts,J);function zi(o){const m=Li();kt(m,new Ts(m))}zn.STAT_EVENT="statevent";function uu(o,m){J.call(this,zn.STAT_EVENT,o),this.stat=m}$(uu,J);function Jt(o){const m=Li();kt(m,new uu(m,o))}zn.Ma="timingevent";function pe(o,m){J.call(this,zn.Ma,o),this.size=m}$(pe,J);function he(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function zr(o,m,p,T,L,k){o.info(function(){if(o.g)if(k)for(var tt="",It=k.split("&"),ye=0;ye<It.length;ye++){var Nt=It[ye].split("=");if(1<Nt.length){var De=Nt[0];Nt=Nt[1];var _e=De.split("_");tt=2<=_e.length&&_e[1]=="type"?tt+(De+"="+Nt+"&"):tt+(De+"=redacted&")}}else tt=null;else tt=k;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+tt})}function Rc(o,m,p,T,L,k,tt){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+k+" "+tt})}function Bi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oa(o,p)+(T?" "+T:"")})}function ou(o,m){o.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Oa(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var k=L[0];if(k!="noop"&&k!="stop"&&k!="close")for(var tt=1;tt<L.length;tt++)L[tt]=""}}}}return Vn(p)}catch{return m}}var ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function jn(){}$(jn,xr),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},Bn=new jn;function Ye(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Va(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Br={},As={};function In(o,m,p){o.L=1,o.v=Ba(sn(m)),o.m=p,o.P=!0,ui(o,null)}function ui(o,m){o.F=Date.now(),Ma(o),o.A=sn(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Gr(p.i,"t",T),o.C=0,p=o.j.J,o.h=new le,o.g=Ru(o.j,p?m:null,!o.m),0<o.O&&(o.M=new bc(N(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ia[0]=L.toString()),L=Ia);for(var k=0;k<L.length;k++){var tt=su(p,L[k],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),zi(),zr(o.i,o.u,o.A,o.l,o.R,o.m)}Ye.prototype.ca=function(o){o=o.target;const m=this.M;m&&En(o)==3?m.j():this.Y(o)},Ye.prototype.Y=function(o){try{if(o==this.g)t:{const _e=En(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||_e!=4||m==7||(m==8||0>=pi?zi(3):zi(2)),Pi(this);var p=this.g.Z();this.X=p;e:if(cu(this)){var T=yu(this.g);o="";var L=T.length,k=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),Pn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,Rc(this.i,this.u,this.A,this.l,this.R,_e,p),this.o){if(this.T&&!this.K){e:{if(this.g){var It,ye=this.g;if((It=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tt(It)){var Nt=It;break e}}Nt=null}if(p=Nt)Bi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ua(this,p);else{this.o=!1,this.s=3,Jt(12),Oe(this),Pn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<tt.length;)if(Me=hu(this,tt),Me==As){_e==4&&(this.s=4,Jt(14),p=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Br){this.s=4,Jt(15),Bi(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else Bi(this.i,this.l,Me,null),Ua(this,Me);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||tt.length!=0||this.h.h||(this.s=1,Jt(16),p=!1),this.o=this.o&&p,!p)Bi(this.i,this.l,tt,"[Invalid Chunked Response]"),Oe(this),Pn(this);else if(0<tt.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Fa(De),De.M=!0,Jt(11))}}else Bi(this.i,this.l,tt,null),Ua(this,tt);_e==4&&Oe(this),this.o&&!this.J&&(_e==4?Au(this.j,this):(this.o=!1,Ma(this)))}else Ic(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Oe(this),Pn(this)}}}catch{}finally{}};function cu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function hu(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?As:(p=Number(m.substring(p,T)),isNaN(p)?Br:(T+=1,T+p>m.length?As:(m=m.slice(T,T+p),o.C=T+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Oe(this)};function Ma(o){o.S=Date.now()+o.I,fu(o,o.I)}function fu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=he(N(o.ba,o),m)}function Pi(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Ye.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(ou(this.i,this.A),this.L!=2&&(zi(),Jt(17)),Oe(this),this.s=2,Pn(this)):fu(this,this.S-o)};function Pn(o){o.j.G==0||o.J||Au(o.j,o)}function Oe(o){Pi(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Na(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Ua(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||jr(p.h,o))){if(!o.K&&jr(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ms(p),xs(p);else break t;Xr(p),Jt(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(N(p.Za,p),6e3));if(1>=bs(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else gi(p,11)}else if((o.K||p.g==o)&&Ms(p),!Tt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Nt=L[m];if(p.T=Nt[0],Nt=Nt[1],p.G==2)if(Nt[0]=="c"){p.K=Nt[1],p.ia=Nt[2];const De=Nt[3];De!=null&&(p.la=De,p.j.info("VER="+p.la));const _e=Nt[4];_e!=null&&(p.Aa=_e,p.j.info("SVER="+p.Aa));const pi=Nt[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=o.g;if(Me){const Yn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var k=T.h;k.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Rs(k,k.h),k.h=null))}if(T.D){const $r=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;$r&&(T.ya=$r,Qt(T.I,T.D,$r))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=o;if(T.qa=bu(T,T.J?T.ia:null,T.W),tt.K){Ke(T.h,tt);var It=tt,ye=T.L;ye&&(It.I=ye),It.B&&(Pi(It),Ma(It)),T.g=tt}else Eu(T);0<p.i.length&&Os(p)}else Nt[0]!="stop"&&Nt[0]!="close"||gi(p,7);else p.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?gi(p,7):Yr(p):Nt[0]!="noop"&&p.l&&p.l.ta(Nt),p.v=0)}}zi(4)}catch{}}var du=class{constructor(o,m){this.g=o,this.map=m}};function oi(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ss(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function bs(o){return o.h?1:o.g?o.g.size:0}function jr(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Rs(o,m){o.g?o.g.add(m):o.h=m}function Ke(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}oi.prototype.cancel=function(){if(this.i=Pr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Pr(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return it(o.i)}function wc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function ws(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function qr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=ws(o),T=wc(o),L=T.length,k=0;k<L;k++)m.call(void 0,T[k],p&&p[k],o)}var La=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dc(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),L=null;if(0<=T){var k=o[p].substring(0,T);L=o[p].substring(T+1)}else k=o[p];m(k,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fe(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fe){this.h=o.h,za(this,o.j),this.o=o.o,this.g=o.g,qi(this,o.s),this.l=o.l;var m=o.i,p=new hi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ci(this,p),this.m=o.m}else o&&(m=String(o).match(La))?(this.h=!1,za(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),qi(this,m[4]),this.l=yn(m[5]||"",!0),ci(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}fe.prototype.toString=function(){var o=[],m=this.j;m&&o.push(ja(m,kr,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(ja(m,kr,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(ja(p,p.charAt(0)=="/"?Cc:Hr,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",ja(p,Ds)),o.join("")};function sn(o){return new fe(o)}function za(o,m,p){o.j=p?yn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function qi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function ci(o,m,p){m instanceof hi?(o.i=m,gu(o.i,o.h)):(p||(m=ja(m,Vc)),o.i=new hi(m,o.h))}function Qt(o,m,p){o.i.set(m,p)}function Ba(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function yn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ja(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,mu),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function mu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var kr=/[#\/\?@]/g,Hr=/[#\?:]/g,Cc=/[#\?]/g,Vc=/[#\?@]/g,Ds=/#/g;function hi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function _n(o){o.g||(o.g=new Map,o.h=0,o.i&&Dc(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=hi.prototype,r.add=function(o,m){_n(this),this.i=null,o=qn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function fi(o,m){_n(o),m=qn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function di(o,m){return _n(o),m=qn(o,m),o.g.has(m)}r.forEach=function(o,m){_n(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)},r.na=function(){_n(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=o[T];for(let k=0;k<L.length;k++)p.push(m[T])}return p},r.V=function(o){_n(this);let m=[];if(typeof o=="string")di(this,o)&&(m=m.concat(this.g.get(qn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},r.set=function(o,m){return _n(this),this.i=null,o=qn(this,o),di(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Gr(o,m,p){fi(o,m),0<p.length&&(o.i=null,o.g.set(qn(o,m),it(p)),o.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const k=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var L=k;tt[T]!==""&&(L+="="+encodeURIComponent(String(tt[T]))),o.push(L)}}return this.i=o.join("&")};function qn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function gu(o,m){m&&!o.j&&(_n(o),o.i=null,o.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(fi(this,T),Gr(this,L,p))},o)),o.j=m}function Pa(o,m){const p=new pn;if(g.Image){const T=new Image;T.onload=H(vn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=H(vn,p,"TestLoadImage: error",!1,m,T),T.onabort=H(vn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(vn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Nn(o,m){const p=new pn,T=new AbortController,L=setTimeout(()=>{T.abort(),vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(L),k.ok?vn(p,"TestPingServer: ok",!0,m):vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),vn(p,"TestPingServer: error",!1,m)})}function vn(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function qa(){this.g=new xa}function kn(o,m,p){const T=p||"";try{qr(o,function(L,k){let tt=L;v(L)&&(tt=Vn(L)),m.push(T+k+"="+encodeURIComponent(tt))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function ki(o){this.l=o.Ub||null,this.j=o.eb||!1}$(ki,xr),ki.prototype.g=function(){return new mi(this.l,this.j)},ki.prototype.i=function(o){return function(){return o}}({});function mi(o,m){ae.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(mi,ae),r=mi.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Gn(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},r.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qr(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qr(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}r.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Hn(this):Gn(this),this.readyState==3&&Qr(this)}},r.Ra=function(o){this.g&&(this.response=this.responseText=o,Hn(this))},r.Qa=function(o){this.g&&(this.response=o,Hn(this))},r.ga=function(){this.g&&Hn(this)};function Hn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gn(o)}r.setRequestHeader=function(o,m){this.u.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Gn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Fr(o){let m="";return Lt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function we(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Fr(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Qt(o,m,p))}function Pt(o){ae.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Pt,ae);var Cs=/^https?$/i,ka=["POST","PUT"];r=Pt.prototype,r.Ha=function(o){this.J=o},r.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?Or(this.o):Or(Bn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){pu(this,k);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ka,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,tt]of p)this.g.setRequestHeader(k,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ha(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){pu(this,k)}};function pu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Vs(o),Qn(o)}function Vs(o){o.A||(o.A=!0,kt(o,"complete"),kt(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,kt(this,"complete"),kt(this,"abort"),Qn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),Pt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Is(this):this.bb())},r.bb=function(){Is(this)};function Is(o){if(o.h&&typeof d<"u"&&(!o.v[1]||En(o)!=4||o.Z()!=2)){if(o.u&&En(o)==4)qe(o.Ea,0,o);else if(kt(o,"readystatechange"),En(o)==4){o.h=!1;try{const tt=o.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var L=String(o.D).match(La)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Cs.test(L?L.toLowerCase():"")}p=T}if(p)kt(o,"complete"),kt(o,"success");else{o.m=6;try{var k=2<En(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",Vs(o)}}finally{Qn(o)}}}}function Qn(o,m){if(o.g){Ha(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||kt(o,"ready");try{p.onreadystatechange=T}catch{}}}function Ha(o){o.I&&(g.clearTimeout(o.I),o.I=null)}r.isActive=function(){return!!this.g};function En(o){return o.g?o.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Es(m)}};function yu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ic(o){const m={};o=(o.g&&2<=En(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(Tt(o[T]))continue;var p=O(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[L]||[];m[L]=k,k.push(p)}x(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ns(o){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ga("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ga("baseRetryDelayMs",5e3,o),this.cb=Ga("retryDelaySeedMs",1e4,o),this.Wa=Ga("forwardChannelMaxRetries",2,o),this.wa=Ga("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new oi(o&&o.concurrentRequestLimit),this.Da=new qa,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ns.prototype,r.la=8,r.G=1,r.connect=function(o,m,p,T){Jt(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=bu(this,null,this.W),Os(this)};function Yr(o){if(_u(o),o.G==3){var m=o.U++,p=sn(o.I);if(Qt(p,"SID",o.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Qa(o,p),m=new Ye(o,o.j,m),m.L=2,m.v=Ba(sn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Ru(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ma(m)}Su(o)}function xs(o){o.g&&(Fa(o),o.g.cancel(),o.g=null)}function _u(o){xs(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ms(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Os(o){if(!Ss(o.h)&&!o.s){o.s=!0;var m=o.Ga;et||C(),ut||(et(),ut=!0),zt.add(m,o),o.B=0}}function Nc(o,m){return bs(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=he(N(o.Ga,o,m),Zr(o,o.B)),o.B++,!0)}r.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Ye(this,this.j,o);let k=this.o;if(this.S&&(k?(k=S(k),I(k,this.S)):k=this.S),this.m!==null||this.O||(L.H=k,k=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=vu(this,L,m),p=sn(this.I),Qt(p,"RID",o),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),Qa(this,p),k&&(this.O?m="headers="+encodeURIComponent(String(Fr(k)))+"&"+m:this.m&&we(p,this.m,k)),Rs(this.h,L),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),L.T=!0,In(L,p,null)):In(L,p,m),this.G=2}}else this.G==3&&(o?Kr(this,o):this.i.length==0||Ss(this.h)||Kr(this))};function Kr(o,m){var p;m?p=m.l:p=o.U++;const T=sn(o.I);Qt(T,"SID",o.K),Qt(T,"RID",p),Qt(T,"AID",o.T),Qa(o,T),o.m&&o.o&&we(T,o.m,o.o),p=new Ye(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=vu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Rs(o.h,p),In(p,T,m)}function Qa(o,m){o.H&&Lt(o.H,function(p,T){Qt(m,T,p)}),o.l&&qr({},function(p,T){Qt(m,T,p)})}function vu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?N(o.l.Na,o.l,o):null;t:{var L=o.i;let k=-1;for(;;){const tt=["count="+p];k==-1?0<p?(k=L[0].g,tt.push("ofs="+k)):k=0:tt.push("ofs="+k);let It=!0;for(let ye=0;ye<p;ye++){let Nt=L[ye].g;const De=L[ye].map;if(Nt-=k,0>Nt)k=Math.max(0,L[ye].g-100),It=!1;else try{kn(De,tt,"req"+Nt+"_")}catch{T&&T(De)}}if(It){T=tt.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function Eu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;et||C(),ut||(et(),ut=!0),zt.add(m,o),o.v=0}}function Xr(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=he(N(o.Fa,o),Zr(o,o.v)),o.v++,!0)}r.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=he(N(this.ab,this),o)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),xs(this),Tu(this))};function Fa(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function Tu(o){o.g=new Ye(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=sn(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),Qa(o,m),o.m&&o.o&&we(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Ba(sn(m)),p.m=null,p.P=!0,ui(p,o)}r.Za=function(){this.C!=null&&(this.C=null,xs(this),Xr(this),Jt(19))};function Ms(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Au(o,m){var p=null;if(o.g==m){Ms(o),Fa(o),o.g=null;var T=2}else if(jr(o.h,m))p=m.D,Ke(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Li(),kt(T,new pe(T,p)),Os(o)}else Eu(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Nc(o,m)||T==2&&Xr(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),L){case 1:gi(o,5);break;case 4:gi(o,10);break;case 3:gi(o,6);break;default:gi(o,2)}}}function Zr(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function gi(o,m){if(o.j.info("Error code "+m),m==2){var p=N(o.fb,o),T=o.Xa;const L=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||za(T,"https"),Ba(T),L?Pa(T.toString(),p):Nn(T.toString(),p)}else Jt(2);o.G=0,o.l&&o.l.sa(m),Su(o),_u(o)}r.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Su(o){if(o.G=0,o.ka=[],o.l){const m=Pr(o.h);(m.length!=0||o.i.length!=0)&&(W(o.ka,m),W(o.ka,o.i),o.h.i.length=0,it(o.i),o.i.length=0),o.l.ra()}}function bu(o,m,p){var T=p instanceof fe?sn(p):new fe(p);if(T.g!="")m&&(T.g=m+"."+T.g),qi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var k=new fe(null);T&&za(k,T),m&&(k.g=m),L&&qi(k,L),p&&(k.l=p),T=k}return p=o.D,m=o.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",o.la),Qa(o,T),T}function Ru(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Pt(new ki({eb:p})):new Pt(o.pa),m.Ha(o.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Us(){}Us.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){ae.call(this),this.g=new Ns(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!Tt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Tt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}$(Xe,ae),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Yr(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Vn(o),o=p);m.i.push(new du(m.Ya++,o)),m.G==3&&Os(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Yr(this.g),delete this.g,Xe.aa.N.call(this)};function Du(o){ri.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}$(Du,ri);function Cu(){Ur.call(this),this.status=1}$(Cu,Ur);function Fn(o){this.g=o}$(Fn,wu),Fn.prototype.ua=function(){kt(this.g,"a")},Fn.prototype.ta=function(o){kt(this.g,new Du(o))},Fn.prototype.sa=function(o){kt(this.g,new Cu)},Fn.prototype.ra=function(){kt(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,x_=function(){return new Us},N_=function(){return Li()},I_=zn,kf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ji.NO_ERROR=0,ji.TIMEOUT=8,ji.HTTP_ERROR=6,Uo=ji,li.COMPLETE="complete",V_=li,Mr.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",ae.prototype.listen=ae.prototype.K,jl=Mr,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,C_=Pt}).apply(typeof Io<"u"?Io:typeof self<"u"?self:typeof window<"u"?window:{});const Ay="@firebase/firestore",Sy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rr="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new T_("@firebase/firestore");function cr(){return cs.logLevel}function at(r,...e){if(cs.logLevel<=Mt.DEBUG){const i=e.map(ud);cs.debug(`Firestore (${Rr}): ${r}`,...i)}}function xi(r,...e){if(cs.logLevel<=Mt.ERROR){const i=e.map(ud);cs.error(`Firestore (${Rr}): ${r}`,...i)}}function pr(r,...e){if(cs.logLevel<=Mt.WARN){const i=e.map(ud);cs.warn(`Firestore (${Rr}): ${r}`,...i)}}function ud(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(r="Unexpected state"){const e=`FIRESTORE (${Rr}) INTERNAL ASSERTION FAILED: `+r;throw xi(e),new Error(e)}function qt(r,e){r||mt()}function _t(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends br{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class RA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class wA{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0);let s=this.i;const u=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ii,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ii)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string"),new O_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new Qe(e)}}class DA{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class CA{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new DA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class by{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,lA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0);const s=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const u=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new by(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string"),this.R=i.token,new by(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=IA(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<i&&(s+=e.charAt(u[h]%62))}return s}}function St(r,e){return r<e?-1:r>e?1:0}function Hf(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),u=e.codePointAt(i);if(s!==u){if(s<128&&u<128)return St(s,u);{const h=M_(),d=NA(h.encode(Ry(r,i)),h.encode(Ry(e,i)));return d!==0?d:St(s,u)}}i+=s>65535?2:1}return St(r.length,e.length)}function Ry(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function NA(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return St(r[i],e[i]);return St(r.length,e.length)}function yr(r,e,i){return r.length===e.length&&r.every((s,u)=>i(s,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=-62135596800,Dy=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Dy);return new Se(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<wy)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dy}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-wy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Se(0,0))}static max(){return new yt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="__name__";class Wn{constructor(e,i,s){i===void 0?i=0:i>e.length&&mt(),s===void 0?s=e.length-i:s>e.length-i&&mt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const h=Wn.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return St(e.length,i.length)}static compareSegments(e,i){const s=Wn.isNumericId(e),u=Wn.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):Hf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return da.fromString(e.substring(4,e.length-2))}}class te extends Wn{construct(e,i,s){return new te(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new te(i)}static emptyPath(){return new te([])}}const xA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends Wn{construct(e,i,s){return new je(e,i,s)}static isValidIdentifier(e){return xA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cy}static keyField(){return new je([Cy])}static fromServerFormat(e){const i=[];let s="",u=0;const h=()=>{if(s.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(s+=g,u++):(h(),u++)}if(h(),d)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(te.fromString(e))}static fromName(e){return new ct(te.fromString(e).popFirst(5))}static empty(){return new ct(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new te(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function OA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=yt.fromTimestamp(s===1e9?new Se(i+1,0):new Se(i,s));return new pa(u,ct.empty(),e)}function MA(r){return new pa(r.readTime,r.key,Xl)}class pa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new pa(yt.min(),ct.empty(),Xl)}static max(){return new pa(yt.max(),ct.empty(),Xl)}}function UA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,e.documentKey),i!==0?i:St(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wr(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==LA)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):K.reject(i)}static resolve(e){return new K((i,s)=>{i(e)})}static reject(e){return new K((i,s)=>{s(e)})}static waitFor(e){return new K((i,s)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>s(_))}),d=!0,h===u&&i()})}static or(e){let i=K.resolve(!1);for(const s of e)i=i.next(u=>u?K.resolve(u):s());return i}static forEach(e,i){const s=[];return e.forEach((u,h)=>{s.push(i.call(this,u,h))}),this.waitFor(s)}static mapArray(e,i){return new K((s,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>u(A))}})}static doWhile(e,i){return new K((s,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):s()};h()})}}function BA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Dr(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ic.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=-1;function ac(r){return r==null}function Qo(r){return r===0&&1/r==-1/0}function jA(r){return typeof r=="number"&&Number.isInteger(r)&&!Qo(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="";function PA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Vy(e)),e=qA(r.get(i),e);return Vy(e)}function qA(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const h=r.charAt(u);switch(h){case"\0":i+="";break;case L_:i+="";break;default:i+=h}}return i}function Vy(r){return r+L_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Sa(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function z_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new No(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new No(this.root,e,this.comparator,!1)}getReverseIterator(){return new No(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new No(this.root,e,this.comparator,!0)}}class No{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,s,u,h){this.key=e,this.value=i,this.color=s??Be.RED,this.left=u??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,h){return new Be(e??this.key,i??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const h=s(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,s),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(e,i,s,u,h){return this}insert(e,i,s){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ny(this.data.getIterator())}getIteratorFrom(e){return new Ny(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class Ny{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(je.comparator)}static empty(){return new dn([])}unionWith(e){let i=new be(je.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new dn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return yr(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new B_("Invalid base64 string: "+h):h}}(e);return new Pe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const kA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(r){if(qt(!!r),typeof r=="string"){let e=0;const i=kA.exec(r);if(qt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _a(r){return typeof r=="string"?Pe.fromBase64String(r):Pe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="server_timestamp",P_="__type__",q_="__previous_value__",k_="__local_write_time__";function cd(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[P_])===null||i===void 0?void 0:i.stringValue)===j_}function sc(r){const e=r.mapValue.fields[q_];return cd(e)?sc(e):e}function Zl(r){const e=ya(r.mapValue.fields[k_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,i,s,u,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const Fo="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||Fo}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Fo}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="__type__",GA="__max__",xo={mapValue:{}},G_="__vector__",Yo="value";function va(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cd(r)?4:FA(r)?9007199254740991:QA(r)?10:11:mt()}function ni(r,e){if(r===e)return!0;const i=va(r);if(i!==va(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zl(r).isEqual(Zl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=ya(u.timestampValue),g=ya(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(u,h){return _a(u.bytesValue).isEqual(_a(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(r,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),g=ce(h.doubleValue);return d===g?Qo(d)===Qo(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return yr(r.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(Iy(d)!==Iy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ni(d[_],g[_])))return!1;return!0}(r,e);default:return mt()}}function Jl(r,e){return(r.values||[]).find(i=>ni(i,e))!==void 0}function _r(r,e){if(r===e)return 0;const i=va(r),s=va(e);if(i!==s)return St(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return St(r.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),_=ce(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(r,e);case 3:return xy(r.timestampValue,e.timestampValue);case 4:return xy(Zl(r),Zl(e));case 5:return Hf(r.stringValue,e.stringValue);case 6:return function(h,d){const g=_a(h),_=_a(d);return g.compareTo(_)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=St(g[v],_[v]);if(A!==0)return A}return St(g.length,_.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const g=St(ce(h.latitude),ce(d.latitude));return g!==0?g:St(ce(h.longitude),ce(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Oy(r.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const R=h.fields||{},N=d.fields||{},H=(g=R[Yo])===null||g===void 0?void 0:g.arrayValue,$=(_=N[Yo])===null||_===void 0?void 0:_.arrayValue,it=St(((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0,((A=$==null?void 0:$.values)===null||A===void 0?void 0:A.length)||0);return it!==0?it:Oy(H,$)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===xo.mapValue&&d===xo.mapValue)return 0;if(h===xo.mapValue)return 1;if(d===xo.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let R=0;R<_.length&&R<A.length;++R){const N=Hf(_[R],A[R]);if(N!==0)return N;const H=_r(g[_[R]],v[A[R]]);if(H!==0)return H}return St(_.length,A.length)}(r.mapValue,e.mapValue);default:throw mt()}}function xy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return St(r,e);const i=ya(r),s=ya(e),u=St(i.seconds,s.seconds);return u!==0?u:St(i.nanos,s.nanos)}function Oy(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const h=_r(i[u],s[u]);if(h)return h}return St(i.length,s.length)}function vr(r){return Gf(r)}function Gf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=ya(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return _a(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ct.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",u=!0;for(const h of i.values||[])u?u=!1:s+=",",s+=Gf(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of s)h?h=!1:u+=",",u+=`${d}:${Gf(i.fields[d])}`;return u+"}"}(r.mapValue):mt()}function Lo(r){switch(va(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sc(r);return e?16+Lo(e):16;case 5:return 2*r.stringValue.length;case 6:return _a(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((u,h)=>u+Lo(h),0)}(r.arrayValue);case 10:case 11:return function(s){let u=0;return Sa(s.fields,(h,d)=>{u+=h.length+Lo(d)}),u}(r.mapValue);default:throw mt()}}function Qf(r){return!!r&&"integerValue"in r}function hd(r){return!!r&&"arrayValue"in r}function My(r){return!!r&&"nullValue"in r}function Uy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zo(r){return!!r&&"mapValue"in r}function QA(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[H_])===null||i===void 0?void 0:i.stringValue)===G_}function Hl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Sa(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Hl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function FA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===GA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!zo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=je.emptyPath(),s={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,u),s={},u=[],i=g.popLast()}d?s[g.lastSegment()]=Hl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,u)}delete(e){const i=this.field(e.popLast());zo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];zo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){Sa(i,(u,h)=>e[u]=h);for(const u of s)delete e[u]}clone(){return new en(Hl(this.value))}}function Q_(r){const e=[];return Sa(r.fields,(i,s)=>{const u=new je([i]);if(zo(s)){const h=Q_(s.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,s,u,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,yt.min(),yt.min(),yt.min(),en.empty(),0)}static newFoundDocument(e,i,s,u){return new Fe(e,1,i,yt.min(),s,u,0)}static newNoDocument(e,i){return new Fe(e,2,i,yt.min(),yt.min(),en.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,yt.min(),yt.min(),en.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,i){this.position=e,this.inclusive=i}}function Ly(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const h=e[u],d=r.position[u];if(h.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=_r(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function zy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ni(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,i="asc"){this.field=e,this.dir=i}}function YA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{}class Ae extends F_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new XA(e,i,s):i==="array-contains"?new JA(e,s):i==="in"?new WA(e,s):i==="not-in"?new tS(e,s):i==="array-contains-any"?new eS(e,s):new Ae(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new ZA(e,s):new $A(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(_r(i,this.value)):i!==null&&va(this.value)===va(i)&&this.matchesComparison(_r(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends F_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ii(e,i)}matches(e){return Y_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Y_(r){return r.op==="and"}function K_(r){return KA(r)&&Y_(r)}function KA(r){for(const e of r.filters)if(e instanceof ii)return!1;return!0}function Ff(r){if(r instanceof Ae)return r.field.canonicalString()+r.op.toString()+vr(r.value);if(K_(r))return r.filters.map(e=>Ff(e)).join(",");{const e=r.filters.map(i=>Ff(i)).join(",");return`${r.op}(${e})`}}function X_(r,e){return r instanceof Ae?function(s,u){return u instanceof Ae&&s.op===u.op&&s.field.isEqual(u.field)&&ni(s.value,u.value)}(r,e):r instanceof ii?function(s,u){return u instanceof ii&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((h,d,g)=>h&&X_(d,u.filters[g]),!0):!1}(r,e):void mt()}function Z_(r){return r instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${vr(i.value)}`}(r):r instanceof ii?function(i){return i.op.toString()+" {"+i.getFilters().map(Z_).join(" ,")+"}"}(r):"Filter"}class XA extends Ae{constructor(e,i,s){super(e,i,s),this.key=ct.fromName(s.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class ZA extends Ae{constructor(e,i){super(e,"in",i),this.keys=$_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class $A extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=$_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function $_(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ct.fromName(s.referenceValue))}class JA extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return hd(i)&&Jl(i.arrayValue,this.value)}}class WA extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class tS extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Jl(this.value.arrayValue,i)}}class eS extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!hd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,i=null,s=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function By(r,e=null,i=[],s=[],u=null,h=null,d=null){return new nS(r,e,i,s,u,h,d)}function fd(r){const e=_t(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Ff(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),ac(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>vr(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>vr(s)).join(",")),e.le=i}return e.le}function dd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!YA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!X_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!zy(r.startAt,e.startAt)&&zy(r.endAt,e.endAt)}function Yf(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i=null,s=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function iS(r,e,i,s,u,h,d,g){return new rc(r,e,i,s,u,h,d,g)}function md(r){return new rc(r)}function jy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function aS(r){return r.collectionGroup!==null}function Gl(r){const e=_t(r);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(je.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Xo(h,s))}),i.has(je.keyField().canonicalString())||e.he.push(new Xo(je.keyField(),s))}return e.he}function ti(r){const e=_t(r);return e.Pe||(e.Pe=sS(e,Gl(r))),e.Pe}function sS(r,e){if(r.limitType==="F")return By(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Xo(u.field,h)});const i=r.endAt?new Ko(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ko(r.startAt.position,r.startAt.inclusive):null;return By(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Kf(r,e,i){return new rc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function lc(r,e){return dd(ti(r),ti(e))&&r.limitType===e.limitType}function J_(r){return`${fd(ti(r))}|lt:${r.limitType}`}function hr(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Z_(u)).join(", ")}]`),ac(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>vr(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>vr(u)).join(",")),`Target(${s})`}(ti(r))}; limitType=${r.limitType})`}function uc(r,e){return e.isFoundDocument()&&function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ct.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,u){for(const h of Gl(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(r,e)&&function(s,u){return!(s.startAt&&!function(d,g,_){const v=Ly(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,Gl(s),u)||s.endAt&&!function(d,g,_){const v=Ly(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,Gl(s),u))}(r,e)}function rS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function W_(r){return(e,i)=>{let s=!1;for(const u of Gl(r)){const h=lS(u,e,i);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function lS(r,e,i){const s=r.field.isKeyField()?ct.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?_r(_,v):mt()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return mt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Sa(this.inner,(i,s)=>{for(const[u,h]of s)e(u,h)})}isEmpty(){return z_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=new ne(ct.comparator);function Oi(){return uS}const tv=new ne(ct.comparator);function Pl(...r){let e=tv;for(const i of r)e=e.insert(i.key,i);return e}function ev(r){let e=tv;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function os(){return Ql()}function nv(){return Ql()}function Ql(){return new ds(r=>r.toString(),(r,e)=>r.isEqual(e))}const oS=new ne(ct.comparator),cS=new be(ct.comparator);function Vt(...r){let e=cS;for(const i of r)e=e.add(i);return e}const hS=new be(St);function fS(){return hS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qo(e)?"-0":e}}function iv(r){return{integerValue:""+r}}function dS(r,e){return jA(e)?iv(e):gd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this._=void 0}}function mS(r,e,i){return r instanceof Zo?function(u,h){const d={fields:{[P_]:{stringValue:j_},[k_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&cd(h)&&(h=sc(h)),h&&(d.fields[q_]=h),{mapValue:d}}(i,e):r instanceof Wl?sv(r,e):r instanceof tu?rv(r,e):function(u,h){const d=av(u,h),g=Py(d)+Py(u.Ie);return Qf(d)&&Qf(u.Ie)?iv(g):gd(u.serializer,g)}(r,e)}function gS(r,e,i){return r instanceof Wl?sv(r,e):r instanceof tu?rv(r,e):i}function av(r,e){return r instanceof $o?function(s){return Qf(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Zo extends oc{}class Wl extends oc{constructor(e){super(),this.elements=e}}function sv(r,e){const i=lv(e);for(const s of r.elements)i.some(u=>ni(u,s))||i.push(s);return{arrayValue:{values:i}}}class tu extends oc{constructor(e){super(),this.elements=e}}function rv(r,e){let i=lv(e);for(const s of r.elements)i=i.filter(u=>!ni(u,s));return{arrayValue:{values:i}}}class $o extends oc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function Py(r){return ce(r.integerValue||r.doubleValue)}function lv(r){return hd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function pS(r,e){return r.field.isEqual(e.field)&&function(s,u){return s instanceof Wl&&u instanceof Wl||s instanceof tu&&u instanceof tu?yr(s.elements,u.elements,ni):s instanceof $o&&u instanceof $o?ni(s.Ie,u.Ie):s instanceof Zo&&u instanceof Zo}(r.transform,e.transform)}class yS{constructor(e,i){this.version=e,this.transformResults=i}}class Cn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bo(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class cc{}function uv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new pd(r.key,Cn.none()):new eu(r.key,r.data,Cn.none());{const i=r.data,s=en.empty();let u=new be(je.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),u=u.add(h)}return new ba(r.key,s,new dn(u.toArray()),Cn.none())}}function _S(r,e,i){r instanceof eu?function(u,h,d){const g=u.value.clone(),_=ky(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof ba?function(u,h,d){if(!Bo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=ky(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(ov(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(r,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Fl(r,e,i,s){return r instanceof eu?function(h,d,g,_){if(!Bo(h.precondition,d))return g;const v=h.value.clone(),A=Hy(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,e,i,s):r instanceof ba?function(h,d,g,_){if(!Bo(h.precondition,d))return g;const v=Hy(h.fieldTransforms,_,d),A=d.data;return A.setAll(ov(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(R=>R.field))}(r,e,i,s):function(h,d,g){return Bo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function vS(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),h=av(s.transform,u||null);h!=null&&(i===null&&(i=en.empty()),i.set(s.field,h))}return i||null}function qy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&yr(s,u,(h,d)=>pS(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eu extends cc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ba extends cc{constructor(e,i,s,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function ov(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function ky(r,e,i){const s=new Map;qt(r.length===i.length);for(let u=0;u<i.length;u++){const h=r[u],d=h.transform,g=e.data.field(h.field);s.set(h.field,gS(d,g,i[u]))}return s}function Hy(r,e,i){const s=new Map;for(const u of r){const h=u.transform,d=i.data.field(u.field);s.set(u.field,mS(h,d,e))}return s}class pd extends cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ES extends cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&_S(h,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Fl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=nv();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=uv(d,g);_!==null&&s.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&yr(this.mutations,e.mutations,(i,s)=>qy(i,s))&&yr(this.baseMutations,e.baseMutations,(i,s)=>qy(i,s))}}class yd{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){qt(e.mutations.length===s.length);let u=function(){return oS}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,s[d].version);return new yd(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Ot;function bS(r){switch(r){case Z.OK:return mt();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return mt()}}function cv(r){if(r===void 0)return xi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case ge.OK:return Z.OK;case ge.CANCELLED:return Z.CANCELLED;case ge.UNKNOWN:return Z.UNKNOWN;case ge.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ge.INTERNAL:return Z.INTERNAL;case ge.UNAVAILABLE:return Z.UNAVAILABLE;case ge.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ge.NOT_FOUND:return Z.NOT_FOUND;case ge.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ge.ABORTED:return Z.ABORTED;case ge.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ge.DATA_LOSS:return Z.DATA_LOSS;default:return mt()}}(Ot=ge||(ge={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=new da([4294967295,4294967295],0);function Gy(r){const e=M_().encode(r),i=new D_;return i.update(e),new Uint8Array(i.digest())}function Qy(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new da([i,s],0),new da([u,h],0)]}class _d{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ql(`Invalid padding: ${i}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ql(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=da.fromNumber(this.Ee)}Ae(e,i,s){let u=e.add(i.multiply(da.fromNumber(s)));return u.compare(RS)===1&&(u=new da([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Gy(e),[s,u]=Qy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new _d(h,u,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=Gy(e),[s,u]=Qy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i,s,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new hc(yt.min(),u,new ne(St),Oi(),Vt())}}class nu{constructor(e,i,s,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new nu(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,i,s,u){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=u}}class hv{constructor(e,i){this.targetId=e,this.ge=i}}class fv{constructor(e,i,s=Pe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Fy{constructor(){this.pe=0,this.ye=Yy(),this.we=Pe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Vt(),i=Vt(),s=Vt();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:mt()}}),new nu(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=Yy()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class wS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Oi(),this.$e=Oo(),this.Ue=Oo(),this.Ke=new ne(St)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:mt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,s=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Yf(h))if(s===0){const d=new ct(h.path);this.ze(i,d,Fe.newNoDocument(d,yt.min()))}else qt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=_a(s).toUint8Array()}catch(_){if(_ instanceof B_)return pr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new _d(d,u,h)}catch(_){return pr(_ instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let u=0;return s.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Yf(g.target)){const _=new ct(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Fe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=Vt();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new hc(e,i,this.Ke,this.Qe,s);return this.Qe=Oi(),this.$e=Oo(),this.Ue=Oo(),this.Ke=new ne(St),u}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Fy,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new be(St),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new be(St),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Fy),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Oo(){return new ne(ct.comparator)}function Yy(){return new ne(ct.comparator)}const DS={asc:"ASCENDING",desc:"DESCENDING"},CS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VS={and:"AND",or:"OR"};class IS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Xf(r,e){return r.useProto3Json||ac(e)?e:{value:e}}function Jo(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function NS(r,e){return Jo(r,e.toTimestamp())}function ei(r){return qt(!!r),yt.fromTimestamp(function(i){const s=ya(i);return new Se(s.seconds,s.nanos)}(r))}function vd(r,e){return Zf(r,e).canonicalString()}function Zf(r,e){const i=function(u){return new te(["projects",u.projectId,"databases",u.database])}(r).child("documents");return e===void 0?i:i.child(e)}function mv(r){const e=te.fromString(r);return qt(vv(e)),e}function $f(r,e){return vd(r.databaseId,e.path)}function Of(r,e){const i=mv(e);if(i.get(1)!==r.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(pv(i))}function gv(r,e){return vd(r.databaseId,e)}function xS(r){const e=mv(r);return e.length===4?te.emptyPath():pv(e)}function Jf(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pv(r){return qt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Ky(r,e,i){return{name:$f(r,e),fields:i.value.mapValue.fields}}function OS(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string"),Pe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Pe.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?Z.UNKNOWN:cv(v.code);return new lt(A,v.message||"")}(d);i=new fv(s,u,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Of(r,s.document.name),h=ei(s.document.updateTime),d=s.document.createTime?ei(s.document.createTime):yt.min(),g=new en({mapValue:{fields:s.document.fields}}),_=Fe.newFoundDocument(u,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new jo(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Of(r,s.document),h=s.readTime?ei(s.readTime):yt.min(),d=Fe.newNoDocument(u,h),g=s.removedTargetIds||[];i=new jo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Of(r,s.document),h=s.removedTargetIds||[];i=new jo([],h,u,null)}else{if(!("filter"in e))return mt();{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,d=new SS(u,h),g=s.targetId;i=new hv(g,d)}}return i}function MS(r,e){let i;if(e instanceof eu)i={update:Ky(r,e.key,e.value)};else if(e instanceof pd)i={delete:$f(r,e.key)};else if(e instanceof ba)i={update:Ky(r,e.key,e.data),updateMask:HS(e.fieldMask)};else{if(!(e instanceof ES))return mt();i={verify:$f(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof Zo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof tu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof $o)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw mt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:NS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt()}(r,e.precondition)),i}function US(r,e){return r&&r.length>0?(qt(e!==void 0),r.map(i=>function(u,h){let d=u.updateTime?ei(u.updateTime):ei(h);return d.isEqual(yt.min())&&(d=ei(h)),new yS(d,u.transformResults||[])}(i,e))):[]}function LS(r,e){return{documents:[gv(r,e.path)]}}function zS(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=gv(r,u);const h=function(v){if(v.length!==0)return _v(ii.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(N){return{field:fr(N.field),direction:PS(N.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Xf(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function BS(r){let e=xS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){qt(s===1);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(R){const N=yv(R);return N instanceof ii&&K_(N)?N.getFilters():[N]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(N=>function($){return new Xo(dr($.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(N))}(i.orderBy));let g=null;i.limit&&(g=function(R){let N;return N=typeof R=="object"?R.value:R,ac(N)?null:N}(i.limit));let _=null;i.startAt&&(_=function(R){const N=!!R.before,H=R.values||[];return new Ko(H,N)}(i.startAt));let v=null;return i.endAt&&(v=function(R){const N=!R.before,H=R.values||[];return new Ko(H,N)}(i.endAt)),iS(e,u,d,h,g,"F",_,v)}function jS(r,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function yv(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=dr(i.unaryFilter.field);return Ae.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=dr(i.unaryFilter.field);return Ae.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=dr(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=dr(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(r):r.fieldFilter!==void 0?function(i){return Ae.create(dr(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ii.create(i.compositeFilter.filters.map(s=>yv(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return mt()}}(i.compositeFilter.op))}(r):mt()}function PS(r){return DS[r]}function qS(r){return CS[r]}function kS(r){return VS[r]}function fr(r){return{fieldPath:r.canonicalString()}}function dr(r){return je.fromServerFormat(r.fieldPath)}function _v(r){return r instanceof Ae?function(i){if(i.op==="=="){if(Uy(i.value))return{unaryFilter:{field:fr(i.field),op:"IS_NAN"}};if(My(i.value))return{unaryFilter:{field:fr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uy(i.value))return{unaryFilter:{field:fr(i.field),op:"IS_NOT_NAN"}};if(My(i.value))return{unaryFilter:{field:fr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fr(i.field),op:qS(i.op),value:i.value}}}(r):r instanceof ii?function(i){const s=i.getFilters().map(u=>_v(u));return s.length===1?s[0]:{compositeFilter:{op:kS(i.op),filters:s}}}(r):mt()}function HS(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function vv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,i,s,u,h=yt.min(),d=yt.min(),g=Pe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.Tt=e}}function QS(r){const e=BS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Kf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.Tn=new YS}addToCollectionParentIndex(e,i){return this.Tn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(pa.min())}updateCollectionGroup(e,i,s){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class YS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new be(te.comparator),h=!u.has(s);return this.index[i]=u.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new be(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ev=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Ev,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Er(0)}static Kn(){return new Er(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="LruGarbageCollector",KS=1048576;function $y([r,e],[i,s]){const u=St(r,i);return u===0?St(e,s):u}class XS{constructor(e){this.Hn=e,this.buffer=new be($y),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();$y(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ZS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){at(Zy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Dr(i)?at(Zy,"Ignoring IndexedDB error during garbage collection: ",i):await wr(i)}await this.er(3e5)})}}class $S{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return K.resolve(ic.ae);const s=new XS(i);return this.tr.forEachTarget(e,u=>s.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>s.Zn(u))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Xy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,u,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),u=this.params.maximumSequenceNumbersToCollect):u=R,d=Date.now(),this.nthSequenceNumber(e,u))).next(R=>(s=R,g=Date.now(),this.removeTargets(e,s,i))).next(R=>(h=R,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(v=Date.now(),cr()<=Mt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${R} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:R})))}}function JS(r,e){return new $S(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.changes=new ds(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(s!==null&&Fl(s.mutation,u,dn.empty(),Se.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Vt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Vt()){const u=os();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,s).next(h=>{let d=Pl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=os();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Vt()))}populateOverlays(e,i,s){const u=[];return s.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,u){let h=Oi();const d=Ql(),g=function(){return Ql()}();return i.forEach((_,v)=>{const A=s.get(v.key);u.has(v.key)&&(A===void 0||A.mutation instanceof ba)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Fl(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,dn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var R;return g.set(v,new t1(A,(R=d.get(v))!==null&&R!==void 0?R:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Ql();let u=new ne((d,g)=>d-g),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||dn.empty();A=g.applyToLocalView(v,A),s.set(_,A);const R=(u.get(g.batchId)||Vt()).add(_);u=u.insert(g.batchId,R)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,R=nv();A.forEach(N=>{if(!h.has(N)){const H=uv(i.get(N),s.get(N));H!==null&&R.set(N,H),h=h.add(N)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,R))}return K.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,u){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):aS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-h.size):K.resolve(os());let g=Xl,_=h;return d.next(v=>K.forEach(v,(A,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next(N=>{_=_.insert(A,N)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Vt())).next(A=>({batchId:g,changes:ev(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next(s=>{let u=Pl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const h=i.collectionGroup;let d=Pl();return this.indexManager.getCollectionParents(e,h).next(g=>K.forEach(g,_=>{const v=function(R,N){return new rc(N,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,u).next(A=>{A.forEach((R,N)=>{d=d.insert(R,N)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,u))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Fe.newInvalidDocument(A)))});let g=Pl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Fl(A.mutation,v,dn.empty(),Se.now()),uc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return K.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ei(u.createTime)}}(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:QS(u.bundledQuery),readTime:ei(u.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.overlays=new ne(ct.comparator),this.Rr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const s=os();return K.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&s.set(u,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((u,h)=>{this.Et(e,i,h)}),K.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.Rr.get(s);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),K.resolve()}getOverlaysForCollection(e,i,s){const u=os(),h=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&u.set(_.getKey(),_)}return K.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let h=new ne((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=os(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=os(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=u)););return K.resolve(g)}Et(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(s.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new AS(i,s));let h=this.Rr.get(i);h===void 0&&(h=Vt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this.Vr=new be(Ne.mr),this.gr=new be(Ne.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Ne(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Ne(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new ct(new te([])),s=new Ne(i,e),u=new Ne(i,e+1),h=[];return this.gr.forEachInRange([s,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ct(new te([])),s=new Ne(i,e),u=new Ne(i,e+1);let h=Vt();return this.gr.forEachInRange([s,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ne(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ne{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ct.comparator(e.key,i.key)||St(e.Cr,i.Cr)}static pr(e,i){return St(e.Cr,i.Cr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Ne.mr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new TS(h,i,s,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Ne(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.Nr(s),h=u<0?0:u;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?od:this.Fr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ne(i,0),u=new Ne(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,u],d=>{const g=this.Or(d.Cr);h.push(g)}),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new be(St);return i.forEach(u=>{const h=new Ne(u,0),d=new Ne(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{s=s.add(g.Cr)})}),K.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let h=s;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ne(new ct(h),0);let g=new be(St);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Cr)),!0)},d),K.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const u=this.Or(s);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return K.forEach(i.mutations,u=>{const h=new Ne(u.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Ne(i,0),u=this.Mr.firstAfterOrEqual(s);return K.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.kr=e,this.docs=function(){return new ne(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let s=Oi();return i.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Fe.newInvalidDocument(u))}),K.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let h=Oi();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||UA(MA(A),s)<=0||(u.has(A.key)||uc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,s,u){mt()}qr(e,i){return K.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new l1(this)}getSize(e){return K.resolve(this.size)}}class l1 extends WS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(s)}),K.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.persistence=e,this.Qr=new ds(i=>fd(i),dd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Ed,this.targetCount=0,this.Kr=Er.Un()}forEachTarget(e,i){return this.Qr.forEach((s,u)=>i(u)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),K.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Er(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.zn(i),K.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,s){let u=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),K.waitFor(h).next(()=>u)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return K.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),K.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),K.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return K.resolve(s)}containsKey(e,i){return K.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new ic(0),this.zr=!1,this.zr=!0,this.jr=new a1,this.referenceDelegate=e(this),this.Hr=new u1(this),this.indexManager=new FS,this.remoteDocumentCache=function(u){return new r1(u)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new GS(i),this.Yr=new n1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new i1,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new s1(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){at("MemoryPersistence","Starting transaction:",e);const u=new o1(this.Gr.next());return this.referenceDelegate.Zr(),s(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return K.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class o1 extends zA{constructor(e){super(),this.currentSequenceNumber=e}}class Td{constructor(e){this.persistence=e,this.ti=new Ed,this.ni=null}static ri(e){return new Td(e)}get ii(){if(this.ni)return this.ni;throw mt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),K.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),K.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,s=>{const u=ct.fromPath(s);return this.si(e,u).next(h=>{h||i.removeEntry(u,yt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return K.or([()=>K.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Wo{constructor(e,i){this.persistence=e,this.oi=new ds(s=>PA(s.path),(s,u)=>s.isEqual(u)),this.garbageCollector=JS(this,i)}static ri(e,i){return new Wo(e,i)}Zr(){}Xr(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(u=>s+u))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return K.forEach(this.oi,(s,u)=>this.ar(e,s,u).next(h=>h?K.resolve():i(u)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,h.removeEntry(d,yt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Lo(e.data.value)),i}ar(e,i,s){return K.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return K.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=u}static Yi(e,i){let s=Vt(),u=Vt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Ad(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return aT()?8:BA(nT())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new c1;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,s,u){return s.documentReadCount<this.es?(cr()<=Mt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",hr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(cr()<=Mt.DEBUG&&at("QueryEngine","Query:",hr(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ts*u?(cr()<=Mt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",hr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):K.resolve())}rs(e,i){if(jy(i))return K.resolve(null);let s=ti(i);return this.indexManager.getIndexType(e,s).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Kf(i,null,"F"),s=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Vt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,Kf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,s,u){return jy(i)||u.isEqual(yt.min())?K.resolve(null):this.ns.getDocuments(e,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,u)?K.resolve(null):(cr()<=Mt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),hr(i)),this.hs(e,d,i,OA(u,Xl)).next(g=>g))})}cs(e,i){let s=new be(W_(e));return i.forEach((u,h)=>{uc(e,h)&&(s=s.add(h))}),s}ls(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,s){return cr()<=Mt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",hr(i)),this.ns.getDocumentsMatchingQuery(e,i,pa.min(),s)}hs(e,i,s,u){return this.ns.getDocumentsMatchingQuery(e,s,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="LocalStore",f1=3e8;class d1{constructor(e,i,s,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new ne(St),this.Is=new ds(h=>fd(h),dd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function m1(r,e,i,s){return new d1(r,e,i,s)}async function Av(r,e){const i=_t(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=Vt();for(const v of u){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function g1(r,e){const i=_t(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const R=v.batch,N=R.keys();let H=K.resolve();return N.forEach($=>{H=H.next(()=>A.getEntry(_,$)).next(it=>{const W=v.docVersions.get($);qt(W!==null),it.version.compareTo(W)<0&&(R.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),A.addEntry(it)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(_,R))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Vt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,u))})}function Sv(r){const e=_t(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function p1(r,e){const i=_t(r),s=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((A,R)=>{const N=u.get(R);if(!N)return;g.push(i.Hr.removeMatchingKeys(h,A.removedDocuments,R).next(()=>i.Hr.addMatchingKeys(h,A.addedDocuments,R)));let H=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(R)!==null?H=H.withResumeToken(Pe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,s)),u=u.insert(R,H),function(it,W,bt){return it.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=f1?!0:bt.addedDocuments.size+bt.modifiedDocuments.size+bt.removedDocuments.size>0}(N,H,A)&&g.push(i.Hr.updateTargetData(h,H))});let _=Oi(),v=Vt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(y1(h,d,e.documentUpdates).next(A=>{_=A.Vs,v=A.fs})),!s.isEqual(yt.min())){const A=i.Hr.getLastRemoteSnapshotVersion(h).next(R=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return K.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function y1(r,e,i){let s=Vt(),u=Vt();return i.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let d=Oi();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(yt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):at(Sd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function _1(r,e){const i=_t(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=od),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function v1(r,e){const i=_t(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Hr.getTargetData(s,e).next(h=>h?(u=h,K.resolve(u)):i.Hr.allocateTargetId(s).next(d=>(u=new ca(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.Ts.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Wf(r,e,i){const s=_t(r),u=s.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Dr(d))throw d;at(Sd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(u.target)}function Jy(r,e,i){const s=_t(r);let u=yt.min(),h=Vt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const R=_t(_),N=R.Is.get(A);return N!==void 0?K.resolve(R.Ts.get(N)):R.Hr.getTargetData(v,A)}(s,d,ti(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?u:yt.min(),i?h:Vt())).next(g=>(E1(s,rS(e),g),{documents:g,gs:h})))}function E1(r,e,i){let s=r.Es.get(e)||yt.min();i.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.Es.set(e,s)}class Wy{constructor(){this.activeTargetIds=fS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T1{constructor(){this.ho=new Wy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Wy,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="ConnectivityMonitor";class e_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){at(t_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){at(t_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo=null;function td(){return Mo===null?Mo=function(){return 268435456+Math.round(2147483648*Math.random())}():Mo++,"0x"+Mo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="RestConnection",S1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${u}`,this.wo=this.databaseId.database===Fo?`project_id=${s}`:`project_id=${s}&database_id=${u}`}So(e,i,s,u,h){const d=td(),g=this.bo(e,i.toUriEncodedString());at(Mf,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,g,_,s).then(v=>(at(Mf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw pr(Mf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Co(e,i,s,u,h,d){return this.So(e,i,s,u,h)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),s&&s.headers.forEach((u,h)=>e[h]=u)}bo(e,i){const s=S1[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class w1 extends b1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,u){const h=td();return new Promise((d,g)=>{const _=new C_;_.setWithCredentials(!0),_.listenOnce(V_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Uo.NO_ERROR:const A=_.getResponseJson();at(Ge,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),d(A);break;case Uo.TIMEOUT:at(Ge,`RPC '${e}' ${h} timed out`),g(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Uo.HTTP_ERROR:const R=_.getStatus();if(at(Ge,`RPC '${e}' ${h} failed with status:`,R,"response text:",_.getResponseText()),R>0){let N=_.getResponseJson();Array.isArray(N)&&(N=N[0]);const H=N==null?void 0:N.error;if(H&&H.status&&H.message){const $=function(W){const bt=W.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(bt)>=0?bt:Z.UNKNOWN}(H.status);g(new lt($,H.message))}else g(new lt(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{at(Ge,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);at(Ge,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,s,15)})}Wo(e,i,s){const u=td(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=x_(),g=N_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=h.join("");at(Ge,`Creating RPC '${e}' stream ${u}: ${A}`,_);const R=d.createWebChannel(A,_);let N=!1,H=!1;const $=new R1({Fo:W=>{H?at(Ge,`Not sending because RPC '${e}' stream ${u} is closed:`,W):(N||(at(Ge,`Opening RPC '${e}' stream ${u} transport.`),R.open(),N=!0),at(Ge,`RPC '${e}' stream ${u} sending:`,W),R.send(W))},Mo:()=>R.close()}),it=(W,bt,Tt)=>{W.listen(bt,pt=>{try{Tt(pt)}catch(jt){setTimeout(()=>{throw jt},0)}})};return it(R,jl.EventType.OPEN,()=>{H||(at(Ge,`RPC '${e}' stream ${u} transport opened.`),$.Qo())}),it(R,jl.EventType.CLOSE,()=>{H||(H=!0,at(Ge,`RPC '${e}' stream ${u} transport closed`),$.Uo())}),it(R,jl.EventType.ERROR,W=>{H||(H=!0,pr(Ge,`RPC '${e}' stream ${u} transport errored:`,W),$.Uo(new lt(Z.UNAVAILABLE,"The operation could not be completed")))}),it(R,jl.EventType.MESSAGE,W=>{var bt;if(!H){const Tt=W.data[0];qt(!!Tt);const pt=Tt,jt=(pt==null?void 0:pt.error)||((bt=pt[0])===null||bt===void 0?void 0:bt.error);if(jt){at(Ge,`RPC '${e}' stream ${u} received error:`,jt);const vt=jt.status;let Lt=function(D){const I=ge[D];if(I!==void 0)return cv(I)}(vt),x=jt.message;Lt===void 0&&(Lt=Z.INTERNAL,x="Unknown error status: "+vt+" with message "+jt.message),H=!0,$.Uo(new lt(Lt,x)),R.close()}else at(Ge,`RPC '${e}' stream ${u} received:`,Tt),$.Ko(Tt)}}),it(g,I_.STAT_EVENT,W=>{W.stat===kf.PROXY?at(Ge,`RPC '${e}' stream ${u} detected buffering proxy`):W.stat===kf.NOPROXY&&at(Ge,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(r){return new IS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,i,s=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-s);u>0&&at("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="PersistentStream";class Rv{constructor(e,i,s,u,h,d,g,_){this.Ti=e,this.n_=s,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new bv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(xi(i.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.i_===i&&this.V_(s,u)},s=>{e(()=>{const u=new lt(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(u)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{s(()=>this.m_(u))}),this.stream.onMessage(u=>{s(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return at(n_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(at(n_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D1 extends Rv{constructor(e,i,s,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=OS(this.serializer,e),s=function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?ei(d.readTime):yt.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Jf(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Yf(_)?{documents:LS(h,_)}:{query:zS(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=dv(h,d.resumeToken);const v=Xf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=Jo(h,d.snapshotVersion.toTimestamp());const v=Xf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=jS(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Jf(this.serializer),i.removeTarget=e,this.I_(i)}}class C1 extends Rv{constructor(e,i,s,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=US(e.writeResults,e.commitTime),s=ei(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Jf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>MS(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{}class I1 extends V1{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,Zf(i,s),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(Z.UNKNOWN,h.toString())})}Co(e,i,s,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,Zf(i,s),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Z.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class N1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(xi(i),this.N_=!1):at("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="RemoteStore";class x1{constructor(e,i,s,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{ms(this)&&(at(hs,"Restarting streams for network reachability change."),await async function(_){const v=_t(_);v.W_.add(4),await iu(v),v.j_.set("Unknown"),v.W_.delete(4),await dc(v)}(this))})}),this.j_=new N1(s,u)}}async function dc(r){if(ms(r))for(const e of r.G_)await e(!0)}async function iu(r){for(const e of r.G_)await e(!1)}function wv(r,e){const i=_t(r);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),Dd(i)?wd(i):Cr(i).c_()&&Rd(i,e))}function bd(r,e){const i=_t(r),s=Cr(i);i.K_.delete(e),s.c_()&&Dv(i,e),i.K_.size===0&&(s.c_()?s.P_():ms(i)&&i.j_.set("Unknown"))}function Rd(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Cr(r).y_(e)}function Dv(r,e){r.H_.Ne(e),Cr(r).w_(e)}function wd(r){r.H_=new wS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Cr(r).start(),r.j_.B_()}function Dd(r){return ms(r)&&!Cr(r).u_()&&r.K_.size>0}function ms(r){return _t(r).W_.size===0}function Cv(r){r.H_=void 0}async function O1(r){r.j_.set("Online")}async function M1(r){r.K_.forEach((e,i)=>{Rd(r,e)})}async function U1(r,e){Cv(r),Dd(r)?(r.j_.q_(e),wd(r)):r.j_.set("Unknown")}async function L1(r,e,i){if(r.j_.set("Online"),e instanceof fv&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.K_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.K_.delete(g),u.H_.removeTarget(g))}(r,e)}catch(s){at(hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await tc(r,s)}else if(e instanceof jo?r.H_.We(e):e instanceof hv?r.H_.Ze(e):r.H_.je(e),!i.isEqual(yt.min()))try{const s=await Sv(r.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.K_.get(v);A&&h.K_.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.K_.get(_);if(!A)return;h.K_.set(_,A.withResumeToken(Pe.EMPTY_BYTE_STRING,A.snapshotVersion)),Dv(h,_);const R=new ca(A.target,_,v,A.sequenceNumber);Rd(h,R)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){at(hs,"Failed to raise snapshot:",s),await tc(r,s)}}async function tc(r,e,i){if(!Dr(e))throw e;r.W_.add(1),await iu(r),r.j_.set("Offline"),i||(i=()=>Sv(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{at(hs,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await dc(r)})}function Vv(r,e){return e().catch(i=>tc(r,i,e))}async function mc(r){const e=_t(r),i=Ea(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:od;for(;z1(e);)try{const u=await _1(e.localStore,s);if(u===null){e.U_.length===0&&i.P_();break}s=u.batchId,B1(e,u)}catch(u){await tc(e,u)}Iv(e)&&Nv(e)}function z1(r){return ms(r)&&r.U_.length<10}function B1(r,e){r.U_.push(e);const i=Ea(r);i.c_()&&i.S_&&i.b_(e.mutations)}function Iv(r){return ms(r)&&!Ea(r).u_()&&r.U_.length>0}function Nv(r){Ea(r).start()}async function j1(r){Ea(r).C_()}async function P1(r){const e=Ea(r);for(const i of r.U_)e.b_(i.mutations)}async function q1(r,e,i){const s=r.U_.shift(),u=yd.from(s,e,i);await Vv(r,()=>r.remoteSyncer.applySuccessfulWrite(u)),await mc(r)}async function k1(r,e){e&&Ea(r).S_&&await async function(s,u){if(function(d){return bS(d)&&d!==Z.ABORTED}(u.code)){const h=s.U_.shift();Ea(s).h_(),await Vv(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u)),await mc(s)}}(r,e),Iv(r)&&Nv(r)}async function i_(r,e){const i=_t(r);i.asyncQueue.verifyOperationInProgress(),at(hs,"RemoteStore received new credentials");const s=ms(i);i.W_.add(3),await iu(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await dc(i)}async function H1(r,e){const i=_t(r);e?(i.W_.delete(2),await dc(i)):e||(i.W_.add(2),await iu(i),i.j_.set("Unknown"))}function Cr(r){return r.J_||(r.J_=function(i,s,u){const h=_t(i);return h.M_(),new D1(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(r.datastore,r.asyncQueue,{xo:O1.bind(null,r),No:M1.bind(null,r),Lo:U1.bind(null,r),p_:L1.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Dd(r)?wd(r):r.j_.set("Unknown")):(await r.J_.stop(),Cv(r))})),r.J_}function Ea(r){return r.Y_||(r.Y_=function(i,s,u){const h=_t(i);return h.M_(),new C1(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:j1.bind(null,r),Lo:k1.bind(null,r),D_:P1.bind(null,r),v_:q1.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await mc(r)):(await r.Y_.stop(),r.U_.length>0&&(at(hs,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,s,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,h){const d=Date.now()+s,g=new Cd(e,i,d,u,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vd(r,e){if(xi("AsyncQueue",`${e}: ${r}`),Dr(r))return new lt(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{static emptySet(e){return new gr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=Pl(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof gr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new gr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.Z_=new ne(ct.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):mt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Tr{constructor(e,i,s,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Tr(e,i,gr.emptySet(i),d,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Q1{constructor(){this.queries=s_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const u=_t(i),h=u.queries;u.queries=s_(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(s)})})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function s_(){return new ds(r=>J_(r),lc)}async function xv(r,e){const i=_t(r);let s=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(s=2):(h=new G1,s=e.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Vd(d,`Initialization of query '${hr(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Id(i)}async function Ov(r,e){const i=_t(r),s=e.query;let u=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function F1(r,e){const i=_t(r);let s=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(u)&&(s=!0);d.ea=u}}s&&Id(i)}function Y1(r,e,i){const s=_t(r),u=s.queries.get(e);if(u)for(const h of u.ta)h.onError(i);s.queries.delete(e)}function Id(r){r.ia.forEach(e=>{e.next()})}var ed,r_;(r_=ed||(ed={}))._a="default",r_.Cache="cache";class Mv{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Tr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Tr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ed.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this.key=e}}class Lv{constructor(e){this.key=e}}class K1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=W_(e),this.wa=new gr(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new a_,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,R)=>{const N=u.get(A),H=uc(this.query,R)?R:null,$=!!N&&this.mutatedKeys.has(N.key),it=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;N&&H?N.data.isEqual(H.data)?$!==it&&(s.track({type:3,doc:H}),W=!0):this.va(N,H)||(s.track({type:2,doc:H}),W=!0,(_&&this.ya(H,_)>0||v&&this.ya(H,v)<0)&&(g=!0)):!N&&H?(s.track({type:0,doc:H}),W=!0):N&&!H&&(s.track({type:1,doc:N}),W=!0,(_||v)&&(g=!0)),W&&(H?(d=d.add(H),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{wa:d,Da:s,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((A,R)=>function(H,$){const it=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return it(H)-it($)}(A.type,R.type)||this.ya(A.doc,R.doc)),this.Ca(s),u=u!=null&&u;const g=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new Tr(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new a_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Vt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new Lv(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new Uv(s))}),i}Oa(e){this.fa=e.gs,this.pa=Vt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Tr.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Nd="SyncEngine";class X1{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Z1{constructor(e){this.key=e,this.Ba=!1}}class $1{constructor(e,i,s,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new ds(g=>J_(g),lc),this.qa=new Map,this.Qa=new Set,this.$a=new ne(ct.comparator),this.Ua=new Map,this.Ka=new Ed,this.Wa={},this.Ga=new Map,this.za=Er.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function J1(r,e,i=!0){const s=kv(r);let u;const h=s.ka.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await zv(s,e,i,!0),u}async function W1(r,e){const i=kv(r);await zv(i,e,!0,!1)}async function zv(r,e,i,s){const u=await v1(r.localStore,ti(e)),h=u.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await tb(r,e,h,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&wv(r.remoteStore,u),g}async function tb(r,e,i,s,u){r.Ha=(R,N,H)=>async function(it,W,bt,Tt){let pt=W.view.ba(bt);pt.ls&&(pt=await Jy(it.localStore,W.query,!1).then(({documents:x})=>W.view.ba(x,pt)));const jt=Tt&&Tt.targetChanges.get(W.targetId),vt=Tt&&Tt.targetMismatches.get(W.targetId)!=null,Lt=W.view.applyChanges(pt,it.isPrimaryClient,jt,vt);return u_(it,W.targetId,Lt.Ma),Lt.snapshot}(r,R,N,H);const h=await Jy(r.localStore,e,!0),d=new K1(e,h.gs),g=d.ba(h.documents),_=nu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),v=d.applyChanges(g,r.isPrimaryClient,_);u_(r,i,v.Ma);const A=new X1(e,i,d);return r.ka.set(e,A),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),v.snapshot}async function eb(r,e,i){const s=_t(r),u=s.ka.get(e),h=s.qa.get(u.targetId);if(h.length>1)return s.qa.set(u.targetId,h.filter(d=>!lc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await Wf(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&bd(s.remoteStore,u.targetId),nd(s,u.targetId)}).catch(wr)):(nd(s,u.targetId),await Wf(s.localStore,u.targetId,!0))}async function nb(r,e){const i=_t(r),s=i.ka.get(e),u=i.qa.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),bd(i.remoteStore,s.targetId))}async function ib(r,e,i){const s=cb(r);try{const u=await function(d,g){const _=_t(d),v=Se.now(),A=g.reduce((H,$)=>H.add($.key),Vt());let R,N;return _.persistence.runTransaction("Locally write mutations","readwrite",H=>{let $=Oi(),it=Vt();return _.ds.getEntries(H,A).next(W=>{$=W,$.forEach((bt,Tt)=>{Tt.isValidDocument()||(it=it.add(bt))})}).next(()=>_.localDocuments.getOverlayedDocuments(H,$)).next(W=>{R=W;const bt=[];for(const Tt of g){const pt=vS(Tt,R.get(Tt.key).overlayedDocument);pt!=null&&bt.push(new ba(Tt.key,pt,Q_(pt.value.mapValue),Cn.exists(!0)))}return _.mutationQueue.addMutationBatch(H,v,bt,g)}).next(W=>{N=W;const bt=W.applyToLocalDocumentSet(R,it);return _.documentOverlayCache.saveOverlays(H,W.batchId,bt)})}).then(()=>({batchId:N.batchId,changes:ev(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new ne(St)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(s,u.batchId,i),await au(s,u.changes),await mc(s.remoteStore)}catch(u){const h=Vd(u,"Failed to persist write");i.reject(h)}}async function Bv(r,e){const i=_t(r);try{const s=await p1(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ua.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?qt(d.Ba):u.removedDocuments.size>0&&(qt(d.Ba),d.Ba=!1))}),await au(i,s,e)}catch(s){await wr(s)}}function l_(r,e,i){const s=_t(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=_t(d);_.onlineState=g;let v=!1;_.queries.forEach((A,R)=>{for(const N of R.ta)N.sa(g)&&(v=!0)}),v&&Id(_)}(s.eventManager,e),u.length&&s.La.p_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ab(r,e,i){const s=_t(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Ua.get(e),h=u&&u.key;if(h){let d=new ne(ct.comparator);d=d.insert(h,Fe.newNoDocument(h,yt.min()));const g=Vt().add(h),_=new hc(yt.min(),new Map,new ne(St),d,g);await Bv(s,_),s.$a=s.$a.remove(h),s.Ua.delete(e),xd(s)}else await Wf(s.localStore,e,!1).then(()=>nd(s,e,i)).catch(wr)}async function sb(r,e){const i=_t(r),s=e.batch.batchId;try{const u=await g1(i.localStore,e);Pv(i,s,null),jv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await au(i,u)}catch(u){await wr(u)}}async function rb(r,e,i){const s=_t(r);try{const u=await function(d,g){const _=_t(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(R=>(qt(R!==null),A=R.keys(),_.mutationQueue.removeMutationBatch(v,R))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(s.localStore,e);Pv(s,e,i),jv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await au(s,u)}catch(u){await wr(u)}}function jv(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function Pv(r,e,i){const s=_t(r);let u=s.Wa[s.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),s.Wa[s.currentUser.toKey()]=u}}function nd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||qv(r,s)})}function qv(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(bd(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ua.delete(i),xd(r))}function u_(r,e,i){for(const s of i)s instanceof Uv?(r.Ka.addReference(s.key,e),lb(r,s)):s instanceof Lv?(at(Nd,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||qv(r,s.key)):mt()}function lb(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(at(Nd,"New document in limbo: "+i),r.Qa.add(s),xd(r))}function xd(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new ct(te.fromString(e)),s=r.za.next();r.Ua.set(s,new Z1(i)),r.$a=r.$a.insert(i,s),wv(r.remoteStore,new ca(ti(md(i.path)),s,"TargetPurposeLimboResolution",ic.ae))}}async function au(r,e,i){const s=_t(r),u=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,_)=>{d.push(s.Ha(_,e,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const R=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,R?"current":"not-current")}if(v){u.push(v);const R=Ad.Yi(_.targetId,v);h.push(R)}}))}),await Promise.all(d),s.La.p_(u),await async function(_,v){const A=_t(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>K.forEach(v,N=>K.forEach(N.Hi,H=>A.persistence.referenceDelegate.addReference(R,N.targetId,H)).next(()=>K.forEach(N.Ji,H=>A.persistence.referenceDelegate.removeReference(R,N.targetId,H)))))}catch(R){if(!Dr(R))throw R;at(Sd,"Failed to update sequence numbers: "+R)}for(const R of v){const N=R.targetId;if(!R.fromCache){const H=A.Ts.get(N),$=H.snapshotVersion,it=H.withLastLimboFreeSnapshotVersion($);A.Ts=A.Ts.insert(N,it)}}}(s.localStore,h))}async function ub(r,e){const i=_t(r);if(!i.currentUser.isEqual(e)){at(Nd,"User change. New user:",e.toKey());const s=await Av(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new lt(Z.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await au(i,s.Rs)}}function ob(r,e){const i=_t(r),s=i.Ua.get(e);if(s&&s.Ba)return Vt().add(s.key);{let u=Vt();const h=i.qa.get(e);if(!h)return u;for(const d of h){const g=i.ka.get(d);u=u.unionWith(g.view.Sa)}return u}}function kv(r){const e=_t(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ob.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ab.bind(null,e),e.La.p_=F1.bind(null,e.eventManager),e.La.Ja=Y1.bind(null,e.eventManager),e}function cb(r){const e=_t(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rb.bind(null,e),e}class ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return m1(this.persistence,new h1,e.initialUser,this.serializer)}Xa(e){return new Tv(Td.ri,this.serializer)}Za(e){return new T1}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ec.provider={build:()=>new ec};class hb extends ec{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){qt(this.persistence.referenceDelegate instanceof Wo);const s=this.persistence.referenceDelegate.garbageCollector;return new ZS(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Tv(s=>Wo.ri(s,i),this.serializer)}}class id{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>l_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ub.bind(null,this.syncEngine),await H1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Q1}()}createDatastore(e){const i=fc(e.databaseInfo.databaseId),s=function(h){return new w1(h)}(e.databaseInfo);return function(h,d,g,_){return new I1(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,u,h,d,g){return new x1(s,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>l_(this.syncEngine,i,0),function(){return e_.D()?new e_:new A1}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,A){const R=new $1(u,h,d,g,_,v);return A&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=_t(u);at(hs,"RemoteStore shutting down."),h.W_.add(5),await iu(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}id.provider={build:()=>new id};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="FirestoreClient";class fb{constructor(e,i,s,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Qe.UNAUTHENTICATED,this.clientId=U_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{at(Ta,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(at(Ta,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Vd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Lf(r,e){r.asyncQueue.verifyOperationInProgress(),at(Ta,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async u=>{s.isEqual(u)||(await Av(e.localStore,u),s=u)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function o_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await db(r);at(Ta,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>i_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,u)=>i_(e.remoteStore,u)),r._onlineComponents=e}async function db(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(Ta,"Using user provided OfflineComponentProvider");try{await Lf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===Z.FAILED_PRECONDITION||u.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;pr("Error using user provided cache. Falling back to memory cache: "+i),await Lf(r,new ec)}}else at(Ta,"Using default OfflineComponentProvider"),await Lf(r,new hb(void 0));return r._offlineComponents}async function Gv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(Ta,"Using user provided OnlineComponentProvider"),await o_(r,r._uninitializedComponentsProvider._online)):(at(Ta,"Using default OnlineComponentProvider"),await o_(r,new id))),r._onlineComponents}function mb(r){return Gv(r).then(e=>e.syncEngine)}async function Qv(r){const e=await Gv(r),i=e.eventManager;return i.onListen=J1.bind(null,e.syncEngine),i.onUnlisten=eb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=W1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=nb.bind(null,e.syncEngine),i}function gb(r,e,i={}){const s=new Ii;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new Hv({next:N=>{A.su(),d.enqueueAndForget(()=>Ov(h,R));const H=N.docs.has(g);!H&&N.fromCache?v.reject(new lt(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&N.fromCache&&_&&_.source==="server"?v.reject(new lt(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(N)},error:N=>v.reject(N)}),R=new Mv(md(g.path),A,{includeMetadataChanges:!0,Ta:!0});return xv(h,R)}(await Qv(r),r.asyncQueue,e,i,s)),s.promise}function pb(r,e,i={}){const s=new Ii;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new Hv({next:N=>{A.su(),d.enqueueAndForget(()=>Ov(h,R)),N.fromCache&&_.source==="server"?v.reject(new lt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),R=new Mv(g,A,{includeMetadataChanges:!0,Ta:!0});return xv(h,R)}(await Qv(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(r,e,i){if(!i)throw new lt(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function yb(r,e,i,s){if(e===!0&&s===!0)throw new lt(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function h_(r){if(!ct.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function f_(r){if(ct.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Od(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":mt()}function Un(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Od(r);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="firestore.googleapis.com",d_=!0;class m_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kv,this.ssl=d_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:d_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ev;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KS)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new bA;switch(s.type){case"firstParty":return new CA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=c_.get(i);s&&(at("ComponentProvider","Removing Datastore"),c_.delete(i),s.terminate())}(this),Promise.resolve()}}function _b(r,e,i,s={}){var u;const h=(r=Un(r,gc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==Kv&&h.host!==g&&pr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:s});if(!ko(_,d)&&(r._setSettings(_),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=Qe.MOCK_USER;else{v=eT(s.mockUserToken,(u=r._app)===null||u===void 0?void 0:u.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Qe(R)}r._authCredentials=new RA(new O_(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pc(this.firestore,e,this._query)}}class nn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class ma extends pc{constructor(e,i,s){super(e,i,md(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new ct(e))}withConverter(e){return new ma(this.firestore,e,this._path)}}function Mi(r,e,...i){if(r=ga(r),Yv("collection","path",e),r instanceof gc){const s=te.fromString(e,...i);return f_(s),new ma(r,null,s)}{if(!(r instanceof nn||r instanceof ma))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return f_(s),new ma(r.firestore,null,s)}}function fs(r,e,...i){if(r=ga(r),arguments.length===1&&(e=U_.newId()),Yv("doc","path",e),r instanceof gc){const s=te.fromString(e,...i);return h_(s),new nn(r,null,new ct(s))}{if(!(r instanceof nn||r instanceof ma))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(e,...i));return h_(s),new nn(r.firestore,r instanceof ma?r.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="AsyncQueue";class p_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new bv(this,"async_queue_retry"),this.Su=()=>{const s=Uf();s&&at(g_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=Uf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Uf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Ii;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Dr(e))throw e;at(g_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw xi("INTERNAL UNHANDLED ERROR: ",u),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=Cd.createAndSchedule(this,e,i,s,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&mt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class gs extends gc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new p_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p_(e),this._firestoreClient=void 0,await e}}}function vb(r,e){const i=typeof r=="object"?r:hA(),s=typeof r=="string"?r:Fo,u=rA(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=WE("firestore");h&&_b(u,...h)}return u}function Md(r){if(r._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Eb(r),r._firestoreClient}function Eb(r){var e,i,s;const u=r._freezeSettings(),h=function(g,_,v,A){return new HA(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Fv(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,u);r._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=u.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),r._firestoreClient=new fb(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ar(Pe.fromBase64String(e))}catch(i){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ar(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,u){if(s.length!==u.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=/^__.*__$/;class Ab{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ba(e,this.data,this.fieldMask,i,this.fieldTransforms):new eu(e,this.data,i,this.fieldTransforms)}}class Xv{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new ba(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Zv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class Bd{constructor(e,i,s,u,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Bd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:s,Qu:!1});return u.$u(e),u}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:s,Qu:!1});return u.Bu(),u}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return nc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Zv(this.Lu)&&Tb.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Sb{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||fc(e)}ju(e,i,s,u=!1){return new Bd({Lu:e,methodName:i,zu:s,path:je.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jd(r){const e=r._freezeSettings(),i=fc(r._databaseId);return new Sb(r._databaseId,!!e.ignoreUndefinedProperties,i)}function $v(r,e,i,s,u,h={}){const d=r.ju(h.merge||h.mergeFields?2:0,e,i,u);Pd("Data must be an object, but it was:",d,s);const g=Jv(s,d);let _,v;if(h.merge)_=new dn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const R of h.mergeFields){const N=ad(e,R,i);if(!d.contains(N))throw new lt(Z.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);t0(A,N)||A.push(N)}_=new dn(A),v=d.fieldTransforms.filter(R=>_.covers(R.field))}else _=null,v=d.fieldTransforms;return new Ab(new en(g),_,v)}class _c extends Ud{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _c}}function bb(r,e,i,s){const u=r.ju(1,e,i);Pd("Data must be an object, but it was:",u,s);const h=[],d=en.empty();Sa(s,(_,v)=>{const A=qd(e,_,i);v=ga(v);const R=u.Uu(A);if(v instanceof _c)h.push(A);else{const N=vc(v,R);N!=null&&(h.push(A),d.set(A,N))}});const g=new dn(h);return new Xv(d,g,u.fieldTransforms)}function Rb(r,e,i,s,u,h){const d=r.ju(1,e,i),g=[ad(e,s,i)],_=[u];if(h.length%2!=0)throw new lt(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)g.push(ad(e,h[N])),_.push(h[N+1]);const v=[],A=en.empty();for(let N=g.length-1;N>=0;--N)if(!t0(v,g[N])){const H=g[N];let $=_[N];$=ga($);const it=d.Uu(H);if($ instanceof _c)v.push(H);else{const W=vc($,it);W!=null&&(v.push(H),A.set(H,W))}}const R=new dn(v);return new Xv(A,R,d.fieldTransforms)}function vc(r,e){if(Wv(r=ga(r)))return Pd("Unsupported field value:",e,r),Jv(r,e);if(r instanceof Ud)return function(s,u){if(!Zv(u.Lu))throw u.Wu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,u){const h=[];let d=0;for(const g of s){let _=vc(g,u.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(r,e)}return function(s,u){if((s=ga(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dS(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Se.fromDate(s);return{timestampValue:Jo(u.serializer,h)}}if(s instanceof Se){const h=new Se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Jo(u.serializer,h)}}if(s instanceof Ld)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ar)return{bytesValue:dv(u.serializer,s._byteString)};if(s instanceof nn){const h=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:vd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof zd)return function(d,g){return{mapValue:{fields:{[H_]:{stringValue:G_},[Yo]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return gd(g.serializer,v)})}}}}}}(s,u);throw u.Wu(`Unsupported field value: ${Od(s)}`)}(r,e)}function Jv(r,e){const i={};return z_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(r,(s,u)=>{const h=vc(u,e.qu(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function Wv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Se||r instanceof Ld||r instanceof Ar||r instanceof nn||r instanceof Ud||r instanceof zd)}function Pd(r,e,i){if(!Wv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const s=Od(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function ad(r,e,i){if((e=ga(e))instanceof yc)return e._internalPath;if(typeof e=="string")return qd(r,e);throw nc("Field path arguments must be of type string or ",r,!1,void 0,i)}const wb=new RegExp("[~\\*/\\[\\]]");function qd(r,e,i){if(e.search(wb)>=0)throw nc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new yc(...e.split("."))._internalPath}catch{throw nc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function nc(r,e,i,s,u){const h=s&&!s.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${u}`),_+=")"),new lt(Z.INVALID_ARGUMENT,g+r+_)}function t0(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,i,s,u,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Db(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(n0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Db extends e0{data(){return super.data()}}function n0(r,e){return typeof e=="string"?qd(r,e):e instanceof yc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vb{convertValue(e,i="none"){switch(va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(_a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw mt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Sa(e,(u,h)=>{s[u]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,u;const h=(u=(s=(i=e.fields)===null||i===void 0?void 0:i[Yo].arrayValue)===null||s===void 0?void 0:s.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new zd(h)}convertGeoPoint(e){return new Ld(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=sc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=ya(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=te.fromString(e);qt(vv(s));const u=new $l(s.get(1),s.get(3)),h=new ct(s.popFirst(5));return u.isEqual(i)||xi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class a0 extends e0{constructor(e,i,s,u,h,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Po(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(n0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Po extends a0{data(e={}){return super.data(e)}}class Ib{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new kl(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Po(this._firestore,this._userDataWriter,s.key,s,new kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new Po(u._firestore,u._userDataWriter,g.doc.key,g.doc,new kl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Po(u._firestore,u._userDataWriter,g.doc.key,g.doc,new kl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Nb(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Nb(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r){r=Un(r,nn);const e=Un(r.firestore,gs);return gb(Md(e),r._key).then(i=>xb(e,r,i))}class r0 extends Vb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ar(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,i)}}function Sr(r){r=Un(r,pc);const e=Un(r.firestore,gs),i=Md(e),s=new r0(e);return Cb(r._query),pb(i,r._query).then(u=>new Ib(e,s,r,u))}function kd(r,e,i){r=Un(r,nn);const s=Un(r.firestore,gs),u=i0(r.converter,e);return Ec(s,[$v(jd(s),"setDoc",r._key,u,r.converter!==null,i).toMutation(r._key,Cn.none())])}function l0(r,e,i,...s){r=Un(r,nn);const u=Un(r.firestore,gs),h=jd(u);let d;return d=typeof(e=ga(e))=="string"||e instanceof yc?Rb(h,"updateDoc",r._key,e,i,s):bb(h,"updateDoc",r._key,e),Ec(u,[d.toMutation(r._key,Cn.exists(!0))])}function Hd(r){return Ec(Un(r.firestore,gs),[new pd(r._key,Cn.none())])}function Gd(r,e){const i=Un(r.firestore,gs),s=fs(r),u=i0(r.converter,e);return Ec(i,[$v(jd(r.firestore),"addDoc",s._key,u,r.converter!==null,{}).toMutation(s._key,Cn.exists(!1))]).then(()=>s)}function Ec(r,e){return function(s,u){const h=new Ii;return s.asyncQueue.enqueueAndForget(async()=>ib(await mb(s),u,h)),h.promise}(Md(r),e)}function xb(r,e,i){const s=i.docs.get(e._key),u=new r0(r);return new a0(r,u,e._key,s,new kl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){Rr=u})(cA),Go(new Yl("firestore",(s,{instanceIdentifier:u,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new gs(new wA(s.getProvider("auth-internal")),new VA(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(v.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),mr(Ay,Sy,e),mr(Ay,Sy,"esm2017")})();const Aa="FsJrCVNOxFBcOYRigt2X",ps="ZcgxPOIlIWxYqidpCMyB",ys="igIfRF8vzkSEadAWXTUG",Ob={apiKey:"AIzaSyADWQpJpGVDZLJ37eZEan6Z8FxDUfGbuSI",authDomain:"voninja-messaging.firebaseapp.com",projectId:"voninja-messaging",storageBucket:"voninja-messaging.firebasestorage.app",messagingSenderId:"910113947104",appId:"1:910113947104:web:183c6c133b3ccb38807f85"},Mb=b_(Ob),mn=vb(Mb);async function Ub(r){return(await Sr(Mi(mn,`levels/${r}/lessons`))).docs.map(s=>({id:s.id,...s.data()}))}async function Lb(r,e){const i=Mi(mn,`levels/${r}/lessons`),s=await Gd(i,{...e});return await kd(s,{id:s.id,...e}),console.log("Lesson created with ID inside data:",s.id),s.id}async function zb(r,e,i){for(const s of i){const u=await Gd(Mi(mn,`levels/${r}/lessons/${e}/vocabulary`),s);await kd(u,{id:u.id,...s})}console.log("Vocab added with IDs")}async function Bb(r,e,i){for(const s of i){const u=await Gd(Mi(mn,`levels/${r}/lessons/${e}/questions`),s);await kd(u,{id:u.id,...s})}console.log("Questions added with IDs")}async function jb(r){const e=[Aa,ps,ys];for(const i of e){const s=fs(mn,`levels/${i}/lessons/${r}`),u=await s0(s);if(u.exists())return{levelId:i,lessonId:r,...u.data()}}return null}async function Pb(r){const e=[Aa,ps,ys],i=r.trim().toLowerCase();for(const s of e){const u=Mi(mn,`levels/${s}/lessons`),h=await Sr(u);for(const d of h.docs){const g=d.data();if(g.title&&g.title.toLowerCase()===i)return{levelId:s,lessonId:d.id,...g}}}return null}const qb=[Aa,ps,ys];async function kb(r){for(const e of qb){const i=fs(mn,`levels/${e}/lessons/${r}`);if((await s0(i)).exists())return await Hd(i),console.log(`Lesson ${r} deleted from level ${e}`),!0}return console.warn(`Lesson ${r} not found in any level.`),!1}async function Hb(r){const e=[Aa,ps,ys];for(const i of e){const s=Mi(mn,`levels/${i}/lessons`),u=await Sr(s);for(const h of u.docs)if(h.id===r){const d=Mi(h.ref,"vocabulary"),g=await Sr(d);if(!g.empty)return g.docs.map(_=>({id:_.id,..._.data()}))}}return[]}async function Gb(r){const e=[Aa,ps,ys];for(const i of e){const s=Mi(mn,`levels/${i}/lessons`),u=await Sr(s);for(const h of u.docs)if(h.id===r){const d=Mi(h.ref,"questions"),g=await Sr(d);if(!g.empty)return g.docs.map(_=>({id:_.id,..._.data()}))}}return[]}function Qb(){const[r,e]=Te.useState(""),[i,s]=Te.useState("BASIC"),[u,h]=Te.useState("DRAFT"),[d,g]=Te.useState({word:"",translated_word:"",statement_example:"",translated_statement_example:"",image_url:""}),[_,v]=Te.useState({content:"",correct_answer:"",choices:"",image_url:""});function A(){const N={BASIC:Aa,INTERMEDIATE:ps,ADVANCED:ys}[i];Lb(N,{title:r,status:u}).then($=>{console.log("Lesson added with ID:",$);const it=[{...d}],W=[{..._,choices:_.choices.split(",").map(bt=>bt.trim())}];return Promise.all([zb(N,$,it),Bb(N,$,W)])}).then(()=>{alert("Lesson, vocab and question added successfully!"),e(""),s("BASIC"),h("DRAFT"),g({word:"",translated_word:"",statement_example:"",translated_statement_example:"",image_url:""}),v({content:"",correct_answer:"",choices:"",image_url:""})}).catch($=>{console.error("Error adding lesson:",$)})}return q.jsx(q.Fragment,{children:q.jsxs("div",{className:"bg-gray-700 p-1 rounded m-1",children:[q.jsx("p",{className:"text-white text-sm font-bold",children:"Add Lesson"}),q.jsxs("div",{className:"flex gap-1",children:[q.jsx("input",{type:"text",placeholder:"Lesson Title",value:r,onChange:R=>e(R.target.value)}),q.jsxs("select",{value:i,onChange:R=>s(R.target.value),children:[q.jsx("option",{value:"BASIC",children:"BASIC"}),q.jsx("option",{value:"INTERMEDIATE",children:"INTERMEDIATE"}),q.jsx("option",{value:"ADVANCED",children:"ADVANCED"})]})]}),q.jsx("p",{className:"text-white text-sm mt-2 font-bold",children:"Add Vocab"}),q.jsxs("div",{className:"flex gap-1",children:[q.jsx("input",{type:"text",placeholder:"Word",value:d.word,onChange:R=>g({...d,word:R.target.value})}),q.jsx("input",{type:"text",placeholder:"Translated Word",value:d.translated_word,onChange:R=>g({...d,translated_word:R.target.value})}),q.jsx("input",{type:"text",placeholder:"Statement",value:d.statement_example,onChange:R=>g({...d,statement_example:R.target.value})}),q.jsx("input",{type:"text",placeholder:"Translated Statement",value:d.translated_statement_example,onChange:R=>g({...d,translated_statement_example:R.target.value})}),q.jsx("input",{type:"file",value:d.image_url,onChange:R=>g({...d,image_url:R.target.value})})]}),q.jsx("p",{className:"text-white text-sm mt-2 font-bold",children:"Add Question"}),q.jsxs("div",{className:"flex gap-1",children:[q.jsx("input",{type:"text",placeholder:"Content",value:_.content,onChange:R=>v({..._,content:R.target.value})}),q.jsx("input",{type:"text",placeholder:"Choices (comma separated)",value:_.choices,onChange:R=>v({..._,choices:R.target.value})}),q.jsx("input",{type:"text",placeholder:"Correct Answer",value:_.correct_answer,onChange:R=>v({..._,correct_answer:R.target.value})}),q.jsx("input",{type:"file",value:_.image_url,onChange:R=>g({..._,image_url:R.target.value})})]}),q.jsx("button",{onClick:A,className:"bg-gray-400 hover:bg-green-600 p-1 mt-1 rounded text-white",children:"Add Lesson"})]})})}const u0=Te.createContext();function Fb({children:r}){const[e,i]=Te.useState(null),s=u=>{i(u)};return q.jsx(u0.Provider,{value:{selectedLesson:e,selectLesson:s},children:r})}const Tc=()=>Te.useContext(u0);function Yb(){const{selectedLesson:r}=Tc();return r?q.jsxs("div",{className:"bg-gray-700 p-1 rounded m-1",children:[q.jsx("p",{className:"text-white text-sm font-bold text-center my-1",children:"Lesson Details"}),q.jsxs("div",{className:"lesson-data flex gap-1",children:[q.jsx("input",{type:"text",placeholder:"Lesson ID",value:r.id,readOnly:!0}),q.jsx("input",{type:"text",placeholder:"Lesson Title",value:r.title,readOnly:!0}),q.jsx("input",{type:"text",placeholder:"Lesson Status",value:r.status,readOnly:!0}),q.jsx("button",{className:"bg-blue-400 text-white px-2 py-1 rounded",children:"Update"}),q.jsx("button",{className:"bg-green-600 text-white px-2 py-1 rounded",children:"Publish"})]})]}):q.jsx("div",{className:"bg-gray-700 p-1 rounded m-1 text-white text-center",children:"No lesson selected."})}function Kb({question:r,lessonId:e,levelId:i,onDelete:s}){const[u,h]=Te.useState(!1),[d,g]=Te.useState({...r}),_=N=>{g({...d,[N.target.name]:N.target.value})},v=N=>{const H=N.target.value.split(",").map($=>$.trim());g({...d,choices:H})},A=async()=>{try{const N=fs(mn,`levels/${i}/lessons/${e}/questions/${r.id}`);await l0(N,d),h(!1)}catch(N){console.error("Failed to update question:",N)}},R=async()=>{if(window.confirm("Are you sure you want to delete this question?"))try{const H=fs(mn,`levels/${i}/lessons/${e}/questions/${r.id}`);await Hd(H),s&&s()}catch(H){console.error("Failed to delete question:",H),alert("Error deleting question.")}};return q.jsxs("tr",{children:[q.jsx("td",{children:r.id}),q.jsx("td",{children:u?q.jsx("input",{type:"text",name:"content",value:d.content,onChange:_,className:"text-black px-1 w-full"}):r.content}),q.jsx("td",{children:u?q.jsx("input",{type:"text",name:"choices",value:d.choices.join(", "),onChange:v,className:"text-black px-1 w-full"}):r.choices.join(", ")}),q.jsx("td",{children:u?q.jsx("input",{type:"text",name:"correct_answer",value:d.correct_answer,onChange:_,className:"text-black px-1 w-full"}):r.correct_answer}),q.jsx("td",{children:r.image_url?q.jsx("img",{src:r.image_url,alt:"question",className:"w-5 h-5 object-cover"}):"No image"}),q.jsx("td",{children:u?q.jsx("button",{className:"text-blue-400",onClick:A,children:"Save"}):q.jsx("span",{className:"text-gray-500",children:"--"})}),q.jsx("td",{children:q.jsx("button",{className:"text-yellow-400",onClick:()=>h(!0),children:"Edit"})}),q.jsx("td",{children:q.jsx("button",{className:"text-red-400",onClick:R,children:"Delete"})})]})}function Xb(){const{selectedLesson:r}=Tc(),[e,i]=Te.useState([]);Te.useEffect(()=>{(async()=>{if(r!=null&&r.id){const h=await Gb(r.id);i(h)}else i([])})()},[r]);const s=u=>{i(e.filter(h=>h.id!==u))};return r?q.jsxs("div",{className:`questions-container bg-gray-700 p-1 rounded m-1 overflow-auto transition-all duration-300 ${e.length>0?"h-[500px]":"h-fit"}`,children:[q.jsx("p",{className:"text-white text-sm font-bold text-center mb-1",children:"Questions"}),q.jsx("div",{className:"questions-container",children:q.jsxs("table",{className:"w-full text-center text-white",children:[q.jsx("thead",{className:"bg-gray-600",children:q.jsxs("tr",{children:[q.jsx("th",{children:"ID"}),q.jsx("th",{children:"Question"}),q.jsx("th",{children:"Choices"}),q.jsx("th",{children:"Correct Answer"}),q.jsx("th",{children:"Image"}),q.jsx("th",{children:"Save"}),q.jsx("th",{children:"Edit"}),q.jsx("th",{children:"Delete"})]})}),q.jsx("tbody",{className:"divide-y divide-gray-600",style:{fontSize:".8rem"},children:e.map(u=>q.jsx(Kb,{question:u,lessonId:r.id,levelId:r.levelId,onDelete:()=>s(u.id)},u.id))})]})})]}):null}function Zb({lesson:r,level:e,onEdit:i,onDelete:s}){return q.jsx(q.Fragment,{children:q.jsxs("tr",{children:[q.jsx("td",{children:r.id}),q.jsx("td",{children:r.title}),q.jsx("td",{children:e}),q.jsx("td",{children:r.status}),q.jsx("td",{children:q.jsx("button",{className:"text-yellow-400",onClick:()=>i(r),children:"Edit"})}),q.jsx("td",{children:q.jsx("button",{className:"text-red-400",onClick:()=>s(r.id),children:"Delete"})})]})})}function $b(){const[r,e]=Te.useState(""),[i,s]=Te.useState("BASIC"),[u,h]=Te.useState([]),{selectLesson:d}=Tc();async function g(R){const N=R.trim();if(N===""){h([]);return}const H=await jb(N);if(H){h([H]);return}const $=await Pb(N);if($){h([$]);return}}async function _(R){if(!window.confirm("Are you sure you want to delete this lesson?"))return;await kb(R)?h($=>$.filter(it=>it.id!==R)):alert("Lesson not found or already deleted.")}async function v(){const R=A(i),N=await Ub(R);h(N.map(H=>({...H,levelId:R})))}function A(R){switch(R){case"BASIC":return Aa;case"INTERMEDIATE":return ps;case"ADVANCED":return ys;default:return Aa}}return q.jsx(q.Fragment,{children:q.jsxs("div",{className:"bg-gray-700 p-1 rounded m-1",children:[q.jsxs("div",{className:"flex gap-1 justify-center",children:[q.jsx("input",{type:"search",placeholder:"Search by title or id",className:"w-[300px]",value:r,onChange:R=>{e(R.target.value),g(R.target.value)}}),q.jsxs("select",{value:i,onChange:R=>s(R.target.value),children:[q.jsx("option",{value:"BASIC",children:"BASIC"}),q.jsx("option",{value:"INTERMEDIATE",children:"INTERMEDIATE"}),q.jsx("option",{value:"ADVANCED",children:"ADVANCED"})]}),q.jsx("button",{onClick:v,className:"bg-gray-400 hover:bg-green-600 px-2 py-1 rounded text-white",children:"Apply"})]}),q.jsx("div",{className:`searched-lessons-container overflow-auto transition-all duration-300 ${u.length>0?"h-[500px]":"h-fit"}`,children:q.jsxs("table",{className:"w-full text-white text-center mt-1",children:[q.jsx("thead",{className:"bg-gray-600",children:q.jsxs("tr",{children:[q.jsx("th",{children:"ID"}),q.jsx("th",{children:"Title"}),q.jsx("th",{children:"Level"}),q.jsx("th",{children:"Status"}),q.jsx("th",{children:"Edit"}),q.jsx("th",{children:"Delete"})]})}),q.jsx("tbody",{children:u.map((R,N)=>q.jsx(Zb,{lesson:R,level:i,onEdit:()=>{d(R),h([])},onDelete:_},N))})]})})]})})}function Jb({vocab:r,lessonId:e,levelId:i,onDelete:s}){const[u,h]=Te.useState(!1),[d,g]=Te.useState({...r}),_=R=>{g({...d,[R.target.name]:R.target.value})},v=async()=>{try{const R=fs(mn,`levels/${i}/lessons/${e}/vocabulary/${r.id}`);await l0(R,d),h(!1)}catch(R){console.error("Failed to update vocab:",R)}},A=async()=>{if(window.confirm("Are you sure you want to delete this vocabulary item?"))try{const N=fs(mn,`levels/${i}/lessons/${e}/vocabulary/${r.id}`);await Hd(N),s&&s()}catch(N){console.error("Failed to delete vocab:",N),alert("Error deleting vocabulary item.")}};return q.jsxs("tr",{className:"border-b border-gray-600",children:[q.jsx("td",{children:r.id}),q.jsx("td",{children:u?q.jsx("input",{type:"text",name:"word",value:d.word,onChange:_,className:"text-black px-1"}):r.word}),q.jsx("td",{children:u?q.jsx("input",{type:"text",name:"translated_word",value:d.translated_word,onChange:_,className:"text-black px-1"}):r.translated_word}),q.jsx("td",{children:u?q.jsx("input",{type:"text",name:"statement_example",value:d.statement_example,onChange:_,className:"text-black px-1"}):r.statement_example}),q.jsx("td",{children:u?q.jsx("input",{type:"text",name:"translated_statement_example",value:d.translated_statement_example,onChange:_,className:"text-black px-1"}):r.translated_statement_example}),q.jsx("td",{children:r.image_url?q.jsx("img",{src:r.image_url,alt:"vocab",className:"w-5 h-5 object-cover"}):"No image"}),q.jsx("td",{children:u?q.jsx("button",{className:"text-blue-400",onClick:v,children:"Save"}):q.jsx("span",{className:"text-gray-500",children:"--"})}),q.jsx("td",{children:q.jsx("button",{className:"text-yellow-400",onClick:()=>h(!0),children:"Edit"})}),q.jsx("td",{children:q.jsx("button",{className:"text-red-400",onClick:A,children:"Delete"})})]})}function Wb(){const{selectedLesson:r}=Tc(),[e,i]=Te.useState([]);Te.useEffect(()=>{(async()=>{if(r&&r.id){const h=await Hb(r.id);i(h)}else i([])})()},[r]);const s=u=>{i(e.filter(h=>h.id!==u))};return r?q.jsx(q.Fragment,{children:q.jsxs("div",{className:`vocab-container bg-gray-700 p-1 rounded m-1 overflow-auto transition-all duration-300 ${e.length>0?"h-[500px]":"h-fit"}`,children:[q.jsx("p",{className:"text-white text-sm font-bold text-center mb-1",children:"Vocabs"}),q.jsx("div",{className:"vocabs-container",children:q.jsxs("table",{className:"w-full text-center text-white",style:{fontSize:".8rem"},children:[q.jsx("thead",{className:"bg-gray-600",children:q.jsxs("tr",{children:[q.jsx("th",{children:"ID"}),q.jsx("th",{children:"Word"}),q.jsx("th",{children:"Word Translation"}),q.jsx("th",{children:"Statement"}),q.jsx("th",{children:"Statement Translation"}),q.jsx("th",{children:"Image"}),q.jsx("th",{children:"Save"}),q.jsx("th",{children:"Edit"}),q.jsx("th",{children:"Delete"})]})}),q.jsx("tbody",{children:e.map(u=>q.jsx(Jb,{vocab:u,lessonId:r.id,levelId:r.levelId,onDelete:()=>s(u.id)},u.id))})]})})]})}):null}function tR(){return q.jsx(q.Fragment,{children:q.jsxs(Fb,{children:[q.jsx(Qb,{}),q.jsx($b,{}),q.jsx(Yb,{}),q.jsx(Wb,{}),q.jsx(Xb,{})]})})}kE.createRoot(document.getElementById("root")).render(q.jsx(tR,{}));
